"use strict";var Mg=Object.create;var kn=Object.defineProperty;var Lg=Object.getOwnPropertyDescriptor;var Pg=Object.getOwnPropertyNames;var kg=Object.getPrototypeOf,Ng=Object.prototype.hasOwnProperty;var n=(e,t)=>kn(e,"name",{value:t,configurable:!0});var p=(e,t)=>()=>(e&&(t=e(e=0)),t);var oe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Wr=(e,t)=>{for(var r in t)kn(e,r,{get:t[r],enumerable:!0})},_c=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Pg(t))!Ng.call(e,a)&&a!==r&&kn(e,a,{get:()=>t[a],enumerable:!(o=Lg(t,a))||o.enumerable});return e};var Nn=(e,t,r)=>(r=e!=null?Mg(kg(e)):{},_c(t||!e||!e.__esModule?kn(r,"default",{value:e,enumerable:!0}):r,e)),Fg=e=>_c(kn({},"__esModule",{value:!0}),e);var hc=oe(Ns=>{var gc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");Ns.encode=function(e){if(0<=e&&e<gc.length)return gc[e];throw new TypeError("Must be between 0 and 63: "+e)};Ns.decode=function(e){var t=65,r=90,o=97,a=122,u=48,i=57,s=43,l=47,c=26,m=52;return t<=e&&e<=r?e-t:o<=e&&e<=a?e-o+c:u<=e&&e<=i?e-u+m:e==s?62:e==l?63:-1}});var Os=oe(Cs=>{var bc=hc(),Fs=5,yc=1<<Fs,Ic=yc-1,xc=yc;function Cg(e){return e<0?(-e<<1)+1:(e<<1)+0}n(Cg,"toVLQSigned");function Og(e){var t=(e&1)===1,r=e>>1;return t?-r:r}n(Og,"fromVLQSigned");Cs.encode=n(function(t){var r="",o,a=Cg(t);do o=a&Ic,a>>>=Fs,a>0&&(o|=xc),r+=bc.encode(o);while(a>0);return r},"base64VLQ_encode");Cs.decode=n(function(t,r,o){var a=t.length,u=0,i=0,s,l;do{if(r>=a)throw new Error("Expected more digits in base 64 VLQ value.");if(l=bc.decode(t.charCodeAt(r++)),l===-1)throw new Error("Invalid base64 digit: "+t.charAt(r-1));s=!!(l&xc),l&=Ic,u=u+(l<<i),i+=Fs}while(s);o.value=Og(u),o.rest=r},"base64VLQ_decode")});var Hr=oe(Ee=>{function Rg(e,t,r){if(t in e)return e[t];if(arguments.length===3)return r;throw new Error('"'+t+'" is a required argument.')}n(Rg,"getArg");Ee.getArg=Rg;var wc=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,Ag=/^data:.+\,.+$/;function Fn(e){var t=e.match(wc);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}n(Fn,"urlParse");Ee.urlParse=Fn;function $r(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}n($r,"urlGenerate");Ee.urlGenerate=$r;function Rs(e){var t=e,r=Fn(e);if(r){if(!r.path)return e;t=r.path}for(var o=Ee.isAbsolute(t),a=t.split(/\/+/),u,i=0,s=a.length-1;s>=0;s--)u=a[s],u==="."?a.splice(s,1):u===".."?i++:i>0&&(u===""?(a.splice(s+1,i),i=0):(a.splice(s,2),i--));return t=a.join("/"),t===""&&(t=o?"/":"."),r?(r.path=t,$r(r)):t}n(Rs,"normalize");Ee.normalize=Rs;function Sc(e,t){e===""&&(e="."),t===""&&(t=".");var r=Fn(t),o=Fn(e);if(o&&(e=o.path||"/"),r&&!r.scheme)return o&&(r.scheme=o.scheme),$r(r);if(r||t.match(Ag))return t;if(o&&!o.host&&!o.path)return o.host=t,$r(o);var a=t.charAt(0)==="/"?t:Rs(e.replace(/\/+$/,"")+"/"+t);return o?(o.path=a,$r(o)):a}n(Sc,"join");Ee.join=Sc;Ee.isAbsolute=function(e){return e.charAt(0)==="/"||wc.test(e)};function Ug(e,t){e===""&&(e="."),e=e.replace(/\/$/,"");for(var r=0;t.indexOf(e+"/")!==0;){var o=e.lastIndexOf("/");if(o<0||(e=e.slice(0,o),e.match(/^([^\/]+:\/)?\/*$/)))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)}n(Ug,"relative");Ee.relative=Ug;var Ec=function(){var e=Object.create(null);return!("__proto__"in e)}();function Tc(e){return e}n(Tc,"identity");function Bg(e){return vc(e)?"$"+e:e}n(Bg,"toSetString");Ee.toSetString=Ec?Tc:Bg;function Dg(e){return vc(e)?e.slice(1):e}n(Dg,"fromSetString");Ee.fromSetString=Ec?Tc:Dg;function vc(e){if(!e)return!1;var t=e.length;if(t<9||e.charCodeAt(t-1)!==95||e.charCodeAt(t-2)!==95||e.charCodeAt(t-3)!==111||e.charCodeAt(t-4)!==116||e.charCodeAt(t-5)!==111||e.charCodeAt(t-6)!==114||e.charCodeAt(t-7)!==112||e.charCodeAt(t-8)!==95||e.charCodeAt(t-9)!==95)return!1;for(var r=t-10;r>=0;r--)if(e.charCodeAt(r)!==36)return!1;return!0}n(vc,"isProtoString");function jg(e,t,r){var o=zr(e.source,t.source);return o!==0||(o=e.originalLine-t.originalLine,o!==0)||(o=e.originalColumn-t.originalColumn,o!==0||r)||(o=e.generatedColumn-t.generatedColumn,o!==0)||(o=e.generatedLine-t.generatedLine,o!==0)?o:zr(e.name,t.name)}n(jg,"compareByOriginalPositions");Ee.compareByOriginalPositions=jg;function Kg(e,t,r){var o=e.generatedLine-t.generatedLine;return o!==0||(o=e.generatedColumn-t.generatedColumn,o!==0||r)||(o=zr(e.source,t.source),o!==0)||(o=e.originalLine-t.originalLine,o!==0)||(o=e.originalColumn-t.originalColumn,o!==0)?o:zr(e.name,t.name)}n(Kg,"compareByGeneratedPositionsDeflated");Ee.compareByGeneratedPositionsDeflated=Kg;function zr(e,t){return e===t?0:e===null?1:t===null?-1:e>t?1:-1}n(zr,"strcmp");function Gg(e,t){var r=e.generatedLine-t.generatedLine;return r!==0||(r=e.generatedColumn-t.generatedColumn,r!==0)||(r=zr(e.source,t.source),r!==0)||(r=e.originalLine-t.originalLine,r!==0)||(r=e.originalColumn-t.originalColumn,r!==0)?r:zr(e.name,t.name)}n(Gg,"compareByGeneratedPositionsInflated");Ee.compareByGeneratedPositionsInflated=Gg;function Vg(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}n(Vg,"parseSourceMapInput");Ee.parseSourceMapInput=Vg;function Wg(e,t,r){if(t=t||"",e&&(e[e.length-1]!=="/"&&t[0]!=="/"&&(e+="/"),t=e+t),r){var o=Fn(r);if(!o)throw new Error("sourceMapURL could not be parsed");if(o.path){var a=o.path.lastIndexOf("/");a>=0&&(o.path=o.path.substring(0,a+1))}t=Sc($r(o),t)}return Rs(t)}n(Wg,"computeSourceURL");Ee.computeSourceURL=Wg});var Bs=oe(Mc=>{var As=Hr(),Us=Object.prototype.hasOwnProperty,xr=typeof Map<"u";function Ot(){this._array=[],this._set=xr?new Map:Object.create(null)}n(Ot,"ArraySet");Ot.fromArray=n(function(t,r){for(var o=new Ot,a=0,u=t.length;a<u;a++)o.add(t[a],r);return o},"ArraySet_fromArray");Ot.prototype.size=n(function(){return xr?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size");Ot.prototype.add=n(function(t,r){var o=xr?t:As.toSetString(t),a=xr?this.has(t):Us.call(this._set,o),u=this._array.length;(!a||r)&&this._array.push(t),a||(xr?this._set.set(t,u):this._set[o]=u)},"ArraySet_add");Ot.prototype.has=n(function(t){if(xr)return this._set.has(t);var r=As.toSetString(t);return Us.call(this._set,r)},"ArraySet_has");Ot.prototype.indexOf=n(function(t){if(xr){var r=this._set.get(t);if(r>=0)return r}else{var o=As.toSetString(t);if(Us.call(this._set,o))return this._set[o]}throw new Error('"'+t+'" is not in the set.')},"ArraySet_indexOf");Ot.prototype.at=n(function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},"ArraySet_at");Ot.prototype.toArray=n(function(){return this._array.slice()},"ArraySet_toArray");Mc.ArraySet=Ot});var kc=oe(Pc=>{var Lc=Hr();function $g(e,t){var r=e.generatedLine,o=t.generatedLine,a=e.generatedColumn,u=t.generatedColumn;return o>r||o==r&&u>=a||Lc.compareByGeneratedPositionsInflated(e,t)<=0}n($g,"generatedPositionAfter");function Fo(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}n(Fo,"MappingList");Fo.prototype.unsortedForEach=n(function(t,r){this._array.forEach(t,r)},"MappingList_forEach");Fo.prototype.add=n(function(t){$g(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},"MappingList_add");Fo.prototype.toArray=n(function(){return this._sorted||(this._array.sort(Lc.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray");Pc.MappingList=Fo});var Ds=oe(Nc=>{var Cn=Os(),le=Hr(),Co=Bs().ArraySet,zg=kc().MappingList;function qe(e){e||(e={}),this._file=le.getArg(e,"file",null),this._sourceRoot=le.getArg(e,"sourceRoot",null),this._skipValidation=le.getArg(e,"skipValidation",!1),this._sources=new Co,this._names=new Co,this._mappings=new zg,this._sourcesContents=null}n(qe,"SourceMapGenerator");qe.prototype._version=3;qe.fromSourceMap=n(function(t){var r=t.sourceRoot,o=new qe({file:t.file,sourceRoot:r});return t.eachMapping(function(a){var u={generated:{line:a.generatedLine,column:a.generatedColumn}};a.source!=null&&(u.source=a.source,r!=null&&(u.source=le.relative(r,u.source)),u.original={line:a.originalLine,column:a.originalColumn},a.name!=null&&(u.name=a.name)),o.addMapping(u)}),t.sources.forEach(function(a){var u=a;r!==null&&(u=le.relative(r,a)),o._sources.has(u)||o._sources.add(u);var i=t.sourceContentFor(a);i!=null&&o.setSourceContent(a,i)}),o},"SourceMapGenerator_fromSourceMap");qe.prototype.addMapping=n(function(t){var r=le.getArg(t,"generated"),o=le.getArg(t,"original",null),a=le.getArg(t,"source",null),u=le.getArg(t,"name",null);this._skipValidation||this._validateMapping(r,o,a,u),a!=null&&(a=String(a),this._sources.has(a)||this._sources.add(a)),u!=null&&(u=String(u),this._names.has(u)||this._names.add(u)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:o!=null&&o.line,originalColumn:o!=null&&o.column,source:a,name:u})},"SourceMapGenerator_addMapping");qe.prototype.setSourceContent=n(function(t,r){var o=t;this._sourceRoot!=null&&(o=le.relative(this._sourceRoot,o)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[le.toSetString(o)]=r):this._sourcesContents&&(delete this._sourcesContents[le.toSetString(o)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent");qe.prototype.applySourceMap=n(function(t,r,o){var a=r;if(r==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);a=t.file}var u=this._sourceRoot;u!=null&&(a=le.relative(u,a));var i=new Co,s=new Co;this._mappings.unsortedForEach(function(l){if(l.source===a&&l.originalLine!=null){var c=t.originalPositionFor({line:l.originalLine,column:l.originalColumn});c.source!=null&&(l.source=c.source,o!=null&&(l.source=le.join(o,l.source)),u!=null&&(l.source=le.relative(u,l.source)),l.originalLine=c.line,l.originalColumn=c.column,c.name!=null&&(l.name=c.name))}var m=l.source;m!=null&&!i.has(m)&&i.add(m);var d=l.name;d!=null&&!s.has(d)&&s.add(d)},this),this._sources=i,this._names=s,t.sources.forEach(function(l){var c=t.sourceContentFor(l);c!=null&&(o!=null&&(l=le.join(o,l)),u!=null&&(l=le.relative(u,l)),this.setSourceContent(l,c))},this)},"SourceMapGenerator_applySourceMap");qe.prototype._validateMapping=n(function(t,r,o,a){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!r&&!o&&!a)){if(t&&"line"in t&&"column"in t&&r&&"line"in r&&"column"in r&&t.line>0&&t.column>=0&&r.line>0&&r.column>=0&&o)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:o,original:r,name:a}))}},"SourceMapGenerator_validateMapping");qe.prototype._serializeMappings=n(function(){for(var t=0,r=1,o=0,a=0,u=0,i=0,s="",l,c,m,d,f=this._mappings.toArray(),g=0,h=f.length;g<h;g++){if(c=f[g],l="",c.generatedLine!==r)for(t=0;c.generatedLine!==r;)l+=";",r++;else if(g>0){if(!le.compareByGeneratedPositionsInflated(c,f[g-1]))continue;l+=","}l+=Cn.encode(c.generatedColumn-t),t=c.generatedColumn,c.source!=null&&(d=this._sources.indexOf(c.source),l+=Cn.encode(d-i),i=d,l+=Cn.encode(c.originalLine-1-a),a=c.originalLine-1,l+=Cn.encode(c.originalColumn-o),o=c.originalColumn,c.name!=null&&(m=this._names.indexOf(c.name),l+=Cn.encode(m-u),u=m)),s+=l}return s},"SourceMapGenerator_serializeMappings");qe.prototype._generateSourcesContent=n(function(t,r){return t.map(function(o){if(!this._sourcesContents)return null;r!=null&&(o=le.relative(r,o));var a=le.toSetString(o);return Object.prototype.hasOwnProperty.call(this._sourcesContents,a)?this._sourcesContents[a]:null},this)},"SourceMapGenerator_generateSourcesContent");qe.prototype.toJSON=n(function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},"SourceMapGenerator_toJSON");qe.prototype.toString=n(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString");Nc.SourceMapGenerator=qe});var Fc=oe(wr=>{wr.GREATEST_LOWER_BOUND=1;wr.LEAST_UPPER_BOUND=2;function js(e,t,r,o,a,u){var i=Math.floor((t-e)/2)+e,s=a(r,o[i],!0);return s===0?i:s>0?t-i>1?js(i,t,r,o,a,u):u==wr.LEAST_UPPER_BOUND?t<o.length?t:-1:i:i-e>1?js(e,i,r,o,a,u):u==wr.LEAST_UPPER_BOUND?i:e<0?-1:e}n(js,"recursiveSearch");wr.search=n(function(t,r,o,a){if(r.length===0)return-1;var u=js(-1,r.length,t,r,o,a||wr.GREATEST_LOWER_BOUND);if(u<0)return-1;for(;u-1>=0&&o(r[u],r[u-1],!0)===0;)--u;return u},"search")});var Oc=oe(Cc=>{function Ks(e,t,r){var o=e[t];e[t]=e[r],e[r]=o}n(Ks,"swap");function Hg(e,t){return Math.round(e+Math.random()*(t-e))}n(Hg,"randomIntInRange");function Gs(e,t,r,o){if(r<o){var a=Hg(r,o),u=r-1;Ks(e,a,o);for(var i=e[o],s=r;s<o;s++)t(e[s],i)<=0&&(u+=1,Ks(e,u,s));Ks(e,u+1,s);var l=u+1;Gs(e,t,r,l-1),Gs(e,t,l+1,o)}}n(Gs,"doQuickSort");Cc.quickSort=function(e,t){Gs(e,t,0,e.length-1)}});var Ac=oe(Oo=>{var v=Hr(),Vs=Fc(),qr=Bs().ArraySet,qg=Os(),On=Oc().quickSort;function X(e,t){var r=e;return typeof e=="string"&&(r=v.parseSourceMapInput(e)),r.sections!=null?new ot(r,t):new Ie(r,t)}n(X,"SourceMapConsumer");X.fromSourceMap=function(e,t){return Ie.fromSourceMap(e,t)};X.prototype._version=3;X.prototype.__generatedMappings=null;Object.defineProperty(X.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:n(function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings},"get")});X.prototype.__originalMappings=null;Object.defineProperty(X.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:n(function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings},"get")});X.prototype._charIsMappingSeparator=n(function(t,r){var o=t.charAt(r);return o===";"||o===","},"SourceMapConsumer_charIsMappingSeparator");X.prototype._parseMappings=n(function(t,r){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings");X.GENERATED_ORDER=1;X.ORIGINAL_ORDER=2;X.GREATEST_LOWER_BOUND=1;X.LEAST_UPPER_BOUND=2;X.prototype.eachMapping=n(function(t,r,o){var a=r||null,u=o||X.GENERATED_ORDER,i;switch(u){case X.GENERATED_ORDER:i=this._generatedMappings;break;case X.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var s=this.sourceRoot;i.map(function(l){var c=l.source===null?null:this._sources.at(l.source);return c=v.computeSourceURL(s,c,this._sourceMapURL),{source:c,generatedLine:l.generatedLine,generatedColumn:l.generatedColumn,originalLine:l.originalLine,originalColumn:l.originalColumn,name:l.name===null?null:this._names.at(l.name)}},this).forEach(t,a)},"SourceMapConsumer_eachMapping");X.prototype.allGeneratedPositionsFor=n(function(t){var r=v.getArg(t,"line"),o={source:v.getArg(t,"source"),originalLine:r,originalColumn:v.getArg(t,"column",0)};if(o.source=this._findSourceIndex(o.source),o.source<0)return[];var a=[],u=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",v.compareByOriginalPositions,Vs.LEAST_UPPER_BOUND);if(u>=0){var i=this._originalMappings[u];if(t.column===void 0)for(var s=i.originalLine;i&&i.originalLine===s;)a.push({line:v.getArg(i,"generatedLine",null),column:v.getArg(i,"generatedColumn",null),lastColumn:v.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++u];else for(var l=i.originalColumn;i&&i.originalLine===r&&i.originalColumn==l;)a.push({line:v.getArg(i,"generatedLine",null),column:v.getArg(i,"generatedColumn",null),lastColumn:v.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++u]}return a},"SourceMapConsumer_allGeneratedPositionsFor");Oo.SourceMapConsumer=X;function Ie(e,t){var r=e;typeof e=="string"&&(r=v.parseSourceMapInput(e));var o=v.getArg(r,"version"),a=v.getArg(r,"sources"),u=v.getArg(r,"names",[]),i=v.getArg(r,"sourceRoot",null),s=v.getArg(r,"sourcesContent",null),l=v.getArg(r,"mappings"),c=v.getArg(r,"file",null);if(o!=this._version)throw new Error("Unsupported version: "+o);i&&(i=v.normalize(i)),a=a.map(String).map(v.normalize).map(function(m){return i&&v.isAbsolute(i)&&v.isAbsolute(m)?v.relative(i,m):m}),this._names=qr.fromArray(u.map(String),!0),this._sources=qr.fromArray(a,!0),this._absoluteSources=this._sources.toArray().map(function(m){return v.computeSourceURL(i,m,t)}),this.sourceRoot=i,this.sourcesContent=s,this._mappings=l,this._sourceMapURL=t,this.file=c}n(Ie,"BasicSourceMapConsumer");Ie.prototype=Object.create(X.prototype);Ie.prototype.consumer=X;Ie.prototype._findSourceIndex=function(e){var t=e;if(this.sourceRoot!=null&&(t=v.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==e)return r;return-1};Ie.fromSourceMap=n(function(t,r){var o=Object.create(Ie.prototype),a=o._names=qr.fromArray(t._names.toArray(),!0),u=o._sources=qr.fromArray(t._sources.toArray(),!0);o.sourceRoot=t._sourceRoot,o.sourcesContent=t._generateSourcesContent(o._sources.toArray(),o.sourceRoot),o.file=t._file,o._sourceMapURL=r,o._absoluteSources=o._sources.toArray().map(function(g){return v.computeSourceURL(o.sourceRoot,g,r)});for(var i=t._mappings.toArray().slice(),s=o.__generatedMappings=[],l=o.__originalMappings=[],c=0,m=i.length;c<m;c++){var d=i[c],f=new Rc;f.generatedLine=d.generatedLine,f.generatedColumn=d.generatedColumn,d.source&&(f.source=u.indexOf(d.source),f.originalLine=d.originalLine,f.originalColumn=d.originalColumn,d.name&&(f.name=a.indexOf(d.name)),l.push(f)),s.push(f)}return On(o.__originalMappings,v.compareByOriginalPositions),o},"SourceMapConsumer_fromSourceMap");Ie.prototype._version=3;Object.defineProperty(Ie.prototype,"sources",{get:n(function(){return this._absoluteSources.slice()},"get")});function Rc(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}n(Rc,"Mapping");Ie.prototype._parseMappings=n(function(t,r){for(var o=1,a=0,u=0,i=0,s=0,l=0,c=t.length,m=0,d={},f={},g=[],h=[],I,x,w,N,M;m<c;)if(t.charAt(m)===";")o++,m++,a=0;else if(t.charAt(m)===",")m++;else{for(I=new Rc,I.generatedLine=o,N=m;N<c&&!this._charIsMappingSeparator(t,N);N++);if(x=t.slice(m,N),w=d[x],w)m+=x.length;else{for(w=[];m<N;)qg.decode(t,m,f),M=f.value,m=f.rest,w.push(M);if(w.length===2)throw new Error("Found a source, but no line and column");if(w.length===3)throw new Error("Found a source and line, but no column");d[x]=w}I.generatedColumn=a+w[0],a=I.generatedColumn,w.length>1&&(I.source=s+w[1],s+=w[1],I.originalLine=u+w[2],u=I.originalLine,I.originalLine+=1,I.originalColumn=i+w[3],i=I.originalColumn,w.length>4&&(I.name=l+w[4],l+=w[4])),h.push(I),typeof I.originalLine=="number"&&g.push(I)}On(h,v.compareByGeneratedPositionsDeflated),this.__generatedMappings=h,On(g,v.compareByOriginalPositions),this.__originalMappings=g},"SourceMapConsumer_parseMappings");Ie.prototype._findMapping=n(function(t,r,o,a,u,i){if(t[o]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[o]);if(t[a]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[a]);return Vs.search(t,r,u,i)},"SourceMapConsumer_findMapping");Ie.prototype.computeColumnSpans=n(function(){for(var t=0;t<this._generatedMappings.length;++t){var r=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var o=this._generatedMappings[t+1];if(r.generatedLine===o.generatedLine){r.lastGeneratedColumn=o.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans");Ie.prototype.originalPositionFor=n(function(t){var r={generatedLine:v.getArg(t,"line"),generatedColumn:v.getArg(t,"column")},o=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",v.compareByGeneratedPositionsDeflated,v.getArg(t,"bias",X.GREATEST_LOWER_BOUND));if(o>=0){var a=this._generatedMappings[o];if(a.generatedLine===r.generatedLine){var u=v.getArg(a,"source",null);u!==null&&(u=this._sources.at(u),u=v.computeSourceURL(this.sourceRoot,u,this._sourceMapURL));var i=v.getArg(a,"name",null);return i!==null&&(i=this._names.at(i)),{source:u,line:v.getArg(a,"originalLine",null),column:v.getArg(a,"originalColumn",null),name:i}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor");Ie.prototype.hasContentsOfAllSources=n(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return t==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources");Ie.prototype.sourceContentFor=n(function(t,r){if(!this.sourcesContent)return null;var o=this._findSourceIndex(t);if(o>=0)return this.sourcesContent[o];var a=t;this.sourceRoot!=null&&(a=v.relative(this.sourceRoot,a));var u;if(this.sourceRoot!=null&&(u=v.urlParse(this.sourceRoot))){var i=a.replace(/^file:\/\//,"");if(u.scheme=="file"&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!u.path||u.path=="/")&&this._sources.has("/"+a))return this.sourcesContent[this._sources.indexOf("/"+a)]}if(r)return null;throw new Error('"'+a+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor");Ie.prototype.generatedPositionFor=n(function(t){var r=v.getArg(t,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var o={source:r,originalLine:v.getArg(t,"line"),originalColumn:v.getArg(t,"column")},a=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",v.compareByOriginalPositions,v.getArg(t,"bias",X.GREATEST_LOWER_BOUND));if(a>=0){var u=this._originalMappings[a];if(u.source===o.source)return{line:v.getArg(u,"generatedLine",null),column:v.getArg(u,"generatedColumn",null),lastColumn:v.getArg(u,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor");Oo.BasicSourceMapConsumer=Ie;function ot(e,t){var r=e;typeof e=="string"&&(r=v.parseSourceMapInput(e));var o=v.getArg(r,"version"),a=v.getArg(r,"sections");if(o!=this._version)throw new Error("Unsupported version: "+o);this._sources=new qr,this._names=new qr;var u={line:-1,column:0};this._sections=a.map(function(i){if(i.url)throw new Error("Support for url field in sections not implemented.");var s=v.getArg(i,"offset"),l=v.getArg(s,"line"),c=v.getArg(s,"column");if(l<u.line||l===u.line&&c<u.column)throw new Error("Section offsets must be ordered and non-overlapping.");return u=s,{generatedOffset:{generatedLine:l+1,generatedColumn:c+1},consumer:new X(v.getArg(i,"map"),t)}})}n(ot,"IndexedSourceMapConsumer");ot.prototype=Object.create(X.prototype);ot.prototype.constructor=X;ot.prototype._version=3;Object.defineProperty(ot.prototype,"sources",{get:n(function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e},"get")});ot.prototype.originalPositionFor=n(function(t){var r={generatedLine:v.getArg(t,"line"),generatedColumn:v.getArg(t,"column")},o=Vs.search(r,this._sections,function(u,i){var s=u.generatedLine-i.generatedOffset.generatedLine;return s||u.generatedColumn-i.generatedOffset.generatedColumn}),a=this._sections[o];return a?a.consumer.originalPositionFor({line:r.generatedLine-(a.generatedOffset.generatedLine-1),column:r.generatedColumn-(a.generatedOffset.generatedLine===r.generatedLine?a.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor");ot.prototype.hasContentsOfAllSources=n(function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources");ot.prototype.sourceContentFor=n(function(t,r){for(var o=0;o<this._sections.length;o++){var a=this._sections[o],u=a.consumer.sourceContentFor(t,!0);if(u)return u}if(r)return null;throw new Error('"'+t+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor");ot.prototype.generatedPositionFor=n(function(t){for(var r=0;r<this._sections.length;r++){var o=this._sections[r];if(o.consumer._findSourceIndex(v.getArg(t,"source"))!==-1){var a=o.consumer.generatedPositionFor(t);if(a){var u={line:a.line+(o.generatedOffset.generatedLine-1),column:a.column+(o.generatedOffset.generatedLine===a.line?o.generatedOffset.generatedColumn-1:0)};return u}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor");ot.prototype._parseMappings=n(function(t,r){this.__generatedMappings=[],this.__originalMappings=[];for(var o=0;o<this._sections.length;o++)for(var a=this._sections[o],u=a.consumer._generatedMappings,i=0;i<u.length;i++){var s=u[i],l=a.consumer._sources.at(s.source);l=v.computeSourceURL(a.consumer.sourceRoot,l,this._sourceMapURL),this._sources.add(l),l=this._sources.indexOf(l);var c=null;s.name&&(c=a.consumer._names.at(s.name),this._names.add(c),c=this._names.indexOf(c));var m={source:l,generatedLine:s.generatedLine+(a.generatedOffset.generatedLine-1),generatedColumn:s.generatedColumn+(a.generatedOffset.generatedLine===s.generatedLine?a.generatedOffset.generatedColumn-1:0),originalLine:s.originalLine,originalColumn:s.originalColumn,name:c};this.__generatedMappings.push(m),typeof m.originalLine=="number"&&this.__originalMappings.push(m)}On(this.__generatedMappings,v.compareByGeneratedPositionsDeflated),On(this.__originalMappings,v.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings");Oo.IndexedSourceMapConsumer=ot});var Bc=oe(Uc=>{var Zg=Ds().SourceMapGenerator,Ro=Hr(),Jg=/(\r?\n)/,Xg=10,Zr="$$$isSourceNode$$$";function Be(e,t,r,o,a){this.children=[],this.sourceContents={},this.line=e==null?null:e,this.column=t==null?null:t,this.source=r==null?null:r,this.name=a==null?null:a,this[Zr]=!0,o!=null&&this.add(o)}n(Be,"SourceNode");Be.fromStringWithSourceMap=n(function(t,r,o){var a=new Be,u=t.split(Jg),i=0,s=n(function(){var f=h(),g=h()||"";return f+g;function h(){return i<u.length?u[i++]:void 0}},"shiftNextLine"),l=1,c=0,m=null;return r.eachMapping(function(f){if(m!==null)if(l<f.generatedLine)d(m,s()),l++,c=0;else{var g=u[i]||"",h=g.substr(0,f.generatedColumn-c);u[i]=g.substr(f.generatedColumn-c),c=f.generatedColumn,d(m,h),m=f;return}for(;l<f.generatedLine;)a.add(s()),l++;if(c<f.generatedColumn){var g=u[i]||"";a.add(g.substr(0,f.generatedColumn)),u[i]=g.substr(f.generatedColumn),c=f.generatedColumn}m=f},this),i<u.length&&(m&&d(m,s()),a.add(u.splice(i).join(""))),r.sources.forEach(function(f){var g=r.sourceContentFor(f);g!=null&&(o!=null&&(f=Ro.join(o,f)),a.setSourceContent(f,g))}),a;function d(f,g){if(f===null||f.source===void 0)a.add(g);else{var h=o?Ro.join(o,f.source):f.source;a.add(new Be(f.originalLine,f.originalColumn,h,g,f.name))}}n(d,"addMappingWithCode")},"SourceNode_fromStringWithSourceMap");Be.prototype.add=n(function(t){if(Array.isArray(t))t.forEach(function(r){this.add(r)},this);else if(t[Zr]||typeof t=="string")t&&this.children.push(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_add");Be.prototype.prepend=n(function(t){if(Array.isArray(t))for(var r=t.length-1;r>=0;r--)this.prepend(t[r]);else if(t[Zr]||typeof t=="string")this.children.unshift(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_prepend");Be.prototype.walk=n(function(t){for(var r,o=0,a=this.children.length;o<a;o++)r=this.children[o],r[Zr]?r.walk(t):r!==""&&t(r,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk");Be.prototype.join=n(function(t){var r,o,a=this.children.length;if(a>0){for(r=[],o=0;o<a-1;o++)r.push(this.children[o]),r.push(t);r.push(this.children[o]),this.children=r}return this},"SourceNode_join");Be.prototype.replaceRight=n(function(t,r){var o=this.children[this.children.length-1];return o[Zr]?o.replaceRight(t,r):typeof o=="string"?this.children[this.children.length-1]=o.replace(t,r):this.children.push("".replace(t,r)),this},"SourceNode_replaceRight");Be.prototype.setSourceContent=n(function(t,r){this.sourceContents[Ro.toSetString(t)]=r},"SourceNode_setSourceContent");Be.prototype.walkSourceContents=n(function(t){for(var r=0,o=this.children.length;r<o;r++)this.children[r][Zr]&&this.children[r].walkSourceContents(t);for(var a=Object.keys(this.sourceContents),r=0,o=a.length;r<o;r++)t(Ro.fromSetString(a[r]),this.sourceContents[a[r]])},"SourceNode_walkSourceContents");Be.prototype.toString=n(function(){var t="";return this.walk(function(r){t+=r}),t},"SourceNode_toString");Be.prototype.toStringWithSourceMap=n(function(t){var r={code:"",line:1,column:0},o=new Zg(t),a=!1,u=null,i=null,s=null,l=null;return this.walk(function(c,m){r.code+=c,m.source!==null&&m.line!==null&&m.column!==null?((u!==m.source||i!==m.line||s!==m.column||l!==m.name)&&o.addMapping({source:m.source,original:{line:m.line,column:m.column},generated:{line:r.line,column:r.column},name:m.name}),u=m.source,i=m.line,s=m.column,l=m.name,a=!0):a&&(o.addMapping({generated:{line:r.line,column:r.column}}),u=null,a=!1);for(var d=0,f=c.length;d<f;d++)c.charCodeAt(d)===Xg?(r.line++,r.column=0,d+1===f?(u=null,a=!1):a&&o.addMapping({source:m.source,original:{line:m.line,column:m.column},generated:{line:r.line,column:r.column},name:m.name})):r.column++}),this.walkSourceContents(function(c,m){o.setSourceContent(c,m)}),{code:r.code,map:o}},"SourceNode_toStringWithSourceMap");Uc.SourceNode=Be});var Dc=oe(Ao=>{Ao.SourceMapGenerator=Ds().SourceMapGenerator;Ao.SourceMapConsumer=Ac().SourceMapConsumer;Ao.SourceNode=Bc().SourceNode});var Kc=oe((mE,jc)=>{var Yg=Object.prototype.toString,Ws=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function Qg(e){return Yg.call(e).slice(8,-1)==="ArrayBuffer"}n(Qg,"isArrayBuffer");function eh(e,t,r){t>>>=0;var o=e.byteLength-t;if(o<0)throw new RangeError("'offset' is out of bounds");if(r===void 0)r=o;else if(r>>>=0,r>o)throw new RangeError("'length' is out of bounds");return Ws?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}n(eh,"fromArrayBuffer");function th(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return Ws?Buffer.from(e,t):new Buffer(e,t)}n(th,"fromString");function rh(e,t,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return Qg(e)?eh(e,t,r):typeof e=="string"?th(e,t):Ws?Buffer.from(e):new Buffer(e)}n(rh,"bufferFrom");jc.exports=rh});var Zc=oe((Er,qs)=>{var nh=Dc().SourceMapConsumer,$s=require("path"),It;try{It=require("fs"),(!It.existsSync||!It.readFileSync)&&(It=null)}catch{}var oh=Kc();function Gc(e,t){return e.require(t)}n(Gc,"dynamicRequire");var Vc=!1,Wc=!1,zs=!1,Rn="auto",Sr={},An={},ih=/^data:application\/json[^,]+base64,/,Jt=[],Xt=[];function Zs(){return Rn==="browser"?!0:Rn==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}n(Zs,"isInBrowser");function sh(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}n(sh,"hasGlobalProcessEventEmitter");function ah(){return typeof process=="object"&&process!==null?process.version:""}n(ah,"globalProcessVersion");function uh(){if(typeof process=="object"&&process!==null)return process.stderr}n(uh,"globalProcessStderr");function lh(e){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(e)}n(lh,"globalProcessExit");function Uo(e){return function(t){for(var r=0;r<e.length;r++){var o=e[r](t);if(o)return o}return null}}n(Uo,"handlerExec");var Js=Uo(Jt);Jt.push(function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,function(o,a){return a?"":"/"})),e in Sr)return Sr[e];var t="";try{if(It)It.existsSync(e)&&(t=It.readFileSync(e,"utf8"));else{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),r.readyState===4&&r.status===200&&(t=r.responseText)}}catch{}return Sr[e]=t});function Hs(e,t){if(!e)return t;var r=$s.dirname(e),o=/^\w+:\/\/[^\/]*/.exec(r),a=o?o[0]:"",u=r.slice(a.length);return a&&/^\/\w\:/.test(u)?(a+="/",a+$s.resolve(r.slice(a.length),t).replace(/\\/g,"/")):a+$s.resolve(r.slice(a.length),t)}n(Hs,"supportRelativeURL");function ch(e){var t;if(Zs())try{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),t=r.readyState===4?r.responseText:null;var o=r.getResponseHeader("SourceMap")||r.getResponseHeader("X-SourceMap");if(o)return o}catch{}t=Js(e);for(var a=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,u,i;i=a.exec(t);)u=i;return u?u[1]:null}n(ch,"retrieveSourceMapURL");var Xs=Uo(Xt);Xt.push(function(e){var t=ch(e);if(!t)return null;var r;if(ih.test(t)){var o=t.slice(t.indexOf(",")+1);r=oh(o,"base64").toString(),t=e}else t=Hs(e,t),r=Js(t);return r?{url:t,map:r}:null});function Ys(e){var t=An[e.source];if(!t){var r=Xs(e.source);r?(t=An[e.source]={url:r.url,map:new nh(r.map)},t.map.sourcesContent&&t.map.sources.forEach(function(a,u){var i=t.map.sourcesContent[u];if(i){var s=Hs(t.url,a);Sr[s]=i}})):t=An[e.source]={url:null,map:null}}if(t&&t.map&&typeof t.map.originalPositionFor=="function"){var o=t.map.originalPositionFor(e);if(o.source!==null)return o.source=Hs(t.url,o.source),o}return e}n(Ys,"mapSourcePosition");function zc(e){var t=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(t){var r=Ys({source:t[2],line:+t[3],column:t[4]-1});return"eval at "+t[1]+" ("+r.source+":"+r.line+":"+(r.column+1)+")"}return t=/^eval at ([^(]+) \((.+)\)$/.exec(e),t?"eval at "+t[1]+" ("+zc(t[2])+")":e}n(zc,"mapEvalOrigin");function mh(){var e,t="";if(this.isNative())t="native";else{e=this.getScriptNameOrSourceURL(),!e&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),e?t+=e:t+="<anonymous>";var r=this.getLineNumber();if(r!=null){t+=":"+r;var o=this.getColumnNumber();o&&(t+=":"+o)}}var a="",u=this.getFunctionName(),i=!0,s=this.isConstructor(),l=!(this.isToplevel()||s);if(l){var c=this.getTypeName();c==="[object Object]"&&(c="null");var m=this.getMethodName();u?(c&&u.indexOf(c)!=0&&(a+=c+"."),a+=u,m&&u.indexOf("."+m)!=u.length-m.length-1&&(a+=" [as "+m+"]")):a+=c+"."+(m||"<anonymous>")}else s?a+="new "+(u||"<anonymous>"):u?a+=u:(a+=t,i=!1);return i&&(a+=" ("+t+")"),a}n(mh,"CallSiteToString");function $c(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(r){t[r]=/^(?:is|get)/.test(r)?function(){return e[r].call(e)}:e[r]}),t.toString=mh,t}n($c,"cloneCallSite");function Hc(e,t){if(t===void 0&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var r=e.getFileName()||e.getScriptNameOrSourceURL();if(r){var o=e.getLineNumber(),a=e.getColumnNumber()-1,u=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,i=u.test(ah())?0:62;o===1&&a>i&&!Zs()&&!e.isEval()&&(a-=i);var s=Ys({source:r,line:o,column:a});t.curPosition=s,e=$c(e);var l=e.getFunctionName;return e.getFunctionName=function(){return t.nextPosition==null?l():t.nextPosition.name||l()},e.getFileName=function(){return s.source},e.getLineNumber=function(){return s.line},e.getColumnNumber=function(){return s.column+1},e.getScriptNameOrSourceURL=function(){return s.source},e}var c=e.isEval()&&e.getEvalOrigin();return c&&(c=zc(c),e=$c(e),e.getEvalOrigin=function(){return c}),e}n(Hc,"wrapCallSite");function dh(e,t){zs&&(Sr={},An={});for(var r=e.name||"Error",o=e.message||"",a=r+": "+o,u={nextPosition:null,curPosition:null},i=[],s=t.length-1;s>=0;s--)i.push(`
    at `+Hc(t[s],u)),u.nextPosition=u.curPosition;return u.curPosition=u.nextPosition=null,a+i.reverse().join("")}n(dh,"prepareStackTrace");function qc(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var r=t[1],o=+t[2],a=+t[3],u=Sr[r];if(!u&&It&&It.existsSync(r))try{u=It.readFileSync(r,"utf8")}catch{u=""}if(u){var i=u.split(/(?:\r\n|\r|\n)/)[o-1];if(i)return r+":"+o+`
`+i+`
`+new Array(a).join(" ")+"^"}}return null}n(qc,"getErrorSource");function ph(e){var t=qc(e),r=uh();r&&r._handle&&r._handle.setBlocking&&r._handle.setBlocking(!0),t&&(console.error(),console.error(t)),console.error(e.stack),lh(1)}n(ph,"printErrorAndExit");function fh(){var e=process.emit;process.emit=function(t){if(t==="uncaughtException"){var r=arguments[1]&&arguments[1].stack,o=this.listeners(t).length>0;if(r&&!o)return ph(arguments[1])}return e.apply(this,arguments)}}n(fh,"shimEmitUncaughtException");var _h=Jt.slice(0),gh=Xt.slice(0);Er.wrapCallSite=Hc;Er.getErrorSource=qc;Er.mapSourcePosition=Ys;Er.retrieveSourceMap=Xs;Er.install=function(e){if(e=e||{},e.environment&&(Rn=e.environment,["node","browser","auto"].indexOf(Rn)===-1))throw new Error("environment "+Rn+" was unknown. Available options are {auto, browser, node}");if(e.retrieveFile&&(e.overrideRetrieveFile&&(Jt.length=0),Jt.unshift(e.retrieveFile)),e.retrieveSourceMap&&(e.overrideRetrieveSourceMap&&(Xt.length=0),Xt.unshift(e.retrieveSourceMap)),e.hookRequire&&!Zs()){var t=Gc(qs,"module"),r=t.prototype._compile;r.__sourceMapSupport||(t.prototype._compile=function(u,i){return Sr[i]=u,An[i]=void 0,r.call(this,u,i)},t.prototype._compile.__sourceMapSupport=!0)}if(zs||(zs="emptyCacheBetweenOperations"in e?e.emptyCacheBetweenOperations:!1),Vc||(Vc=!0,Error.prepareStackTrace=dh),!Wc){var o="handleUncaughtExceptions"in e?e.handleUncaughtExceptions:!0;try{var a=Gc(qs,"worker_threads");a.isMainThread===!1&&(o=!1)}catch{}o&&sh()&&(Wc=!0,fh())}};Er.resetRetrieveHandlers=function(){Jt.length=0,Xt.length=0,Jt=_h.slice(0),Xt=gh.slice(0),Xs=Uo(Xt),Js=Uo(Jt)}});var Qs=oe(()=>{Zc().install()});function Bo(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}function ea(e,t,r,o,a){if(r==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:e,lineNumber:t,sourceLine:r,subs:o,label:a}}function Do(e){return{type:"blank",lineNumber:e,subs:[]}}function Un(e){return{type:"top",indentation:-1,subs:e!=null?e:[]}}function re(e){return e.type==="blank"}function it(e){return e.type==="line"}function De(e){return e.type==="virtual"}function Yt(e){return e.type==="top"}function hh(e,t){function r(o){if(!De(o)&&!Yt(o)&&o.lineNumber===t)return o.subs=[],!0;for(let a=0;a<o.subs.length;a++)if(r(o.subs[a]))return o.subs=o.subs.slice(0,a+1),!0;return!1}n(r,"cut"),r(e)}function bh(e){return JSON.parse(JSON.stringify(e))}var Tr=p(()=>{"use strict";n(Bo,"virtualNode");n(ea,"lineNode");n(Do,"blankNode");n(Un,"topNode");n(re,"isBlank");n(it,"isLine");n(De,"isVirtual");n(Yt,"isTop");n(hh,"cutTreeAfterLine");n(bh,"duplicateTree")});function Jc(e){return ie(e,t=>{t.label=void 0},"bottomUp"),e}function ta(e,t){return ie(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}function xt(e,t){switch(e.type){case"line":case"virtual":{let r=e.subs.map(o=>xt(o,t));return{...e,subs:r,label:e.label?t(e.label):void 0}}case"blank":return{...e,label:e.label?t(e.label):void 0};case"top":return{...e,subs:e.subs.map(r=>xt(r,t)),label:e.label?t(e.label):void 0}}}function yh(e){let t=0;function r(o){!De(o)&&!Yt(o)&&(o.lineNumber=t,t++)}n(r,"visitor"),ie(e,r,"topDown")}function ie(e,t,r){function o(a){r==="topDown"&&t(a),a.subs.forEach(u=>{o(u)}),r==="bottomUp"&&t(a)}n(o,"_visit"),o(e)}function Ih(e,t,r){function o(a){if(r==="topDown"&&!t(a))return!1;let u=!0;return a.subs.forEach(i=>{u=u&&o(i)}),r==="bottomUp"&&(u=u&&t(a)),u}n(o,"_visit"),o(e)}function Bn(e,t,r,o){let a=t;function u(i){a=r(i,a)}return n(u,"visitor"),ie(e,u,o),a}function Dn(e,t,r){let o=n(u=>{if(r!==void 0&&r(u))return u;{let i=u.subs.map(o).filter(s=>s!==void 0);return u.subs=i,t(u)}},"rebuild"),a=o(e);return a!==void 0?a:Un()}var Jr=p(()=>{"use strict";Tr();n(Jc,"clearLabels");n(ta,"clearLabelsIf");n(xt,"mapLabels");n(yh,"resetLineNumbers");n(ie,"visitTree");n(Ih,"visitTreeConditionally");n(Bn,"foldTree");n(Dn,"rebuildTree")});function Xc(e){let t=e.split(`
`),r=t.map(c=>c.match(/^\s*/)[0].length),o=t.map(c=>c.trimLeft());function a(c){let[m,d]=u(c+1,r[c]);return[ea(r[c],c,o[c],m),d]}n(a,"parseNode");function u(c,m){let d,f=[],g=c,h;for(;g<o.length&&(o[g]===""||r[g]>m);)if(o[g]==="")h===void 0&&(h=g),g+=1;else{if(h!==void 0){for(let I=h;I<g;I++)f.push(Do(I));h=void 0}[d,g]=a(g),f.push(d)}return h!==void 0&&(g=h),[f,g]}n(u,"parseSubs");let[i,s]=u(0,-1),l=s;for(;l<o.length&&o[l]==="";)i.push(Do(l)),l+=1;if(l<o.length)throw new Error(`Parsing did not go to end of file. Ended at ${l} out of ${o.length}`);return Un(i)}function Xr(e,t){function r(o){if(it(o)){let a=t.find(u=>u.matches(o.sourceLine));a&&(o.label=a.label)}}n(r,"visitor"),ie(e,r,"bottomUp")}function jn(e){function t(r){if(De(r)&&r.label===void 0){let o=r.subs.filter(a=>!re(a));o.length===1&&(r.label=o[0].label)}}n(t,"visitor"),ie(e,t,"bottomUp")}function Yr(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=n(o=>e[t].test(o),"matches"):r=e[t],{matches:r,label:t}})}function jo(e){let r=Dn(e,n(function(o){if(o.subs.length===0||o.subs.findIndex(i=>i.label==="closer"||i.label==="opener")===-1)return o;let a=[],u;for(let i=0;i<o.subs.length;i++){let s=o.subs[i],l=o.subs[i-1];if(s.label==="opener"&&l!==void 0&&it(l))l.subs.push(s),s.subs.forEach(c=>l.subs.push(c)),s.subs=[];else if(s.label==="closer"&&u!==void 0&&(it(s)||De(s))&&s.indentation>=u.indentation){let c=a.length-1;for(;c>0&&re(a[c]);)c-=1;if(u.subs.push(...a.splice(c+1)),s.subs.length>0){let m=u.subs.findIndex(h=>h.label!=="newVirtual"),d=u.subs.slice(0,m),f=u.subs.slice(m),g=f.length>0?[Bo(s.indentation,f,"newVirtual")]:[];u.subs=[...d,...g,s]}else u.subs.push(s)}else a.push(s),re(s)||(u=s)}return o.subs=a,o},"rebuilder"));return ta(e,o=>o==="newVirtual"),r}function ra(e,t=re,r){return Dn(e,n(function(a){if(a.subs.length<=1)return a;let u=[],i=[],s,l=!1;function c(m=!1){if(s!==void 0&&(u.length>0||!m)){let d=Bo(s,i,r);u.push(d)}else i.forEach(d=>u.push(d))}n(c,"flushBlockIntoNewSubs");for(let m=0;m<a.subs.length;m++){let d=a.subs[m],f=t(d);!f&&l&&(c(),i=[]),l=f,i.push(d),re(d)||(s=s!=null?s:d.indentation)}return c(!0),a.subs=u,a},"rebuilder"))}function wt(e){return Dn(e,n(function(r){return De(r)&&r.label===void 0&&r.subs.length<=1?r.subs.length===0?void 0:r.subs[0]:(r.subs.length===1&&De(r.subs[0])&&r.subs[0].label===void 0&&(r.subs=r.subs[0].subs),r)},"rebuilder"))}function Ko(e,t){Yc[e]=t}function Qt(e,t){let r=Xc(e),o=Yc[t!=null?t:""];return o?o(r):(Xr(r,wh),jo(r))}var xh,wh,Yc,Qr=p(()=>{"use strict";Tr();Jr();n(Xc,"parseRaw");n(Xr,"labelLines");n(jn,"labelVirtualInherited");n(Yr,"buildLabelRules");n(jo,"combineClosersAndOpeners");n(ra,"groupBlocks");n(wt,"flattenVirtual");xh={opener:/^[[({]/,closer:/^[\])}]/},wh=Yr(xh),Yc={};n(Ko,"registerLanguageSpecificParser");n(Qt,"parseTree")});function Qc(e){let t=e;return Xr(t,Eh),t=jo(t),t=wt(t),jn(t),ie(t,r=>{if(r.label==="class"||r.label==="interface")for(let o of r.subs)!re(o)&&(o.label===void 0||o.label==="annotation")&&(o.label="member")},"bottomUp"),t}var Sh,Eh,em=p(()=>{"use strict";Tr();Jr();Qr();Sh={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[[({]/,closer:/^[\])}]/},Eh=Yr(Sh);n(Qc,"processJava")});function tm(e){let t=e;if(Xr(t,vh),re(t))return t;function r(u){if(u.label==="heading")return 1;if(u.label==="subheading")return 2;if(u.label==="subsubheading")return 3}n(r,"headingLevel");let o=[t],a=[...t.subs];t.subs=[];for(let u of a){let i=r(u);if(i===void 0||re(u))o[o.length-1].subs.push(u);else{for(;o.length<i;)o.push(o[o.length-1]);for(o[i-1].subs.push(u),o[i]=u;o.length>i+1;)o.pop()}}return t=ra(t),t=wt(t),jn(t),t}var Th,vh,rm=p(()=>{"use strict";Tr();Qr();Th={heading:/^# /,subheading:/^## /,subsubheading:/### /},vh=Yr(Th);n(tm,"processMarkdown")});function Kn(e){return" ".repeat(e.indentation)+e.sourceLine+`
`}function nm(e){function t(r,o){let a="";return it(r)?a=Kn(r):re(r)&&(a=`
`),o+a}return n(t,"accumulator"),Bn(e,"",t,"topDown")}function Mh(e,t){let r=new Set(t),o=[],a="";function u(i){i.label!==void 0&&r.has(i.label)?(a!==""&&o.push({label:void 0,source:a}),o.push({label:i.label,source:nm(i)}),a=""):(it(i)&&(a+=Kn(i)),i.subs.forEach(u))}return n(u,"visit"),u(e),a!==""&&o.push({label:void 0,source:a}),o}function om(e,t=0){let r=" ".repeat(t);if(e===void 0)return"UNDEFINED NODE";let o;e.subs===void 0?o="UNDEFINED SUBS":o=e.subs.map(i=>om(i,t+2)).join(`,
`),o===""?o="[]":o=`[
${o}
      ${r}]`;let a=(De(e)||Yt(e)?"   ":String(e.lineNumber).padStart(3," "))+`:  ${r}`,u=e.label===void 0?"":JSON.stringify(e.label);return De(e)||Yt(e)?`${a}vnode(${e.indentation}, ${u}, ${o})`:re(e)?`${a}blank(${u!=null?u:""})`:`${a}lnode(${e.indentation}, ${u}, ${JSON.stringify(e.sourceLine)}, ${o})`}function im(e,t=""){let r=e.label===void 0?"":`, ${JSON.stringify(e.label)}`,o=!re(e)&&e.subs.length>0?`[
${e.subs.map(a=>im(a,t+"  ")).join(`, 
`)}
${t}]`:"[]";switch(e.type){case"blank":return`${t}blankNode(${e.lineNumber}${r})`;case"top":return`topNode(${o}${r})`;case"virtual":return`${t}virtualNode(${e.indentation}, ${o}${r})`;case"line":return`${t}lineNode(${e.indentation}, ${e.lineNumber}, "${e.sourceLine}", ${o}${r})`}}function sm(e){if(it(e)||re(e))return e.lineNumber;for(let t of e.subs){let r=sm(t);if(r!==void 0)return r}}function am(e){let t,r=e.subs.length-1;for(;r>=0&&t===void 0;)t=am(e.subs[r]),r--;return t===void 0&&!De(e)&&!Yt(e)?e.lineNumber:t}var um=p(()=>{"use strict";Tr();Jr();n(Kn,"deparseLine");n(nm,"deparseTree");n(Mh,"deparseAndCutTree");n(om,"describeTree");n(im,"encodeTree");n(sm,"firstLineOf");n(am,"lastLineOf")});var Gn=p(()=>{"use strict";em();rm();Qr();Tr();um();Jr();Qr();Ko("markdown",tm);Ko("java",Qc)});function en(e,t=lm){let r=xt(e,o=>o?1:void 0);return ie(r,o=>{var u;if(re(o))return;let a=o.subs.reduce((i,s)=>{var l;return Math.max(i,(l=s.label)!=null?l:0)},0);o.label=Math.max((u=o.label)!=null?u:0,a*t.worthUp)},"bottomUp"),ie(r,o=>{if(re(o))return;let a=o.subs.map(s=>{var l;return(l=s.label)!=null?l:0}),u=[...a];for(let s=0;s<a.length;s++)a[s]!==0&&(u=u.map((l,c)=>Math.max(l,Math.pow(t.worthSibling,Math.abs(s-c))*a[s])));let i=o.label;i!==void 0&&(u=u.map(s=>Math.max(s,t.worthDown*i))),o.subs.forEach((s,l)=>s.label=u[l])},"topDown"),cm(r)}function cm(e){let t=Bn(e,[],(r,o)=>{var a,u;return(r.type==="line"||r.type==="blank")&&o.push(r.type==="line"?[Kn(r).trimEnd(),(a=r.label)!=null?a:0]:["",(u=r.label)!=null?u:0]),o},"topDown");return new Vn(t)}var lm,Go=p(()=>{"use strict";na();Gn();lm={worthUp:.9,worthSibling:.88,worthDown:.8};n(en,"fromTreeWithFocussedLines");n(cm,"fromTreeWithValuedLines")});function oa(e,t=!0,r=!0){let o=typeof e=="string"?Qt(e):Qt(e.source,e.languageId);wt(o);let a=xt(o,u=>t&&u!=="closer");return ie(a,u=>{u.label===void 0&&(u.label=t&&u.label!==!1)},"topDown"),t&&ie(a,u=>{if(u.label){let i=!1;for(let s of[...u.subs].reverse())s.label&&!i?i=!0:s.label=!1}else for(let i of u.subs)i.label=!1;u.subs.length>0&&(u.label=!1)},"topDown"),r&&ie(a,u=>{u.label||(u.label=(it(u)||re(u))&&u.lineNumber==0)},"topDown"),en(a)}var ia=p(()=>{"use strict";Go();Gn();n(oa,"elidableTextForSourceCode")});var sa,er,Vo=p(()=>{"use strict";sa=class sa extends Error{constructor(r,o){super(r);this.cause=o;this.code="CopilotPromptLoadFailure"}};n(sa,"CopilotPromptLoadFailure");er=sa});var mm=oe(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.bytePairEncode=Et.BinaryMap=Et.binaryMapKey=void 0;var Lh=n((e,t,r)=>{let o=r-t,a=16777215>>>Math.max(0,(3-o)*8),u=(e[t+0]|e[t+1]<<8|e[t+2]<<16)&a,i=16777215>>>Math.min(31,Math.max(0,(6-o)*8)),s=(e[t+3]|e[t+4]<<8|e[t+5]<<16)&i;return u+16777216*s},"binaryMapKey");Et.binaryMapKey=Lh;var Wn=class Wn{constructor(){this.nested=new Map,this.final=new Map}get(t,r=0,o=t.length){var i;let a=o<6+r,u=(0,Et.binaryMapKey)(t,r,o);return a?this.final.get(u):(i=this.nested.get(u))==null?void 0:i.get(t,6+r,o)}set(t,r){let o=(0,Et.binaryMapKey)(t,0,t.length);if(t.length<6){this.final.set(o,r);return}let u=this.nested.get(o);if(u instanceof Wn)u.set(t.subarray(6),r);else{let i=new Wn;i.set(t.subarray(6),r),this.nested.set(o,i)}}};n(Wn,"BinaryMap");var aa=Wn;Et.BinaryMap=aa;var St=new Int32Array(128),Le=new Int32Array(128);function Ph(e,t,r){var l;if(r===1)return[t.get(e)];let o=2147483647,a=-1;for(;St.length<r*2;)Le=new Int32Array(Le.length*2),St=new Int32Array(St.length*2);for(let c=0;c<r-1;c++){let m=(l=t.get(e,c,c+2))!=null?l:2147483647;m<o&&(o=m,a=c),Le[c]=c,St[c]=m}Le[r-1]=r-1,St[r-1]=2147483647,Le[r]=r,St[r]=2147483647;let u=r+1;function i(c,m=0){if(c+m+2<u){let d=t.get(e,Le[c],Le[c+m+2]);if(d!==void 0)return d}return 2147483647}for(n(i,"getRank");o!==2147483647;){St[Le[a]]=i(a,1),a>0&&(St[Le[a-1]]=i(a-1,1));for(let c=a+1;c<u-1;c++)Le[c]=Le[c+1];u--,a=-1,o=2147483647;for(let c=0;c<u-1;c++){let m=St[Le[c]];St[Le[c]]<o&&(o=m,a=c)}}let s=[];for(let c=0;c<u-1;c++)s.push(t.get(e,Le[c],Le[c+1]));return s}n(Ph,"bytePairEncode");Et.bytePairEncode=Ph});var dm=oe(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.makeTextEncoder=void 0;var ca=class ca{constructor(){this.length=0,this.encoder=new TextEncoder}encode(t){let r=this.encoder.encode(t);return this.length=r.length,r}};n(ca,"UniversalTextEncoder");var ua=ca,ma=class ma{constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(t){for(;;){if(this.length=this.buffer.write(t,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(t)}}};n(ma,"NodeTextEncoder");var la=ma,kh=n(()=>typeof Buffer<"u"?new la:new ua,"makeTextEncoder");Wo.makeTextEncoder=kh});var pm=oe($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.LRUCache=void 0;var fa=class fa{constructor(t){this.size=t,this.nodes=new Map}get(t){let r=this.nodes.get(t);if(r)return this.moveToHead(r),r.value}set(t,r){let o=this.nodes.get(t);if(o)o.value=r,this.moveToHead(o);else{let a=new pa(t,r);this.nodes.set(t,a),this.addNode(a),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(t){this.removeNode(t),t.next=void 0,t.prev=void 0,this.addNode(t)}addNode(t){this.head&&(this.head.prev=t,t.next=this.head),this.tail||(this.tail=t),this.head=t}removeNode(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}};n(fa,"LRUCache");var da=fa;$o.LRUCache=da;var _a=class _a{constructor(t,r){this.key=t,this.value=r}};n(_a,"Node");var pa=_a});var ba=oe(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.TikTokenizer=void 0;var Nh=require("fs"),Fh=require("util"),zo=mm(),Ch=dm(),Oh=pm();function Rh(e){let t=new Map;try{let o=Nh.readFileSync(e,"utf-8");return r(o),t}catch(o){throw new Error(`Failed to load from BPE encoder file stream: ${o}`)}function r(o){for(let a of o.split(/[\r\n]+/)){if(a.trim()==="")continue;let u=a.split(" ");if(u.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let i=new Uint8Array(Buffer.from(u[0],"base64")),s=parseInt(u[1]);if(!isNaN(s))t.set(i,s);else throw new Error(`Can't parse ${u[1]} to integer`)}}n(r,"processBpeRanks")}n(Rh,"loadTikTokenBpe");function Ah(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}n(Ah,"escapeRegExp");var ha=class ha{constructor(t,r,o,a=8192){this.textEncoder=(0,Ch.makeTextEncoder)(),this.textDecoder=new Fh.TextDecoder("utf-8"),this.cache=new Oh.LRUCache(a);let u=typeof t=="string"?Rh(t):t;this.init(u,r,o)}init(t,r,o){this.encoder=new zo.BinaryMap;for(let[a,u]of t)this.encoder.set(a,u);this.regex=new RegExp(o,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(a=>Ah(a)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[a,u]of t)this.decoder.set(u,a);if(t.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[a,u]of r)this.specialTokensDecoder.set(u,a)}findNextSpecialToken(t,r,o){let a=r,u=null;if(o&&this.specialTokensRegex)for(;u=t.slice(a).match(this.specialTokensRegex),!(!u||o&&o.includes(u[0]));)a+=u.index+1;let i=u?a+u.index:t.length;return[u,i]}encode(t,r){let o=[],a=0;for(;;){let u,i;if([u,i]=this.findNextSpecialToken(t,a,r),i>a&&this.encodeByIndex(t,o,a,i),u){if(a=a+this.encodeSpecialToken(o,u),a>=t.length)break}else break}return o}encodeSpecialToken(t,r){var a;let o=(a=this.specialTokensEncoder)==null?void 0:a.get(r[0]);return t.push(o),r.index+r[0].length}encodeByIndex(t,r,o,a){let u,i=t.substring(o,a);for(this.regex.lastIndex=0;u=this.regex.exec(i);){let s=this.cache.get(u[0]);if(s)for(let l of s)r.push(l);else{let l=this.textEncoder.encode(u[0]),c=this.encoder.get(l,0,this.textEncoder.length);if(c!==void 0)r.push(c),this.cache.set(u[0],[c]);else{let m=(0,zo.bytePairEncode)(l,this.encoder,this.textEncoder.length);for(let d of m)r.push(d);this.cache.set(u[0],m)}}}}encodeTrimSuffixByIndex(t,r,o,a,u,i,s){let l,c=t.substring(o,a);for(this.regex.lastIndex=0;l=this.regex.exec(c);){let m=l[0],d=this.cache.get(m);if(d)if(i+d.length<=u)i+=d.length,s+=m.length,r.push(...d);else{let f=u-i;i+=f,s+=m.length,r.push(...d.slice(0,f));break}else{let f=this.textEncoder.encode(m),g=this.encoder.get(f,0,f.length);if(g!==void 0)if(this.cache.set(m,[g]),i+1<=u)i++,s+=m.length,r.push(g);else break;else{let h=(0,zo.bytePairEncode)(f,this.encoder,this.textEncoder.length);if(this.cache.set(m,h),i+h.length<=u){i+=h.length,s+=m.length;for(let I of h)r.push(I)}else{let I=u-i;i+=I,s+=m.length;for(let x=0;x<I;x++)r.push(h[x]);break}}}if(i>=u)break}return{tokenCount:i,encodeLength:s}}encodeTrimSuffix(t,r,o){let a=[],u=0,i=0,s=0;for(;;){let c,m;if([c,m]=this.findNextSpecialToken(t,u,o),m>u){let{tokenCount:d,encodeLength:f}=this.encodeTrimSuffixByIndex(t,a,u,m,r,i,s);if(i=d,s=f,i>=r)break}if(c!==null){if(i++,i<=r&&(u=u+this.encodeSpecialToken(a,c),s+=c[0].length,u>=t.length)||i>=r)break}else break}let l=s===t.length?t:t.slice(0,s);return{tokenIds:a,text:l}}encodeTrimPrefix(t,r,o){let a=[],u=0,i=0,s=0,l=new Map;for(l.set(i,s);;){let f,g;if([f,g]=this.findNextSpecialToken(t,u,o),g>u){let h,I=t.substring(u,g);for(this.regex.lastIndex=0;h=this.regex.exec(I);){let x=h[0],w=this.cache.get(x);if(w)i+=w.length,s+=x.length,a.push(...w),l.set(i,s);else{let N=this.textEncoder.encode(x),M=this.encoder.get(N);if(M!==void 0)this.cache.set(x,[M]),i++,s+=x.length,a.push(M),l.set(i,s);else{let T=(0,zo.bytePairEncode)(N,this.encoder,this.textEncoder.length);this.cache.set(x,T),i+=T.length,s+=x.length;for(let L of T)a.push(L);l.set(i,s)}}}}if(f!==null){if(u=u+this.encodeSpecialToken(a,f),i++,s+=f[0].length,l.set(i,s),u>=t.length)break}else break}if(i<=r)return{tokenIds:a,text:t};let c=i-r,m=0,d=0;for(let[f,g]of l)if(f>=c){m=f,d=g;break}if(m>r){let f=this.encode(t,o),g=f.slice(f.length-r);return{tokenIds:g,text:this.decode(g)}}return{tokenIds:a.slice(m),text:t.slice(d)}}decode(t){var o,a;let r=[];for(let u of t){let i=[],s=(o=this.decoder)==null?void 0:o.get(u);if(s!==void 0)i=Array.from(s);else{let l=(a=this.specialTokensDecoder)==null?void 0:a.get(u);if(l!==void 0){let c=this.textEncoder.encode(l);i=Array.from(c.subarray(0,this.textEncoder.length))}}r.push(...i)}return this.textDecoder.decode(new Uint8Array(r))}};n(ha,"TikTokenizer");var ga=ha;Ho.TikTokenizer=ga});var Sm=oe(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.createTokenizer=ce.createByEncoderName=ce.createByModelName=ce.getRegexByModel=ce.getRegexByEncoder=ce.getSpecialTokensByModel=ce.getSpecialTokensByEncoder=ce.MODEL_TO_ENCODING=void 0;var Zo=require("fs"),ya=require("path"),Uh=ba(),Bh=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);ce.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var qo="<|endoftext|>",fm="<|fim_prefix|>",_m="<|fim_middle|>",gm="<|fim_suffix|>",hm="<|endofprompt|>",$n="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",bm="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",Dh=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],ym=Dh.join("|");function Ia(e){let t="";if(ce.MODEL_TO_ENCODING.has(e))t=ce.MODEL_TO_ENCODING.get(e);else for(let[r,o]of Bh)if(e.startsWith(r)){t=o;break}return t}n(Ia,"getEncoderFromModelName");async function jh(e,t){let r=await fetch(e);if(!r.ok)throw new Error(`Failed to fetch file from ${e}. Status code: ${r.status}`);let o=await r.text();Zo.writeFileSync(t,o)}n(jh,"fetchAndSaveFile");function xa(e){let t=new Map([[qo,50256]]);switch(e){case"o200k_base":t=new Map([[qo,199999],[hm,200018]]);break;case"cl100k_base":t=new Map([[qo,100257],[fm,100258],[_m,100259],[gm,100260],[hm,100276]]);break;case"p50k_edit":t=new Map([[qo,50256],[fm,50281],[_m,50282],[gm,50283]]);break;default:break}return t}n(xa,"getSpecialTokensByEncoder");ce.getSpecialTokensByEncoder=xa;function Kh(e){let t=Ia(e);return xa(t)}n(Kh,"getSpecialTokensByModel");ce.getSpecialTokensByModel=Kh;function Im(e){switch(e){case"o200k_base":return ym;case"cl100k_base":return bm;default:break}return $n}n(Im,"getRegexByEncoder");ce.getRegexByEncoder=Im;function Gh(e){let t=Ia(e);return Im(t)}n(Gh,"getRegexByModel");ce.getRegexByModel=Gh;async function Vh(e,t=null){return xm(Ia(e),t)}n(Vh,"createByModelName");ce.createByModelName=Vh;async function xm(e,t=null){let r,o,a=xa(e);switch(e){case"o200k_base":r=ym,o="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":r=bm,o="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=$n,o="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=$n,o="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=$n,o="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=$n,o="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${e}]`)}t!==null&&(a=new Map([...a,...t]));let u=ya.basename(o),i=ya.resolve(__dirname,"..","model");Zo.existsSync(i)||Zo.mkdirSync(i,{recursive:!0});let s=ya.resolve(i,u);return Zo.existsSync(s)||(console.log(`Downloading file from ${o}`),await jh(o,s),console.log(`Saved file to ${s}`)),wm(s,a,r)}n(xm,"createByEncoderName");ce.createByEncoderName=xm;function wm(e,t,r,o=8192){return new Uh.TikTokenizer(e,t,r,o)}n(wm,"createTokenizer");ce.createTokenizer=wm});var Em=oe(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.createTokenizer=me.createByEncoderName=me.createByModelName=me.getSpecialTokensByModel=me.getSpecialTokensByEncoder=me.getRegexByModel=me.getRegexByEncoder=me.MODEL_TO_ENCODING=me.TikTokenizer=void 0;var Wh=ba();Object.defineProperty(me,"TikTokenizer",{enumerable:!0,get:n(function(){return Wh.TikTokenizer},"get")});var tr=Sm();Object.defineProperty(me,"MODEL_TO_ENCODING",{enumerable:!0,get:n(function(){return tr.MODEL_TO_ENCODING},"get")});Object.defineProperty(me,"getRegexByEncoder",{enumerable:!0,get:n(function(){return tr.getRegexByEncoder},"get")});Object.defineProperty(me,"getRegexByModel",{enumerable:!0,get:n(function(){return tr.getRegexByModel},"get")});Object.defineProperty(me,"getSpecialTokensByEncoder",{enumerable:!0,get:n(function(){return tr.getSpecialTokensByEncoder},"get")});Object.defineProperty(me,"getSpecialTokensByModel",{enumerable:!0,get:n(function(){return tr.getSpecialTokensByModel},"get")});Object.defineProperty(me,"createByModelName",{enumerable:!0,get:n(function(){return tr.createByModelName},"get")});Object.defineProperty(me,"createByEncoderName",{enumerable:!0,get:n(function(){return tr.createByEncoderName},"get")});Object.defineProperty(me,"createTokenizer",{enumerable:!0,get:n(function(){return tr.createTokenizer},"get")})});function st(e="cl100k_base"){let t=Tm.get(e);return t!==void 0||(e==="mock"?t=new wa:t=new Jo(e),Tm.set(e,t)),t}function $h(e){if(!e.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let t=(0,vm.readFileSync)(e,"utf-8"),r=new Map;for(let o of t.split(`
`)){if(!o)continue;let a=Buffer.from(o,"base64");r.set(a,r.size)}return r}var tn,vm,Mm,Xo,Tm,Sa,Jo,Ea,wa,Lm=p(()=>{"use strict";Vo();tn=Nn(Em()),vm=require("fs"),Mm=require("path"),Xo=(o=>(o.cl100k="cl100k_base",o.o200k="o200k_base",o.mock="mock",o))(Xo||{}),Tm=new Map;n(st,"getTokenizer");n($h,"parseTikTokenNoIndex");Sa=class Sa{constructor(t){try{this._tokenizer=(0,tn.createTokenizer)($h((0,Mm.join)(__dirname,`./resources/${t}.tiktoken.noindex`)),(0,tn.getSpecialTokensByEncoder)(t),(0,tn.getRegexByEncoder)(t),32768)}catch(r){throw r instanceof Error?new er("Could not load tokenizer",r):r}}tokenize(t){return this._tokenizer.encode(t)}detokenize(t){return this._tokenizer.decode(t)}tokenLength(t){return this.tokenize(t).length}tokenizeStrings(t){return this.tokenize(t).map(o=>this.detokenize([o]))}takeLastTokens(t,r){if(r<=0)return{text:"",tokens:[]};let o=4,a=1,u=Math.min(t.length,r*o),i=t.slice(-u),s=this.tokenize(i);for(;s.length<r+2&&u<t.length;)u=Math.min(t.length,u+r*a),i=t.slice(-u),s=this.tokenize(i);return s.length<r?{text:t,tokens:s}:(s=s.slice(-r),{text:this.detokenize(s),tokens:s})}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let o=4,a=1,u=Math.min(t.length,r*o),i=t.slice(0,u),s=this.tokenize(i);for(;s.length<r+2&&u<t.length;)u=Math.min(t.length,u+r*a),i=t.slice(0,u),s=this.tokenize(i);return s.length<r?{text:t,tokens:s}:(s=s.slice(0,r),{text:this.detokenize(s),tokens:s})}takeLastLinesTokens(t,r){let{text:o}=this.takeLastTokens(t,r);if(o.length===t.length||t[t.length-o.length-1]===`
`)return o;let a=o.indexOf(`
`);return o.substring(a+1)}};n(Sa,"TTokenizer");Jo=Sa,Ea=class Ea{constructor(){this.hash=n(t=>{let r=0;for(let o=0;o<t.length;o++){let a=t.charCodeAt(o);r=(r<<5)-r+a,r&=r&65535}return r},"hash")}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){let o=this.tokenizeStrings(t).slice(-r);return{text:o.join(""),tokens:o.map(this.hash)}}takeFirstTokens(t,r){let o=this.tokenizeStrings(t).slice(0,r);return{text:o.join(""),tokens:o.map(this.hash)}}takeLastLinesTokens(t,r){let{text:o}=this.takeLastTokens(t,r);if(o.length===t.length||t[t.length-o.length-1]===`
`)return o;let a=o.indexOf(`
`);return o.substring(a+1)}};n(Ea,"MockTokenizer");wa=Ea});var rn=p(()=>{"use strict";Lm()});var Yo,nn,Ta=p(()=>{"use strict";rn();Yo=class Yo{constructor(t,r,o=st().tokenLength(t+`
`),a="strict"){this.text=t;this._value=r;this._cost=o;if(t.includes(`
`)&&a!=="none")throw new Error("LineWithValueAndCost: text contains newline");if(r<0&&a!=="none")throw new Error("LineWithValueAndCost: value is negative");if(o<0&&a!=="none")throw new Error("LineWithValueAndCost: cost is negative");if(a=="strict"&&r>1)throw new Error("Value should normally be between 0 and 1 -- set validation to `loose` to ignore this error")}get value(){return this._value}get cost(){return this._cost}adjustValue(t){return this._value*=t,this}recost(t=r=>st().tokenLength(r+`
`)){return this._cost=t(this.text),this}copy(){return new Yo(this.text,this.value,this.cost,"none")}};n(Yo,"LineWithValueAndCost");nn=Yo});function zh(e,t,r,o,a,u){var d,f,g,h,I,x,w,N,M,T,L,O,R;if(u.tokenLength(r+`
`)>t)throw new Error("maxTokens must be larger than the ellipsis length");a==="removeLeastBangForBuck"&&e.forEach(E=>E.adjustValue(1/E.cost));let i=e.reduce((E,F)=>Math.max(E,F.value),0)+1,s=e.reduce((E,F)=>Math.max(E,F.text.length),0)+1,l=r.trim(),c=e.reduce((E,F)=>E+F.cost,0),m=e.length+1;for(;c>t&&m-->=-1;){let E=e.reduce((ke,Zt)=>Zt.value<ke.value?Zt:ke),F=e.indexOf(E),he=(d=e.slice(0,F+1).reverse().find(ke=>ke.text.trim()!==""))!=null?d:{text:""},Ir=o?Math.min((g=(f=he.text.match(/^\s*/))==null?void 0:f[0].length)!=null?g:0,((h=e[F-1])==null?void 0:h.text.trim())===l?(w=(x=(I=e[F-1])==null?void 0:I.text.match(/^\s*/))==null?void 0:x[0].length)!=null?w:0:s,((N=e[F+1])==null?void 0:N.text.trim())===l?(L=(T=(M=e[F+1])==null?void 0:M.text.match(/^\s*/))==null?void 0:T[0].length)!=null?L:0:s):0,qt=" ".repeat(Ir)+r,yt=new nn(qt,i,u.tokenLength(qt+`
`),"loose");e.splice(F,1,yt),((O=e[F+1])==null?void 0:O.text.trim())===l&&e.splice(F+1,1),((R=e[F-1])==null?void 0:R.text.trim())===l&&e.splice(F-1,1);let nt=e.reduce((ke,Zt)=>ke+Zt.cost,0);nt>=c&&e.every(ke=>ke.value===i)&&(o=!1),c=nt}if(m<0)throw new Error("Infinite loop in ElidableText.makePrompt: Defensive counter < 0 in ElidableText.makePrompt with end text");return e.map(E=>E.text).join(`
`)}var Qo,Vn,na=p(()=>{"use strict";ia();Ta();rn();Qo=class Qo{constructor(t){this.lines=[];let r=[];for(let o of t){let a=Array.isArray(o)?o[1]:1,u=Array.isArray(o)?o[0]:o;typeof u=="string"?u.split(`
`).forEach(i=>r.push(new nn(i,a))):u instanceof Qo?u.lines.forEach(i=>r.push(i.copy().adjustValue(a))):"source"in u&&"languageId"in u&&oa(u).lines.forEach(i=>r.push(i.copy().adjustValue(a)))}this.lines=r}adjust(t){this.lines.forEach(r=>r.adjustValue(t))}recost(t=r=>st().tokenLength(r+`
`)){this.lines.forEach(r=>r.recost(t))}makePrompt(t,r="[...]",o=!0,a="removeLeastDesirable",u=st()){let i=this.lines.map(s=>s.copy());return zh(i,t,r,o,a,u)}};n(Qo,"ElidableText");Vn=Qo;n(zh,"makePrompt")});function at(){}function Pm(e,t,r,o,a){for(var u=[],i;t;)u.push(t),i=t.previousComponent,delete t.previousComponent,t=i;u.reverse();for(var s=0,l=u.length,c=0,m=0;s<l;s++){var d=u[s];if(d.removed)d.value=e.join(o.slice(m,m+d.count)),m+=d.count;else{if(!d.added&&a){var f=r.slice(c,c+d.count);f=f.map(function(g,h){var I=o[m+h];return I.length>g.length?I:g}),d.value=e.join(f)}else d.value=e.join(r.slice(c,c+d.count));c+=d.count,d.added||(m+=d.count)}}return u}function km(e,t){var r;for(r=0;r<e.length&&r<t.length;r++)if(e[r]!=t[r])return e.slice(0,r);return e.slice(0,r)}function Nm(e,t){var r;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(r=0;r<e.length&&r<t.length;r++)if(e[e.length-(r+1)]!=t[t.length-(r+1)])return e.slice(-r);return e.slice(-r)}function Ma(e,t,r){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return r+e.slice(t.length)}function La(e,t,r){if(!t)return e+r;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+r}function zn(e,t){return Ma(e,t,"")}function ei(e,t){return La(e,t,"")}function Fm(e,t){return t.slice(0,Hh(e,t))}function Hh(e,t){var r=0;e.length>t.length&&(r=e.length-t.length);var o=t.length;e.length<t.length&&(o=e.length);var a=Array(o),u=0;a[0]=0;for(var i=1;i<o;i++){for(t[i]==t[u]?a[i]=a[u]:a[i]=u;u>0&&t[i]!=t[u];)u=a[u];t[i]==t[u]&&u++}u=0;for(var s=r;s<e.length;s++){for(;u>0&&e[s]!=t[u];)u=a[u];e[s]==t[u]&&u++}return u}function Cm(e,t,r,o){if(t&&r){var a=t.value.match(/^\s*/)[0],u=t.value.match(/\s*$/)[0],i=r.value.match(/^\s*/)[0],s=r.value.match(/\s*$/)[0];if(e){var l=km(a,i);e.value=La(e.value,i,l),t.value=zn(t.value,l),r.value=zn(r.value,l)}if(o){var c=Nm(u,s);o.value=Ma(o.value,s,c),t.value=ei(t.value,c),r.value=ei(r.value,c)}}else if(r)e&&(r.value=r.value.replace(/^\s*/,"")),o&&(o.value=o.value.replace(/^\s*/,""));else if(e&&o){var m=o.value.match(/^\s*/)[0],d=t.value.match(/^\s*/)[0],f=t.value.match(/\s*$/)[0],g=km(m,d);t.value=zn(t.value,g);var h=Nm(zn(m,g),f);t.value=ei(t.value,h),o.value=Ma(o.value,m,h),e.value=La(e.value,m,m.slice(0,m.length-h.length))}else if(o){var I=o.value.match(/^\s*/)[0],x=t.value.match(/\s*$/)[0],w=Fm(x,I);t.value=ei(t.value,w)}else if(e){var N=e.value.match(/\s*$/)[0],M=t.value.match(/^\s*/)[0],T=Fm(N,M);t.value=zn(t.value,T)}}function Om(e,t,r){return ni.diff(e,t,r)}function Rm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,o)}return r}function Am(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rm(Object(r),!0).forEach(function(o){eb(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rm(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function Yh(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qh(e){var t=Yh(e,"string");return typeof t=="symbol"?t:t+""}function Pa(e){"@babel/helpers - typeof";return Pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pa(e)}function eb(e,t,r){return t=Qh(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function va(e){return tb(e)||rb(e)||nb(e)||ob()}function tb(e){if(Array.isArray(e))return ka(e)}function rb(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nb(e,t){if(e){if(typeof e=="string")return ka(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ka(e,t)}}function ka(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function ob(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Na(e,t,r,o,a){t=t||[],r=r||[],o&&(e=o(a,e));var u;for(u=0;u<t.length;u+=1)if(t[u]===e)return r[u];var i;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),i=new Array(e.length),r.push(i),u=0;u<e.length;u+=1)i[u]=Na(e[u],t,r,o,a);return t.pop(),r.pop(),i}if(e&&e.toJSON&&(e=e.toJSON()),Pa(e)==="object"&&e!==null){t.push(e),i={},r.push(i);var s=[],l;for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&s.push(l);for(s.sort(),u=0;u<s.length;u+=1)l=s[u],i[l]=Na(e[l],t,r,o,l);t.pop(),r.pop()}else i=e;return i}function Um(e,t,r,o,a,u,i){if(i||(i={}),typeof i=="function"&&(i={callback:i}),typeof i.context>"u"&&(i.context=4),i.newlineIsToken)throw new Error("newlineIsToken may not be used with patch-generation functions, only with diffing functions");if(i.callback){var s=i,l=s.callback;Om(r,o,Am(Am({},i),{},{callback:n(function(d){var f=c(d);l(f)},"callback")}))}else return c(Om(r,o,i));function c(m){if(!m)return;m.push({value:"",lines:[]});function d(E){return E.map(function(F){return" "+F})}n(d,"contextLines");for(var f=[],g=0,h=0,I=[],x=1,w=1,N=n(function(){var F=m[M],he=F.lines||ib(F.value);if(F.lines=he,F.added||F.removed){var Ir;if(!g){var qt=m[M-1];g=x,h=w,qt&&(I=i.context>0?d(qt.lines.slice(-i.context)):[],g-=I.length,h-=I.length)}(Ir=I).push.apply(Ir,va(he.map(function(Pn){return(F.added?"+":"-")+Pn}))),F.added?w+=he.length:x+=he.length}else{if(g)if(he.length<=i.context*2&&M<m.length-2){var yt;(yt=I).push.apply(yt,va(d(he)))}else{var nt,ke=Math.min(he.length,i.context);(nt=I).push.apply(nt,va(d(he.slice(0,ke))));var Zt={oldStart:g,oldLines:x-g+ke,newStart:h,newLines:w-h+ke,lines:I};f.push(Zt),g=0,h=0,I=[]}x+=he.length,w+=he.length}},"_loop"),M=0;M<m.length;M++)N();for(var T=0,L=f;T<L.length;T++)for(var O=L[T],R=0;R<O.lines.length;R++)O.lines[R].endsWith(`
`)?O.lines[R]=O.lines[R].slice(0,-1):(O.lines.splice(R+1,0,"\\ No newline at end of file"),R++);return{oldFileName:e,newFileName:t,oldHeader:a,newHeader:u,hunks:f}}n(c,"diffLinesResultToPatch")}function ib(e){var t=e.endsWith(`
`),r=e.split(`
`).map(function(o){return o+`
`});return t?r.pop():r.push(r.pop().slice(0,-1)),r}var qT,ti,qh,ri,Zh,ni,Jh,Xh,Hn,Fa,Bm=p(()=>{n(at,"Diff");at.prototype={diff:n(function(t,r){var o,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=a.callback;typeof a=="function"&&(u=a,a={});var i=this;function s(T){return T=i.postProcess(T,a),u?(setTimeout(function(){u(T)},0),!0):T}n(s,"done"),t=this.castInput(t,a),r=this.castInput(r,a),t=this.removeEmpty(this.tokenize(t,a)),r=this.removeEmpty(this.tokenize(r,a));var l=r.length,c=t.length,m=1,d=l+c;a.maxEditLength!=null&&(d=Math.min(d,a.maxEditLength));var f=(o=a.timeout)!==null&&o!==void 0?o:1/0,g=Date.now()+f,h=[{oldPos:-1,lastComponent:void 0}],I=this.extractCommon(h[0],r,t,0,a);if(h[0].oldPos+1>=c&&I+1>=l)return s(Pm(i,h[0].lastComponent,r,t,i.useLongestToken));var x=-1/0,w=1/0;function N(){for(var T=Math.max(x,-m);T<=Math.min(w,m);T+=2){var L=void 0,O=h[T-1],R=h[T+1];O&&(h[T-1]=void 0);var E=!1;if(R){var F=R.oldPos-T;E=R&&0<=F&&F<l}var he=O&&O.oldPos+1<c;if(!E&&!he){h[T]=void 0;continue}if(!he||E&&O.oldPos<R.oldPos?L=i.addToPath(R,!0,!1,0,a):L=i.addToPath(O,!1,!0,1,a),I=i.extractCommon(L,r,t,T,a),L.oldPos+1>=c&&I+1>=l)return s(Pm(i,L.lastComponent,r,t,i.useLongestToken));h[T]=L,L.oldPos+1>=c&&(w=Math.min(w,T-1)),I+1>=l&&(x=Math.max(x,T+1))}m++}if(n(N,"execEditLength"),u)n(function T(){setTimeout(function(){if(m>d||Date.now()>g)return u();N()||T()},0)},"exec")();else for(;m<=d&&Date.now()<=g;){var M=N();if(M)return M}},"diff"),addToPath:n(function(t,r,o,a,u){var i=t.lastComponent;return i&&!u.oneChangePerToken&&i.added===r&&i.removed===o?{oldPos:t.oldPos+a,lastComponent:{count:i.count+1,added:r,removed:o,previousComponent:i.previousComponent}}:{oldPos:t.oldPos+a,lastComponent:{count:1,added:r,removed:o,previousComponent:i}}},"addToPath"),extractCommon:n(function(t,r,o,a,u){for(var i=r.length,s=o.length,l=t.oldPos,c=l-a,m=0;c+1<i&&l+1<s&&this.equals(o[l+1],r[c+1],u);)c++,l++,m++,u.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return m&&!u.oneChangePerToken&&(t.lastComponent={count:m,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=l,c},"extractCommon"),equals:n(function(t,r,o){return o.comparator?o.comparator(t,r):t===r||o.ignoreCase&&t.toLowerCase()===r.toLowerCase()},"equals"),removeEmpty:n(function(t){for(var r=[],o=0;o<t.length;o++)t[o]&&r.push(t[o]);return r},"removeEmpty"),castInput:n(function(t){return t},"castInput"),tokenize:n(function(t){return Array.from(t)},"tokenize"),join:n(function(t){return t.join("")},"join"),postProcess:n(function(t){return t},"postProcess")};n(Pm,"buildValues");qT=new at;n(km,"longestCommonPrefix");n(Nm,"longestCommonSuffix");n(Ma,"replacePrefix");n(La,"replaceSuffix");n(zn,"removePrefix");n(ei,"removeSuffix");n(Fm,"maximumOverlap");n(Hh,"overlapCount");ti="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",qh=new RegExp("[".concat(ti,"]+|\\s+|[^").concat(ti,"]"),"ug"),ri=new at;ri.equals=function(e,t,r){return r.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()};ri.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');r=Array.from(t.intlSegmenter.segment(e),function(u){return u.segment})}else r=e.match(qh)||[];var o=[],a=null;return r.forEach(function(u){/\s/.test(u)?a==null?o.push(u):o.push(o.pop()+u):/\s/.test(a)?o[o.length-1]==a?o.push(o.pop()+u):o.push(a+u):o.push(u),a=u}),o};ri.join=function(e){return e.map(function(t,r){return r==0?t:t.replace(/^\s+/,"")}).join("")};ri.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var r=null,o=null,a=null;return e.forEach(function(u){u.added?o=u:u.removed?a=u:((o||a)&&Cm(r,a,o,u),r=u,o=null,a=null)}),(o||a)&&Cm(r,a,o,null),e};n(Cm,"dedupeWhitespaceInChangeObjects");Zh=new at;Zh.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(ti,"]+|[^\\S\\n\\r]+|[^").concat(ti,"]"),"ug");return e.match(t)||[]};ni=new at;ni.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var r=[],o=e.split(/(\n|\r\n)/);o[o.length-1]||o.pop();for(var a=0;a<o.length;a++){var u=o[a];a%2&&!t.newlineIsToken?r[r.length-1]+=u:r.push(u)}return r};ni.equals=function(e,t,r){return r.ignoreWhitespace?((!r.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!r.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):r.ignoreNewlineAtEof&&!r.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),at.prototype.equals.call(this,e,t,r)};n(Om,"diffLines");Jh=new at;Jh.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};Xh=new at;Xh.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};n(Rm,"ownKeys");n(Am,"_objectSpread2");n(Yh,"_toPrimitive");n(Qh,"_toPropertyKey");n(Pa,"_typeof");n(eb,"_defineProperty");n(va,"_toConsumableArray");n(tb,"_arrayWithoutHoles");n(rb,"_iterableToArray");n(nb,"_unsupportedIterableToArray");n(ka,"_arrayLikeToArray");n(ob,"_nonIterableSpread");Hn=new at;Hn.useLongestToken=!0;Hn.tokenize=ni.tokenize;Hn.castInput=function(e,t){var r=t.undefinedReplacement,o=t.stringifyReplacer,a=o===void 0?function(u,i){return typeof i>"u"?r:i}:o;return typeof e=="string"?e:JSON.stringify(Na(e,null,null,a),a,"  ")};Hn.equals=function(e,t,r){return at.prototype.equals.call(Hn,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),r)};n(Na,"canonicalize");Fa=new at;Fa.tokenize=function(e){return e.slice()};Fa.join=Fa.removeEmpty=function(e){return e};n(Um,"structuredPatch");n(ib,"splitLines")});function ab(e,t){let r=typeof e=="string"?typeof t=="string"?void 0:t.languageId:typeof t=="string"||e.languageId===t.languageId?e.languageId:void 0;e=typeof e=="string"?e:e.source,t=typeof t=="string"?t:t.source;let o=Um("","",e,t),a=new Set,u=new Set;for(let l of o.hunks){for(let c=l.oldStart;c<l.oldStart+l.oldLines;c++)a.add(c);for(let c=l.newStart;c<l.newStart+l.newLines;c++)u.add(c)}let i=xt(wt(Qt(e,r)),()=>!1),s=xt(wt(Qt(t,r)),()=>!1);return ie(i,l=>{(l.type==="line"||l.type==="blank")&&a.has(l.lineNumber)&&(l.label=!0)},"topDown"),ie(s,l=>{(l.type==="line"||l.type==="blank")&&u.has(l.lineNumber)&&(l.label=!0)},"topDown"),[en(i),en(s)]}var Dm=p(()=>{"use strict";Go();Gn();Bm();n(ab,"elidableTextForDiff")});var jm=p(()=>{"use strict";na();Dm();Go();ia();Ta()});function cb({source:e}){return e.startsWith("#!")||e.startsWith("<!DOCTYPE")}function Zn(e,t){let r=qn[t]?qn[t].lineComment:ub;if(r){let o=r.end==""?"":" "+r.end;return`${r.start} ${e}${o}`}return""}function rr(e,t){if(e==="")return"";let r=e.endsWith(`
`),a=(r?e.slice(0,-1):e).split(`
`).map(u=>Zn(u,t)).join(`
`);return r?a+`
`:a}function Vm(e){let{languageId:t}=e;return lb.indexOf(t)===-1&&!cb(e)?t in Gm?Gm[t]:Zn(`Language: ${t}`,t):""}function Wm(e){return e.relativePath?Zn(`Path: ${e.relativePath}`,e.languageId):""}function ut(e){return e===""||e.endsWith(`
`)?e:e+`
`}var qn,Km,ub,lb,Gm,Rt=p(()=>{"use strict";qn={abap:{lineComment:{start:'"',end:""},markdownLanguageIds:["abap","sap-abap"]},aspdotnet:{lineComment:{start:"<%--",end:"--%>"}},bat:{lineComment:{start:"REM",end:""}},bibtex:{lineComment:{start:"%",end:""},markdownLanguageIds:["bibtex"]},blade:{lineComment:{start:"#",end:""}},BluespecSystemVerilog:{lineComment:{start:"//",end:""}},c:{lineComment:{start:"//",end:""},markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";",end:""},markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["coffeescript","coffee","cson","iced"]},cpp:{lineComment:{start:"//",end:""},markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"]},csharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["csharp","cs"]},css:{lineComment:{start:"/*",end:"*/"}},cuda:{lineComment:{start:"//",end:""}},dart:{lineComment:{start:"//",end:""}},dockerfile:{lineComment:{start:"#",end:""},markdownLanguageIds:["dockerfile","docker"]},dotenv:{lineComment:{start:"#",end:""}},elixir:{lineComment:{start:"#",end:""}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%",end:""},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"]},go:{lineComment:{start:"//",end:""},markdownLanguageIds:["go","golang"]},graphql:{lineComment:{start:"#",end:""}},groovy:{lineComment:{start:"//",end:""}},haml:{lineComment:{start:"-#",end:""}},handlebars:{lineComment:{start:"{{!",end:"}}"},markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"]},haskell:{lineComment:{start:"--",end:""},markdownLanguageIds:["haskell","hs"]},hlsl:{lineComment:{start:"//",end:""}},html:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["html","xhtml"]},ini:{lineComment:{start:";",end:""}},java:{lineComment:{start:"//",end:""},markdownLanguageIds:["java","jsp"]},javascript:{lineComment:{start:"//",end:""},markdownLanguageIds:["javascript","js"]},javascriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},jsonc:{lineComment:{start:"//",end:""}},jsx:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#",end:""},markdownLanguageIds:["julia","jl"]},kotlin:{lineComment:{start:"//",end:""},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%",end:""},markdownLanguageIds:["tex"]},legend:{lineComment:{start:"//",end:""}},less:{lineComment:{start:"//",end:""}},lua:{lineComment:{start:"--",end:""},markdownLanguageIds:["lua","pluto"]},makefile:{lineComment:{start:"#",end:""},markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"[]: #",end:""},markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec","mm","objc","obj-c"]},"objective-cpp":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#",end:""},markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//",end:""}},powershell:{lineComment:{start:"#",end:""},markdownLanguageIds:["powershell","ps","ps1"]},pug:{lineComment:{start:"//",end:""}},python:{lineComment:{start:"#",end:""},markdownLanguageIds:["python","py","gyp"]},ql:{lineComment:{start:"//",end:""}},r:{lineComment:{start:"#",end:""}},razor:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["cshtml","razor","razor-cshtml"]},ruby:{lineComment:{start:"#",end:""},markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"]},rust:{lineComment:{start:"//",end:""},markdownLanguageIds:["rust","rs"]},sass:{lineComment:{start:"//",end:""}},scala:{lineComment:{start:"//",end:""}},scss:{lineComment:{start:"//",end:""}},shellscript:{lineComment:{start:"#",end:""},markdownLanguageIds:["bash","sh","zsh"]},slang:{lineComment:{start:"//",end:""}},slim:{lineComment:{start:"/",end:""}},solidity:{lineComment:{start:"//",end:""},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--",end:""}},stylus:{lineComment:{start:"//",end:""}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//",end:""}},systemverilog:{lineComment:{start:"//",end:""}},terraform:{lineComment:{start:"#",end:""}},tex:{lineComment:{start:"%",end:""}},typescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["typescript","ts"]},typescriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["tsx"]},vb:{lineComment:{start:"'",end:""},markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//",end:""}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//",end:""}},xml:{lineComment:{start:"<!--",end:"-->"}},xsl:{lineComment:{start:"<!--",end:"-->"}},yaml:{lineComment:{start:"#",end:""},markdownLanguageIds:["yaml","yml"]}},Km={};for(let[e,t]of Object.entries(qn))if(t.markdownLanguageIds)for(let r of t.markdownLanguageIds)Km[r]=e;else Km[e]=e;ub={start:"//",end:""},lb=["php","plaintext"],Gm={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};n(cb,"hasLanguageMarker");n(Zn,"comment");n(rr,"commentBlockAsSingles");n(Vm,"getLanguageMarker");n(Wm,"getPathMarker");n(ut,"newLineEnded")});function db(e){return{...mb,...e}}function vr(e,t={}){let r=db(t),o=st(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let a=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(a=a.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(a=o.takeLastLinesTokens(a,r.maxTokenLength)),{context:a,lineCount:a.split(`
`).length,tokenLength:o.tokenLength(a),tokenizerName:r.tokenizerName}}var mb,oi=p(()=>{"use strict";rn();mb={tokenizerName:"cl100k_base"};n(db,"cursorContextOptions");n(vr,"getCursorContext")});function pb(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}var Ra,Ca,Aa,Oa,$m,Ua,on,fb,_b,gb,ii=p(()=>{"use strict";Ut();Ra=class Ra{constructor(t){this.keys=[];this.cache={};this.size=t}put(t,r){var o;if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let a=(o=this.keys.shift())!=null?o:"";delete this.cache[a]}}get(t){return this.cache[t]}};n(Ra,"FifoCache");Ca=Ra,Aa=class Aa{constructor(t){var r;this.stopsForLanguage=(r=gb.get(t.languageId))!=null?r:_b}tokenize(t){return new Set(pb(t).filter(r=>!this.stopsForLanguage.has(r)))}};n(Aa,"Tokenizer");Oa=Aa,$m=new Ca(20),Ua=class Ua{constructor(t){this.referenceDoc=t,this.tokenizer=new Oa(t)}get referenceTokens(){return this.createReferenceTokens()}async createReferenceTokens(){var t;return(t=this.referenceTokensCache)!=null?t:this.referenceTokensCache=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((o,a)=>o.score>a.score?1:-1):r=="descending"?t.sort((o,a)=>o.score>a.score?-1:1):t}async retrieveAllSnippets(t,r="descending"){var c;let o=[];if(t.source.length===0||(await this.referenceTokens).size===0)return o;let a=t.source.split(`
`),u=this.id()+":"+t.source,i=(c=$m.get(u))!=null?c:[],s=i.length==0,l=s?a.map(m=>this.tokenizer.tokenize(m),this.tokenizer):[];for(let[m,[d,f]]of this.getWindowsDelineations(a).entries()){if(s){let I=new Set;l.slice(d,f).forEach(x=>x.forEach(w=>I.add(w),I)),i.push(I)}let g=i[m],h=this.similarityScore(g,await this.referenceTokens);if(o.length&&d>0&&o[o.length-1].endLine>d){o[o.length-1].score<h&&(o[o.length-1].score=h,o[o.length-1].startLine=d,o[o.length-1].endLine=f);continue}o.push({score:h,startLine:d,endLine:f})}return s&&$m.put(u,i),this.sortScoredSnippets(o,r)}findMatches(t,r){return this.findBestMatch(t,r)}async findBestMatch(t,r){if(t.source.length===0||(await this.referenceTokens).size===0)return[];let o=t.source.split(`
`),a=await this.retrieveAllSnippets(t,"descending");if(a.length===0)return[];let u=[];for(let i=0;i<a.length&&i<r;i++)if(a[i].score!==0){let s=o.slice(a[i].startLine,a[i].endLine).join(`
`);u.push({snippet:s,semantics:"snippet",provider:"similar-files",...a[i]})}return u}};n(Ua,"WindowedMatcher");on=Ua;n(pb,"splitIntoWords");fb=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),_b=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...fb]),gb=new Map([])});function si(e,t){let r=[],o=t.length;if(o==0)return[];if(o<e)return[[0,o]];for(let a=0;a<o-e+1;a++)r.push([a,a+e]);return r}var Ba=p(()=>{"use strict";Jr();Qr();n(si,"getBasicWindowDelineations")});function hb(e,t){let r=new Set;return e.forEach(o=>{t.has(o)&&r.add(o)}),r.size/(e.size+t.size-r.size)}var Jn,ai,zm=p(()=>{"use strict";oi();ii();Ba();Jn=class Jn extends on{constructor(t,r){super(t),this.windowLength=r}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return si(this.windowLength,t)}_getCursorContextInfo(t){return vr(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return hb(t,r)}};n(Jn,"FixedWindowSizeJaccardMatcher"),Jn.FACTORY=n(t=>({to:n(r=>new Jn(r,t),"to")}),"FACTORY");ai=Jn;n(hb,"computeScore")});var Hm=oe((exports,module)=>{var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;let _Parser=class _Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=n((i,s)=>{throw s},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(i){return Module.locateFile?Module.locateFile(i,scriptDirectory):scriptDirectory+i}n(locateFile,"locateFile");function logExceptionOnExit(i){i instanceof ExitStatus||err("exiting due to exception: "+i)}if(n(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=n((i,s)=>(i=isFileURI(i)?new URL(i):nodePath.normalize(i),fs.readFileSync(i,s?void 0:"utf8")),"read_"),readBinary=n(i=>{var s=read_(i,!0);return s.buffer||(s=new Uint8Array(s)),s},"readBinary"),readAsync=n((i,s,l)=>{i=isFileURI(i)?new URL(i):nodePath.normalize(i),fs.readFile(i,function(c,m){c?l(c):s(m.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=n((i,s)=>{if(keepRuntimeAlive())throw process.exitCode=i,s;logExceptionOnExit(s),process.exit(i)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=n(i=>{var s=new XMLHttpRequest;return s.open("GET",i,!1),s.send(null),s.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=n(i=>{var s=new XMLHttpRequest;return s.open("GET",i,!1),s.responseType="arraybuffer",s.send(null),new Uint8Array(s.response)},"readBinary")),readAsync=n((i,s,l)=>{var c=new XMLHttpRequest;c.open("GET",i,!0),c.responseType="arraybuffer",c.onload=()=>{c.status==200||c.status==0&&c.response?s(c.response):l()},c.onerror=l,c.send(null)},"readAsync"),setWindowTitle=n(i=>document.title=i,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(i,s,l){for(var c=s+l,m=s;i[m]&&!(m>=c);)++m;if(m-s>16&&i.buffer&&UTF8Decoder)return UTF8Decoder.decode(i.subarray(s,m));for(var d="";s<m;){var f=i[s++];if(128&f){var g=63&i[s++];if((224&f)!=192){var h=63&i[s++];if((f=(240&f)==224?(15&f)<<12|g<<6|h:(7&f)<<18|g<<12|h<<6|63&i[s++])<65536)d+=String.fromCharCode(f);else{var I=f-65536;d+=String.fromCharCode(55296|I>>10,56320|1023&I)}}else d+=String.fromCharCode((31&f)<<6|g)}else d+=String.fromCharCode(f)}return d}n(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(i,s){return i?UTF8ArrayToString(HEAPU8,i,s):""}n(UTF8ToString,"UTF8ToString");function stringToUTF8Array(i,s,l,c){if(!(c>0))return 0;for(var m=l,d=l+c-1,f=0;f<i.length;++f){var g=i.charCodeAt(f);if(g>=55296&&g<=57343&&(g=65536+((1023&g)<<10)|1023&i.charCodeAt(++f)),g<=127){if(l>=d)break;s[l++]=g}else if(g<=2047){if(l+1>=d)break;s[l++]=192|g>>6,s[l++]=128|63&g}else if(g<=65535){if(l+2>=d)break;s[l++]=224|g>>12,s[l++]=128|g>>6&63,s[l++]=128|63&g}else{if(l+3>=d)break;s[l++]=240|g>>18,s[l++]=128|g>>12&63,s[l++]=128|g>>6&63,s[l++]=128|63&g}}return s[l]=0,l-m}n(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(i,s,l){return stringToUTF8Array(i,HEAPU8,s,l)}n(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(i){for(var s=0,l=0;l<i.length;++l){var c=i.charCodeAt(l);c<=127?s++:c<=2047?s+=2:c>=55296&&c<=57343?(s+=4,++l):s+=3}return s}n(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(i){buffer=i,Module.HEAP8=HEAP8=new Int8Array(i),Module.HEAP16=HEAP16=new Int16Array(i),Module.HEAP32=HEAP32=new Int32Array(i),Module.HEAPU8=HEAPU8=new Uint8Array(i),Module.HEAPU16=HEAPU16=new Uint16Array(i),Module.HEAPU32=HEAPU32=new Uint32Array(i),Module.HEAPF32=HEAPF32=new Float32Array(i),Module.HEAPF64=HEAPF64=new Float64Array(i)}n(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}n(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}n(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}n(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}n(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}n(postRun,"postRun");function addOnPreRun(i){__ATPRERUN__.unshift(i)}n(addOnPreRun,"addOnPreRun");function addOnInit(i){__ATINIT__.unshift(i)}n(addOnInit,"addOnInit");function addOnPostRun(i){__ATPOSTRUN__.unshift(i)}n(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(i){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}n(addRunDependency,"addRunDependency");function removeRunDependency(i){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var s=dependenciesFulfilled;dependenciesFulfilled=null,s()}}n(removeRunDependency,"removeRunDependency");function abort(i){throw Module.onAbort&&Module.onAbort(i),err(i="Aborted("+i+")"),ABORT=!0,EXITSTATUS=1,i+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(i)}n(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(i){return i.startsWith(dataURIPrefix)}n(isDataURI,"isDataURI");function isFileURI(i){return i.startsWith("file://")}n(isFileURI,"isFileURI");function getBinary(i){try{if(i==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(i);throw"both async and sync fetching of the wasm failed"}catch(s){abort(s)}}n(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(i){if(!i.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return i.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(i,s){readAsync(wasmBinaryFile,function(l){i(new Uint8Array(l))},s)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}n(getBinaryPromise,"getBinaryPromise");function createWasm(){var i={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function s(m,d){var f=m.exports;f=relocateExports(f,1024);var g=getDylinkMetadata(d);g.neededDynlibs&&(dynamicLibraries=g.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(f,"main"),Module.asm=f,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}n(s,"t");function l(m){s(m.instance,m.module)}n(l,"r");function c(m){return getBinaryPromise().then(function(d){return WebAssembly.instantiate(d,i)}).then(function(d){return d}).then(m,function(d){err("failed to asynchronously prepare wasm: "+d),abort(d)})}if(n(c,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(i,s)}catch(m){return err("Module.instantiateWasm callback failed with error: "+m),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?c(l):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(m){return WebAssembly.instantiateStreaming(m,i).then(l,function(d){return err("wasm streaming compile failed: "+d),err("falling back to ArrayBuffer instantiation"),c(l)})}),{}}n(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(i){this.name="ExitStatus",this.message="Program terminated with exit("+i+")",this.status=i}n(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:n(function(i,s){var l=GOT[s];return l||(l=GOT[s]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(s)||(l.required=!0),l},"get")};function callRuntimeCallbacks(i){for(;i.length>0;)i.shift()(Module)}n(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(i){var s=0,l=0;function c(){for(var R=0,E=1;;){var F=i[s++];if(R+=(127&F)*E,E*=128,!(128&F))break}return R}n(c,"_");function m(){var R=c();return UTF8ArrayToString(i,(s+=R)-R,R)}n(m,"n");function d(R,E){if(R)throw new Error(E)}n(d,"s");var f="dylink.0";if(i instanceof WebAssembly.Module){var g=WebAssembly.Module.customSections(i,f);g.length===0&&(f="dylink",g=WebAssembly.Module.customSections(i,f)),d(g.length===0,"need dylink section"),l=(i=new Uint8Array(g[0])).length}else{d(new Uint32Array(new Uint8Array(i.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),d(i[8]!==0,"need the dylink section to be first"),s=9;var h=c();l=s+h,f=m()}var I={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(f=="dylink"){I.memorySize=c(),I.memoryAlign=c(),I.tableSize=c(),I.tableAlign=c();for(var x=c(),w=0;w<x;++w){var N=m();I.neededDynlibs.push(N)}}else for(d(f!=="dylink.0");s<l;){var M=i[s++],T=c();if(M===1)I.memorySize=c(),I.memoryAlign=c(),I.tableSize=c(),I.tableAlign=c();else if(M===2)for(x=c(),w=0;w<x;++w)N=m(),I.neededDynlibs.push(N);else if(M===3)for(var L=c();L--;){var O=m();256&c()&&I.tlsExports.add(O)}else if(M===4)for(L=c();L--;)m(),O=m(),(3&c())==1&&I.weakImports.add(O);else s+=T}return I}n(getDylinkMetadata,"getDylinkMetadata");function getValue(i,s="i8"){switch(s.endsWith("*")&&(s="*"),s){case"i1":case"i8":return HEAP8[i>>0];case"i16":return HEAP16[i>>1];case"i32":case"i64":return HEAP32[i>>2];case"float":return HEAPF32[i>>2];case"double":return HEAPF64[i>>3];case"*":return HEAPU32[i>>2];default:abort("invalid type for getValue: "+s)}return null}n(getValue,"getValue");function asmjsMangle(i){return i.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(i)?i:"_"+i}n(asmjsMangle,"asmjsMangle");function mergeLibSymbols(i,s){for(var l in i)if(i.hasOwnProperty(l)){asmLibraryArg.hasOwnProperty(l)||(asmLibraryArg[l]=i[l]);var c=asmjsMangle(l);Module.hasOwnProperty(c)||(Module[c]=i[l]),l=="__main_argc_argv"&&(Module._main=i[l])}}n(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(i,s,l){var c=Module["dynCall_"+i];return l&&l.length?c.apply(null,[s].concat(l)):c.call(null,s)}n(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(i){var s=wasmTableMirror[i];return s||(i>=wasmTableMirror.length&&(wasmTableMirror.length=i+1),wasmTableMirror[i]=s=wasmTable.get(i)),s}n(getWasmTableEntry,"getWasmTableEntry");function dynCall(i,s,l){return i.includes("j")?dynCallLegacy(i,s,l):getWasmTableEntry(s).apply(null,l)}n(dynCall,"dynCall");function createInvokeFunction(i){return function(){var s=stackSave();try{return dynCall(i,arguments[0],Array.prototype.slice.call(arguments,1))}catch(l){if(stackRestore(s),l!==l+0)throw l;_setThrew(1,0)}}}n(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(i,s){return HEAPU8.fill(0,i,i+s),i}n(zeroMemory,"zeroMemory");function getMemory(i){if(runtimeInitialized)return zeroMemory(_malloc(i),i);var s=___heap_base,l=s+i+15&-16;return ___heap_base=l,GOT.__heap_base.value=l,s}n(getMemory,"getMemory");function isInternalSym(i){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(i)}n(isInternalSym,"isInternalSym");function uleb128Encode(i,s){i<128?s.push(i):s.push(i%128|128,i>>7)}n(uleb128Encode,"uleb128Encode");function sigToWasmTypes(i){for(var s={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},l={parameters:[],results:i[0]=="v"?[]:[s[i[0]]]},c=1;c<i.length;++c)l.parameters.push(s[i[c]]),i[c]==="j"&&l.parameters.push("i32");return l}n(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(i,s){var l=i.slice(0,1),c=i.slice(1),m={i:127,p:127,j:126,f:125,d:124};s.push(96),uleb128Encode(c.length,s);for(var d=0;d<c.length;++d)s.push(m[c[d]]);l=="v"?s.push(0):s.push(1,m[l])}n(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(i,s){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(s),i);var l=[1];generateFuncType(s,l);var c=[0,97,115,109,1,0,0,0,1];uleb128Encode(l.length,c),c.push.apply(c,l),c.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var m=new WebAssembly.Module(new Uint8Array(c));return new WebAssembly.Instance(m,{e:{f:i}}).exports.f}n(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(i,s){if(functionsInTableMap)for(var l=i;l<i+s;l++){var c=getWasmTableEntry(l);c&&functionsInTableMap.set(c,l)}}n(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(i){throw i instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":i}return wasmTable.length-1}n(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(i,s){wasmTable.set(i,s),wasmTableMirror[i]=wasmTable.get(i)}n(setWasmTableEntry,"setWasmTableEntry");function addFunction(i,s){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(i))return functionsInTableMap.get(i);var l=getEmptyTableSlot();try{setWasmTableEntry(l,i)}catch(c){if(!(c instanceof TypeError))throw c;setWasmTableEntry(l,convertJsFunctionToWasm(i,s))}return functionsInTableMap.set(i,l),l}n(addFunction,"addFunction");function updateGOT(i,s){for(var l in i)if(!isInternalSym(l)){var c=i[l];l.startsWith("orig$")&&(l=l.split("$")[1],s=!0),GOT[l]||(GOT[l]=new WebAssembly.Global({value:"i32",mutable:!0})),(s||GOT[l].value==0)&&(typeof c=="function"?GOT[l].value=addFunction(c):typeof c=="number"?GOT[l].value=c:err("unhandled export type for `"+l+"`: "+typeof c))}}n(updateGOT,"updateGOT");function relocateExports(i,s,l){var c={};for(var m in i){var d=i[m];typeof d=="object"&&(d=d.value),typeof d=="number"&&(d+=s),c[m]=d}return updateGOT(c,l),c}n(relocateExports,"relocateExports");function resolveGlobalSymbol(i,s){var l;return s&&(l=asmLibraryArg["orig$"+i]),l||(l=asmLibraryArg[i])&&l.stub&&(l=void 0),l||(l=Module[asmjsMangle(i)]),!l&&i.startsWith("invoke_")&&(l=createInvokeFunction(i.split("_")[1])),l}n(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(i,s){return Math.ceil(i/s)*s}n(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(i){var s=resolveGlobalSymbol(i,!1);return s||(s=moduleExports[i]),s}n(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:n(function(i,s){switch(s){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(s in asmLibraryArg)return asmLibraryArg[s];var l;return s in i||(i[s]=function(){return l||(l=resolveSymbol(s)),l.apply(null,arguments)}),i[s]},"get")},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(n(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(n(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(i){return postInstantiation(i.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return n(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(i,s){return i.then(function(){return loadDynamicLibrary(s,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(i){loadDynamicLibrary(i,flags)}),loadModule())}n(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(i,s,l){s=s||{global:!0,nodelete:!0};var c=LDSO.loadedLibsByName[i];if(c)return s.global&&!c.global&&(c.global=!0,c.module!=="loading"&&mergeLibSymbols(c.module,i)),s.nodelete&&c.refcount!==1/0&&(c.refcount=1/0),c.refcount++,l&&(LDSO.loadedLibsByHandle[l]=c),!s.loadAsync||Promise.resolve(!0);function m(g){if(s.fs&&s.fs.findObject(g)){var h=s.fs.readFile(g,{encoding:"binary"});return h instanceof Uint8Array||(h=new Uint8Array(h)),s.loadAsync?Promise.resolve(h):h}if(g=locateFile(g),s.loadAsync)return new Promise(function(I,x){readAsync(g,w=>I(new Uint8Array(w)),x)});if(!readBinary)throw new Error(g+": file not found, and synchronous loading of external files is not available");return readBinary(g)}n(m,"n");function d(){if(typeof preloadedWasm<"u"&&preloadedWasm[i]){var g=preloadedWasm[i];return s.loadAsync?Promise.resolve(g):g}return s.loadAsync?m(i).then(function(h){return loadWebAssemblyModule(h,s,l)}):loadWebAssemblyModule(m(i),s,l)}n(d,"s");function f(g){c.global&&mergeLibSymbols(g,i),c.module=g}return n(f,"a"),c={refcount:s.nodelete?1/0:1,name:i,module:"loading",global:s.global},LDSO.loadedLibsByName[i]=c,l&&(LDSO.loadedLibsByHandle[l]=c),s.loadAsync?d().then(function(g){return f(g),!0}):(f(d()),!0)}n(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var i in GOT)if(GOT[i].value==0){var s=resolveGlobalSymbol(i,!0);if(!s&&!GOT[i].required)continue;if(typeof s=="function")GOT[i].value=addFunction(s,s.sig);else{if(typeof s!="number")throw new Error("bad export type for `"+i+"`: "+typeof s);GOT[i].value=s}}}n(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(i,s){return i.then(function(){return loadDynamicLibrary(s,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}n(preloadDylibs,"preloadDylibs");function setValue(i,s,l="i8"){switch(l.endsWith("*")&&(l="*"),l){case"i1":case"i8":HEAP8[i>>0]=s;break;case"i16":HEAP16[i>>1]=s;break;case"i32":HEAP32[i>>2]=s;break;case"i64":tempI64=[s>>>0,(tempDouble=s,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[i>>2]=tempI64[0],HEAP32[i+4>>2]=tempI64[1];break;case"float":HEAPF32[i>>2]=s;break;case"double":HEAPF64[i>>3]=s;break;case"*":HEAPU32[i>>2]=s;break;default:abort("invalid type for setValue: "+l)}}n(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}n(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}n(_abort,"_abort");function _emscripten_date_now(){return Date.now()}n(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(i,s,l){HEAPU8.copyWithin(i,s,s+l)}n(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}n(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(i){try{return wasmMemory.grow(i-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}n(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(i){var s=HEAPU8.length;i>>>=0;var l=getHeapMax();if(i>l)return!1;for(var c=1;c<=4;c*=2){var m=s*(1+.2/c);if(m=Math.min(m,i+100663296),emscripten_realloc_buffer(Math.min(l,(d=Math.max(i,m))+((f=65536)-d%f)%f)))return!0}var d,f;return!1}n(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var i=process.hrtime();return 1e3*i[0]+i[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:n(function(i,s,l){if(PATH.isAbs(s))return s;var c;if(i===-100?c=FS.cwd():c=SYSCALLS.getStreamFromFD(i).path,s.length==0){if(!l)throw new FS.ErrnoError(44);return c}return PATH.join2(c,s)},"calculateAt"),doStat:n(function(i,s,l){try{var c=i(s)}catch(g){if(g&&g.node&&PATH.normalize(s)!==PATH.normalize(FS.getPath(g.node)))return-54;throw g}HEAP32[l>>2]=c.dev,HEAP32[l+8>>2]=c.ino,HEAP32[l+12>>2]=c.mode,HEAPU32[l+16>>2]=c.nlink,HEAP32[l+20>>2]=c.uid,HEAP32[l+24>>2]=c.gid,HEAP32[l+28>>2]=c.rdev,tempI64=[c.size>>>0,(tempDouble=c.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+40>>2]=tempI64[0],HEAP32[l+44>>2]=tempI64[1],HEAP32[l+48>>2]=4096,HEAP32[l+52>>2]=c.blocks;var m=c.atime.getTime(),d=c.mtime.getTime(),f=c.ctime.getTime();return tempI64=[Math.floor(m/1e3)>>>0,(tempDouble=Math.floor(m/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+56>>2]=tempI64[0],HEAP32[l+60>>2]=tempI64[1],HEAPU32[l+64>>2]=m%1e3*1e3,tempI64=[Math.floor(d/1e3)>>>0,(tempDouble=Math.floor(d/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+72>>2]=tempI64[0],HEAP32[l+76>>2]=tempI64[1],HEAPU32[l+80>>2]=d%1e3*1e3,tempI64=[Math.floor(f/1e3)>>>0,(tempDouble=Math.floor(f/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+88>>2]=tempI64[0],HEAP32[l+92>>2]=tempI64[1],HEAPU32[l+96>>2]=f%1e3*1e3,tempI64=[c.ino>>>0,(tempDouble=c.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+104>>2]=tempI64[0],HEAP32[l+108>>2]=tempI64[1],0},"doStat"),doMsync:n(function(i,s,l,c,m){if(!FS.isFile(s.node.mode))throw new FS.ErrnoError(43);if(2&c)return 0;var d=HEAPU8.slice(i,i+l);FS.msync(s,d,m,l,c)},"doMsync"),varargs:void 0,get:n(function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},"get"),getStr:n(function(i){return UTF8ToString(i)},"getStr"),getStreamFromFD:n(function(i){var s=FS.getStream(i);if(!s)throw new FS.ErrnoError(8);return s},"getStreamFromFD")};function _proc_exit(i){EXITSTATUS=i,keepRuntimeAlive()||(Module.onExit&&Module.onExit(i),ABORT=!0),quit_(i,new ExitStatus(i))}n(_proc_exit,"_proc_exit");function exitJS(i,s){EXITSTATUS=i,_proc_exit(i)}n(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(i){try{var s=SYSCALLS.getStreamFromFD(i);return FS.close(s),0}catch(l){if(typeof FS>"u"||!(l instanceof FS.ErrnoError))throw l;return l.errno}}n(_fd_close,"_fd_close");function convertI32PairToI53Checked(i,s){return s+2097152>>>0<4194305-!!i?(i>>>0)+4294967296*s:NaN}n(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(i,s,l,c,m){try{var d=convertI32PairToI53Checked(s,l);if(isNaN(d))return 61;var f=SYSCALLS.getStreamFromFD(i);return FS.llseek(f,d,c),tempI64=[f.position>>>0,(tempDouble=f.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[m>>2]=tempI64[0],HEAP32[m+4>>2]=tempI64[1],f.getdents&&d===0&&c===0&&(f.getdents=null),0}catch(g){if(typeof FS>"u"||!(g instanceof FS.ErrnoError))throw g;return g.errno}}n(_fd_seek,"_fd_seek");function doWritev(i,s,l,c){for(var m=0,d=0;d<l;d++){var f=HEAPU32[s>>2],g=HEAPU32[s+4>>2];s+=8;var h=FS.write(i,HEAP8,f,g,c);if(h<0)return-1;m+=h,c!==void 0&&(c+=h)}return m}n(doWritev,"doWritev");function _fd_write(i,s,l,c){try{var m=doWritev(SYSCALLS.getStreamFromFD(i),s,l);return HEAPU32[c>>2]=m,0}catch(d){if(typeof FS>"u"||!(d instanceof FS.ErrnoError))throw d;return d.errno}}n(_fd_write,"_fd_write");function _tree_sitter_log_callback(i,s){if(currentLogCallback){let l=UTF8ToString(s);currentLogCallback(l,i!==0)}}n(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(i,s,l,c,m){var d=currentParseCallback(s,{row:l,column:c});typeof d=="string"?(setValue(m,d.length,"i32"),stringToUTF16(d,i,10240)):setValue(m,0,"i32")}n(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(i){if(i instanceof ExitStatus||i=="unwind")return EXITSTATUS;quit_(1,i)}n(handleException,"handleException");function allocateUTF8OnStack(i){var s=lengthBytesUTF8(i)+1,l=stackAlloc(s);return stringToUTF8Array(i,HEAP8,l,s),l}n(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(i,s,l){if(l===void 0&&(l=2147483647),l<2)return 0;for(var c=s,m=(l-=2)<2*i.length?l/2:i.length,d=0;d<m;++d){var f=i.charCodeAt(d);HEAP16[s>>1]=f,s+=2}return HEAP16[s>>1]=0,s-c}n(stringToUTF16,"stringToUTF16");function AsciiToString(i){for(var s="";;){var l=HEAPU8[i++>>0];if(!l)return s;s+=String.fromCharCode(l)}}n(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(i){var s=Module._main;if(s){(i=i||[]).unshift(thisProgram);var l=i.length,c=stackAlloc(4*(l+1)),m=c>>2;i.forEach(f=>{HEAP32[m++]=allocateUTF8OnStack(f)}),HEAP32[m]=0;try{var d=s(l,c);return exitJS(d,!0),d}catch(f){return handleException(f)}}}n(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=n(function i(){calledRun||run(),calledRun||(dependenciesFulfilled=i)},"e");var dylibsLoaded=!1;function run(i){function s(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(i),postRun()))}n(s,"t"),i=i||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),s()},1)):s()))}if(n(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;let e=class e{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(s){let l;if(s){if(s.constructor!==Language)throw new Error("Argument must be a Language");{l=s[0];let c=C._ts_language_version(l);if(c<MIN_COMPATIBLE_VERSION||VERSION<c)throw new Error(`Incompatible language version ${c}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else l=0,s=null;return this.language=s,C._ts_parser_set_language(this[0],l),this}getLanguage(){return this.language}parse(s,l,c){if(typeof s=="string")currentParseCallback=n((h,I,x)=>s.slice(h,x),"currentParseCallback");else{if(typeof s!="function")throw new Error("Argument must be a string or a function");currentParseCallback=s}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let m=0,d=0;if(c&&c.includedRanges){m=c.includedRanges.length,d=C._calloc(m,SIZE_OF_RANGE);let h=d;for(let I=0;I<m;I++)marshalRange(h,c.includedRanges[I]),h+=SIZE_OF_RANGE}let f=C._ts_parser_parse_wasm(this[0],this[1],l?l[0]:0,d,m);if(!f)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let g=new Tree(INTERNAL,f,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,g}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(s){C._ts_parser_set_timeout_micros(this[0],s)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(s){if(s){if(typeof s!="function")throw new Error("Logger callback must be a function")}else s=null;return this.logCallback=s,this}getLogger(){return this.logCallback}};n(e,"ParserImpl");let ParserImpl=e,t=class t{constructor(s,l,c,m){assertInternal(s),this[0]=l,this.language=c,this.textCallback=m}copy(){let s=C._ts_tree_copy(this[0]);return new t(INTERNAL,s,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(s){marshalEdit(s),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(s){if(s.constructor!==t)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],s[0]);let l=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),m=new Array(l);if(l>0){let d=c;for(let f=0;f<l;f++)m[f]=unmarshalRange(d),d+=SIZE_OF_RANGE;C._free(c)}return m}};n(t,"Tree");let Tree=t,r=class r{constructor(s,l){assertInternal(s),this.tree=l}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(s){return this.id===s.id}child(s){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],s),unmarshalNode(this.tree)}namedChild(s){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],s),unmarshalNode(this.tree)}childForFieldId(s){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],s),unmarshalNode(this.tree)}childForFieldName(s){let l=this.tree.language.fields.indexOf(s);if(l!==-1)return this.childForFieldId(l)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let s=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(s),s>0){let c=l;for(let m=0;m<s;m++)this._children[m]=unmarshalNode(this.tree,c),c+=SIZE_OF_NODE;C._free(l)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let s=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(s),s>0){let c=l;for(let m=0;m<s;m++)this._namedChildren[m]=unmarshalNode(this.tree,c),c+=SIZE_OF_NODE;C._free(l)}}return this._namedChildren}descendantsOfType(s,l,c){Array.isArray(s)||(s=[s]),l||(l=ZERO_POINT),c||(c=ZERO_POINT);let m=[],d=this.tree.language.types;for(let x=0,w=d.length;x<w;x++)s.includes(d[x])&&m.push(x);let f=C._malloc(SIZE_OF_INT*m.length);for(let x=0,w=m.length;x<w;x++)setValue(f+x*SIZE_OF_INT,m[x],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],f,m.length,l.row,l.column,c.row,c.column);let g=getValue(TRANSFER_BUFFER,"i32"),h=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),I=new Array(g);if(g>0){let x=h;for(let w=0;w<g;w++)I[w]=unmarshalNode(this.tree,x),x+=SIZE_OF_NODE}return C._free(h),C._free(f),I}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(s,l=s){if(typeof s!="number"||typeof l!="number")throw new Error("Arguments must be numbers");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(c,s,"i32"),setValue(c+SIZE_OF_INT,l,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(s,l=s){if(typeof s!="number"||typeof l!="number")throw new Error("Arguments must be numbers");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(c,s,"i32"),setValue(c+SIZE_OF_INT,l,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(s,l=s){if(!isPoint(s)||!isPoint(l))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(c,s),marshalPoint(c+SIZE_OF_POINT,l),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(s,l=s){if(!isPoint(s)||!isPoint(l))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(c,s),marshalPoint(c+SIZE_OF_POINT,l),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let s=C._ts_node_to_string_wasm(this.tree[0]),l=AsciiToString(s);return C._free(s),l}};n(r,"Node");let Node=r,o=class o{constructor(s,l){assertInternal(s),this.tree=l,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(s){marshalNode(s),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let s=C._ts_tree_cursor_start_index_wasm(this.tree[0]),l=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,s,l)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let s=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),s===1}gotoNextSibling(){marshalTreeCursor(this);let s=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),s===1}gotoParent(){marshalTreeCursor(this);let s=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),s===1}};n(o,"TreeCursor");let TreeCursor=o,a=class a{constructor(s,l){assertInternal(s),this[0]=l,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let c=0,m=this.types.length;c<m;c++)C._ts_language_symbol_type(this[0],c)<2&&(this.types[c]=UTF8ToString(C._ts_language_symbol_name(this[0],c)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let c=0,m=this.fields.length;c<m;c++){let d=C._ts_language_field_name_for_id(this[0],c);this.fields[c]=d!==0?UTF8ToString(d):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(s){let l=this.fields.indexOf(s);return l!==-1?l:null}fieldNameForId(s){return this.fields[s]||null}idForNodeType(s,l){let c=lengthBytesUTF8(s),m=C._malloc(c+1);stringToUTF8(s,m,c+1);let d=C._ts_language_symbol_for_name(this[0],m,c,l);return C._free(m),d||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(s){let l=C._ts_language_symbol_name(this[0],s);return l?UTF8ToString(l):null}nodeTypeIsNamed(s){return!!C._ts_language_type_is_named_wasm(this[0],s)}nodeTypeIsVisible(s){return!!C._ts_language_type_is_visible_wasm(this[0],s)}query(s){let l=lengthBytesUTF8(s),c=C._malloc(l+1);stringToUTF8(s,c,l+1);let m=C._ts_query_new(this[0],c,l,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!m){let L=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),O=UTF8ToString(c,getValue(TRANSFER_BUFFER,"i32")).length,R=s.substr(O,100).split(`
`)[0],E,F=R.match(QUERY_WORD_REGEX)[0];switch(L){case 2:E=new RangeError(`Bad node name '${F}'`);break;case 3:E=new RangeError(`Bad field name '${F}'`);break;case 4:E=new RangeError(`Bad capture name @${F}`);break;case 5:E=new TypeError(`Bad pattern structure at offset ${O}: '${R}'...`),F="";break;default:E=new SyntaxError(`Bad syntax at offset ${O}: '${R}'...`),F=""}throw E.index=O,E.length=F.length,C._free(c),E}let d=C._ts_query_string_count(m),f=C._ts_query_capture_count(m),g=C._ts_query_pattern_count(m),h=new Array(f),I=new Array(d);for(let L=0;L<f;L++){let O=C._ts_query_capture_name_for_id(m,L,TRANSFER_BUFFER),R=getValue(TRANSFER_BUFFER,"i32");h[L]=UTF8ToString(O,R)}for(let L=0;L<d;L++){let O=C._ts_query_string_value_for_id(m,L,TRANSFER_BUFFER),R=getValue(TRANSFER_BUFFER,"i32");I[L]=UTF8ToString(O,R)}let x=new Array(g),w=new Array(g),N=new Array(g),M=new Array(g),T=new Array(g);for(let L=0;L<g;L++){let O=C._ts_query_predicates_for_pattern(m,L,TRANSFER_BUFFER),R=getValue(TRANSFER_BUFFER,"i32");M[L]=[],T[L]=[];let E=[],F=O;for(let he=0;he<R;he++){let Ir=getValue(F,"i32");F+=SIZE_OF_INT;let qt=getValue(F,"i32");if(F+=SIZE_OF_INT,Ir===PREDICATE_STEP_TYPE_CAPTURE)E.push({type:"capture",name:h[qt]});else if(Ir===PREDICATE_STEP_TYPE_STRING)E.push({type:"string",value:I[qt]});else if(E.length>0){if(E[0].type!=="string")throw new Error("Predicates must begin with a literal value");let yt=E[0].value,nt=!0;switch(yt){case"not-eq?":nt=!1;case"eq?":if(E.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(E.length-1));if(E[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${E[1].value}"`);if(E[2].type==="capture"){let Ct=E[1].name,Gr=E[2].name;T[L].push(function(Ps){let Vr,ks;for(let No of Ps)No.name===Ct&&(Vr=No.node),No.name===Gr&&(ks=No.node);return Vr===void 0||ks===void 0||Vr.text===ks.text===nt})}else{let Ct=E[1].name,Gr=E[2].value;T[L].push(function(Ps){for(let Vr of Ps)if(Vr.name===Ct)return Vr.node.text===Gr===nt;return!0})}break;case"not-match?":nt=!1;case"match?":if(E.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${E.length-1}.`);if(E[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${E[1].value}".`);if(E[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${E[2].value}.`);let ke=E[1].name,Zt=new RegExp(E[2].value);T[L].push(function(Ct){for(let Gr of Ct)if(Gr.name===ke)return Zt.test(Gr.node.text)===nt;return!0});break;case"set!":if(E.length<2||E.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${E.length-1}.`);if(E.some(Ct=>Ct.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');x[L]||(x[L]={}),x[L][E[1].value]=E[2]?E[2].value:null;break;case"is?":case"is-not?":if(E.length<2||E.length>3)throw new Error(`Wrong number of arguments to \`#${yt}\` predicate. Expected 1 or 2. Got ${E.length-1}.`);if(E.some(Ct=>Ct.type!=="string"))throw new Error(`Arguments to \`#${yt}\` predicate must be a strings.".`);let Pn=yt==="is?"?w:N;Pn[L]||(Pn[L]={}),Pn[L][E[1].value]=E[2]?E[2].value:null;break;default:M[L].push({operator:yt,operands:E.slice(1)})}E.length=0}}Object.freeze(x[L]),Object.freeze(w[L]),Object.freeze(N[L])}return C._free(c),new Query(INTERNAL,m,h,T,M,Object.freeze(x),Object.freeze(w),Object.freeze(N))}static load(s){let l;if(s instanceof Uint8Array)l=Promise.resolve(s);else{let m=s;if(typeof process<"u"&&process.versions&&process.versions.node){let d=require("fs");l=Promise.resolve(d.readFileSync(m))}else l=fetch(m).then(d=>d.arrayBuffer().then(f=>{if(d.ok)return new Uint8Array(f);{let g=new TextDecoder("utf-8").decode(f);throw new Error(`Language.load failed with status ${d.status}.

${g}`)}}))}let c=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return l.then(m=>c(m,{loadAsync:!0})).then(m=>{let d=Object.keys(m),f=d.find(h=>LANGUAGE_FUNCTION_REGEX.test(h)&&!h.includes("external_scanner_"));f||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(d,null,2)}`);let g=m[f]();return new a(INTERNAL,g)})}};n(a,"Language");let Language=a,u=class u{constructor(s,l,c,m,d,f,g,h){assertInternal(s),this[0]=l,this.captureNames=c,this.textPredicates=m,this.predicates=d,this.setProperties=f,this.assertedProperties=g,this.refutedProperties=h,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(s,l,c,m){l||(l=ZERO_POINT),c||(c=ZERO_POINT),m||(m={});let d=m.matchLimit;if(d===void 0)d=0;else if(typeof d!="number")throw new Error("Arguments must be numbers");marshalNode(s),C._ts_query_matches_wasm(this[0],s.tree[0],l.row,l.column,c.row,c.column,d);let f=getValue(TRANSFER_BUFFER,"i32"),g=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),h=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),I=new Array(f);this.exceededMatchLimit=!!h;let x=0,w=g;for(let N=0;N<f;N++){let M=getValue(w,"i32");w+=SIZE_OF_INT;let T=getValue(w,"i32");w+=SIZE_OF_INT;let L=new Array(T);if(w=unmarshalCaptures(this,s.tree,w,L),this.textPredicates[M].every(O=>O(L))){I[x++]={pattern:M,captures:L};let O=this.setProperties[M];O&&(I[N].setProperties=O);let R=this.assertedProperties[M];R&&(I[N].assertedProperties=R);let E=this.refutedProperties[M];E&&(I[N].refutedProperties=E)}}return I.length=x,C._free(g),I}captures(s,l,c,m){l||(l=ZERO_POINT),c||(c=ZERO_POINT),m||(m={});let d=m.matchLimit;if(d===void 0)d=0;else if(typeof d!="number")throw new Error("Arguments must be numbers");marshalNode(s),C._ts_query_captures_wasm(this[0],s.tree[0],l.row,l.column,c.row,c.column,d);let f=getValue(TRANSFER_BUFFER,"i32"),g=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),h=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),I=[];this.exceededMatchLimit=!!h;let x=[],w=g;for(let N=0;N<f;N++){let M=getValue(w,"i32");w+=SIZE_OF_INT;let T=getValue(w,"i32");w+=SIZE_OF_INT;let L=getValue(w,"i32");if(w+=SIZE_OF_INT,x.length=T,w=unmarshalCaptures(this,s.tree,w,x),this.textPredicates[M].every(O=>O(x))){let O=x[L],R=this.setProperties[M];R&&(O.setProperties=R);let E=this.assertedProperties[M];E&&(O.assertedProperties=E);let F=this.refutedProperties[M];F&&(O.refutedProperties=F),I.push(O)}}return C._free(g),I}predicatesForPattern(s){return this.predicates[s]}didExceedMatchLimit(){return this.exceededMatchLimit}};n(u,"Query");let Query=u;function getText(i,s,l){let c=l-s,m=i.textCallback(s,null,l);for(s+=m.length;s<l;){let d=i.textCallback(s,null,l);if(!(d&&d.length>0))break;s+=d.length,m+=d}return s>l&&(m=m.slice(0,c)),m}n(getText,"getText");function unmarshalCaptures(i,s,l,c){for(let m=0,d=c.length;m<d;m++){let f=getValue(l,"i32"),g=unmarshalNode(s,l+=SIZE_OF_INT);l+=SIZE_OF_NODE,c[m]={name:i.captureNames[f],node:g}}return l}n(unmarshalCaptures,"unmarshalCaptures");function assertInternal(i){if(i!==INTERNAL)throw new Error("Illegal constructor")}n(assertInternal,"assertInternal");function isPoint(i){return i&&typeof i.row=="number"&&typeof i.column=="number"}n(isPoint,"isPoint");function marshalNode(i){let s=TRANSFER_BUFFER;setValue(s,i.id,"i32"),s+=SIZE_OF_INT,setValue(s,i.startIndex,"i32"),s+=SIZE_OF_INT,setValue(s,i.startPosition.row,"i32"),s+=SIZE_OF_INT,setValue(s,i.startPosition.column,"i32"),s+=SIZE_OF_INT,setValue(s,i[0],"i32")}n(marshalNode,"marshalNode");function unmarshalNode(i,s=TRANSFER_BUFFER){let l=getValue(s,"i32");if(l===0)return null;let c=getValue(s+=SIZE_OF_INT,"i32"),m=getValue(s+=SIZE_OF_INT,"i32"),d=getValue(s+=SIZE_OF_INT,"i32"),f=getValue(s+=SIZE_OF_INT,"i32"),g=new Node(INTERNAL,i);return g.id=l,g.startIndex=c,g.startPosition={row:m,column:d},g[0]=f,g}n(unmarshalNode,"unmarshalNode");function marshalTreeCursor(i,s=TRANSFER_BUFFER){setValue(s+0*SIZE_OF_INT,i[0],"i32"),setValue(s+1*SIZE_OF_INT,i[1],"i32"),setValue(s+2*SIZE_OF_INT,i[2],"i32")}n(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(i){i[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),i[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),i[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}n(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(i,s){setValue(i,s.row,"i32"),setValue(i+SIZE_OF_INT,s.column,"i32")}n(marshalPoint,"marshalPoint");function unmarshalPoint(i){return{row:getValue(i,"i32"),column:getValue(i+SIZE_OF_INT,"i32")}}n(unmarshalPoint,"unmarshalPoint");function marshalRange(i,s){marshalPoint(i,s.startPosition),marshalPoint(i+=SIZE_OF_POINT,s.endPosition),setValue(i+=SIZE_OF_POINT,s.startIndex,"i32"),setValue(i+=SIZE_OF_INT,s.endIndex,"i32"),i+=SIZE_OF_INT}n(marshalRange,"marshalRange");function unmarshalRange(i){let s={};return s.startPosition=unmarshalPoint(i),i+=SIZE_OF_POINT,s.endPosition=unmarshalPoint(i),i+=SIZE_OF_POINT,s.startIndex=getValue(i,"i32"),i+=SIZE_OF_INT,s.endIndex=getValue(i,"i32"),s}n(unmarshalRange,"unmarshalRange");function marshalEdit(i){let s=TRANSFER_BUFFER;marshalPoint(s,i.startPosition),s+=SIZE_OF_POINT,marshalPoint(s,i.oldEndPosition),s+=SIZE_OF_POINT,marshalPoint(s,i.newEndPosition),s+=SIZE_OF_POINT,setValue(s,i.startIndex,"i32"),s+=SIZE_OF_INT,setValue(s,i.oldEndIndex,"i32"),s+=SIZE_OF_INT,setValue(s,i.newEndIndex,"i32"),s+=SIZE_OF_INT}n(marshalEdit,"marshalEdit");for(let i of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(_Parser.prototype,i,{value:ParserImpl.prototype[i],enumerable:!1,writable:!1});_Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}};n(_Parser,"Parser");let Parser=_Parser;return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});function sn(e){return e in ja&&e!=="csharp"&&e!=="java"}function Xn(e){if(!(e in ja))throw new Error(`Unrecognized language: ${e}`);return ja[e]}async function bb(e){let t,r=ui.default.resolve(ui.default.extname(__filename)!==".ts"?__dirname:ui.default.resolve(__dirname,"../../dist"),`tree-sitter-${e}.wasm`);try{t=await qm.promises.readFile(r)}catch(o){throw o instanceof Error&&"code"in o&&typeof o.code=="string"&&o.name==="Error"?new er(`Could not load tree-sitter-${e}.wasm`,o):o}return li.default.Language.load(t)}function Jm(e){let t=Xn(e);if(!Da.has(t)){let r=bb(t);Da.set(t,r)}return Da.get(t)}async function an(e,t){await li.default.init();let r;try{r=new li.default}catch(u){throw u&&typeof u=="object"&&"message"in u&&typeof u.message=="string"&&u.message.includes("table index is out of bounds")?new Ka(`Could not init Parse for language <${e}>`,u):u}let o=await Jm(e);r.setLanguage(o);let a=r.parse(t);return r.delete(),a}function yb(e){switch(Xn(e)){case"python":return null;case"javascript":case"typescript":case"tsx":case"go":case"c_sharp":case"java":return"}";case"ruby":return"end"}}function Ib(e,t){let r=[];for(let o of e){if(!o[1]){let a=t.tree.getLanguage();o[1]=a.query(o[0])}r.push(...o[1].matches(t))}return r}function Ga(e){return Ib([xb],e).length==1}var qm,ui,li,Zm,ja,Da,Va,Ka,xb,ci=p(()=>{"use strict";Vo();qm=require("fs"),ui=Nn(require("path")),li=Nn(Hm()),Zm=(l=>(l.Python="python",l.JavaScript="javascript",l.TypeScript="typescript",l.TSX="tsx",l.Go="go",l.Ruby="ruby",l.CSharp="c_sharp",l.Java="java",l))(Zm||{}),ja={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c_sharp",java:"java"};n(sn,"isSupportedLanguageId");n(Xn,"languageIdToWasmLanguage");Da=new Map;n(bb,"loadWasmLanguage");n(Jm,"getLanguage");Va=class Va extends Error{constructor(r,o){super(r);this.cause=o}};n(Va,"WrappedError");Ka=Va;n(an,"parseTreeSitter");n(yb,"getBlockCloseToken");n(Ib,"innerQuery");xb=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];n(Ga,"queryPythonIsDocstring")});function wb(e,t){let r=new Set;return t.forEach(o=>{e.has(o)&&r.add(o)}),r.size}var nr,mi,Xm=p(()=>{"use strict";ci();oi();ii();Ba();nr=class nr extends on{constructor(t,r){super(t),this.windowLength=r}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return si(this.windowLength,t)}_getCursorContextInfo(t){return vr(t,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=nr.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){var a;let t=(a=await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))==null?void 0:a.startIndex,r=this.referenceDoc.offset,o=t?this.referenceDoc.source.slice(t,r):vr(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(o)}static syntaxAwareSupportsLanguage(t){switch(t){case"csharp":return!0;default:return!1}}similarityScore(t,r){return wb(t,r)}async getEnclosingMemberStart(t,r){var a;let o;try{o=await an(this.referenceDoc.languageId,t);let u=o.rootNode.namedDescendantForIndex(r);for(;u&&!(nr.isMember(u)||nr.isBlock(u));)u=(a=u.parent)!=null?a:void 0;return u}finally{o==null||o.delete()}}static isMember(t){switch(t==null?void 0:t.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(t){switch(t==null?void 0:t.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};n(nr,"BlockTokenSubsetMatcher"),nr.FACTORY=n(t=>({to:n(r=>new nr(r,t),"to")}),"FACTORY");mi=nr;n(wb,"computeScore")});function Pb(e,t){return(t.useSubsetMatching?mi.FACTORY(t.snippetLength):ai.FACTORY(t.snippetLength)).to(e)}async function Qm(e,t,r){let o=Pb(e,r);return r.maxTopSnippets===0?[]:(await t.filter(u=>u.source.length<r.maxCharPerFile&&u.source.length>0).slice(0,r.maxNumberOfFiles).reduce(async(u,i)=>(await u).concat((await o.findMatches(i,r.maxSnippetsPerFile)).map(s=>({relativePath:i.relativePath,...s}))),Promise.resolve([]))).filter(u=>u.score&&u.snippet&&u.score>r.threshold).sort((u,i)=>u.score-i.score).slice(-r.maxTopSnippets)}var Sb,Eb,Tb,vb,Mb,Lb,Ym,Wa,di=p(()=>{"use strict";zm();Xm();Sb=0,Eb=60,Tb=4,vb=1,Mb=20,Lb=1e4,Ym={snippetLength:Eb,threshold:Sb,maxTopSnippets:Tb,maxCharPerFile:Lb,maxNumberOfFiles:Mb,maxSnippetsPerFile:vb,useSubsetMatching:!1},Wa={snippetLength:60,threshold:0,maxTopSnippets:16,maxCharPerFile:1e5,maxNumberOfFiles:200,maxSnippetsPerFile:4};n(Pb,"getMatcher");n(Qm,"getSimilarSnippets")});function ed(e,t,r){if(!r)throw new Error("targetTokenBudget must be specified for the truncateFirstLinesFirst summarizer");let o=t.text.split(`
`);for(let x=0;x<o.length-1;x++)o[x]+=`
`;let a=[];o.forEach((x,w)=>{x===`
`&&a.length>0&&!a[a.length-1].endsWith(`

`)?a[a.length-1]+=`
`:a.push(x)});let u=a.map(x=>e.tokenLength(x)),i=1,s=0;for(;i<=u.length;i++){let x=u.at(-i);if(x){if(x+s>r){i--;break}s+=x}}let c=a.slice(-i).join(""),m=e.tokenLength(c),f=a.slice(0,-i).join(""),g=e.tokenLength(f),h={id:t.id,kind:t.kind,text:c,tokens:m,score:t.score},I={id:t.id,kind:t.kind,text:f,tokens:g,score:t.score};return{summarizedElement:h,removedMaterial:I}}var td=p(()=>{"use strict";n(ed,"truncateFirstLinesFirst")});var $a,pi,rd=p(()=>{"use strict";td();fi();$a=class $a{constructor(t="default"){switch(t){case"default":default:this.kindToFunctionMap=new Map([["BeforeCursor",ed]])}}isSummarizationAvailable(t){return this.kindToFunctionMap.has(t)}summarize(t,r,o){return this.kindToFunctionMap.get(r.kind)(t,r,o)}};n($a,"SnippetTextProcessor");pi=$a});function nd(e,t){let r=`Use ${e}`;return rr(r,t)}function od(e){let t=e.source.substring(0,e.offset);return Nb.test(t)}function id(e,t){let r=e.lastIndexOf(`
`)+1,o=e.substring(0,r),a=e.substring(r);return t.snippet=t.snippet+a,[o,t]}var Nb,za=p(()=>{"use strict";Rt();Nb=/(\.|->|::)\w+$/;n(nd,"announceTooltipSignatureSnippet");n(od,"endsWithAttributesOrMethod");n(id,"transferLastLineToTooltipSignature")});var xe={};Wr(xe,{HasPropertyKey:()=>_i,IsArray:()=>se,IsAsyncIterator:()=>Ha,IsBigInt:()=>Yn,IsBoolean:()=>Bt,IsDate:()=>Mr,IsFunction:()=>qa,IsIterator:()=>Za,IsNull:()=>Ja,IsNumber:()=>je,IsObject:()=>W,IsRegExp:()=>Qn,IsString:()=>q,IsSymbol:()=>Xa,IsUint8Array:()=>Dt,IsUndefined:()=>ae});function _i(e,t){return t in e}function Ha(e){return W(e)&&!se(e)&&!Dt(e)&&Symbol.asyncIterator in e}function se(e){return Array.isArray(e)}function Yn(e){return typeof e=="bigint"}function Bt(e){return typeof e=="boolean"}function Mr(e){return e instanceof globalThis.Date}function qa(e){return typeof e=="function"}function Za(e){return W(e)&&!se(e)&&!Dt(e)&&Symbol.iterator in e}function Ja(e){return e===null}function je(e){return typeof e=="number"}function W(e){return typeof e=="object"&&e!==null}function Qn(e){return e instanceof globalThis.RegExp}function q(e){return typeof e=="string"}function Xa(e){return typeof e=="symbol"}function Dt(e){return e instanceof globalThis.Uint8Array}function ae(e){return e===void 0}var Pe=p(()=>{n(_i,"HasPropertyKey");n(Ha,"IsAsyncIterator");n(se,"IsArray");n(Yn,"IsBigInt");n(Bt,"IsBoolean");n(Mr,"IsDate");n(qa,"IsFunction");n(Za,"IsIterator");n(Ja,"IsNull");n(je,"IsNumber");n(W,"IsObject");n(Qn,"IsRegExp");n(q,"IsString");n(Xa,"IsSymbol");n(Dt,"IsUint8Array");n(ae,"IsUndefined")});function Fb(e){return e.map(t=>gi(t))}function Cb(e){return new Date(e.getTime())}function Ob(e){return new Uint8Array(e)}function Rb(e){return new RegExp(e.source,e.flags)}function Ab(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=gi(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=gi(e[r]);return t}function gi(e){return se(e)?Fb(e):Mr(e)?Cb(e):Dt(e)?Ob(e):Qn(e)?Rb(e):W(e)?Ab(e):e}function Y(e){return gi(e)}var Ne=p(()=>{Pe();n(Fb,"ArrayType");n(Cb,"DateType");n(Ob,"Uint8ArrayType");n(Rb,"RegExpType");n(Ab,"ObjectType");n(gi,"Visit");n(Y,"Clone")});function un(e,t){return t===void 0?Y(e):Y({...t,...e})}var hi=p(()=>{Ne();n(un,"CloneType")});var Ya=p(()=>{hi();Ne()});function sd(e){return e!==null&&typeof e=="object"}function ad(e){return globalThis.Array.isArray(e)&&!globalThis.ArrayBuffer.isView(e)}function ud(e){return e===void 0}function ld(e){return typeof e=="number"}var cd=p(()=>{n(sd,"IsObject");n(ad,"IsArray");n(ud,"IsUndefined");n(ld,"IsNumber")});var md=p(()=>{cd()});var bi,dd=p(()=>{md();(function(e){e.InstanceMode="default",e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(i,s){return e.ExactOptionalPropertyTypes?s in i:i[s]!==void 0}n(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(i){let s=sd(i);return e.AllowArrayObject?s:s&&!ad(i)}n(r,"IsObjectLike"),e.IsObjectLike=r;function o(i){return r(i)&&!(i instanceof Date)&&!(i instanceof Uint8Array)}n(o,"IsRecordLike"),e.IsRecordLike=o;function a(i){return e.AllowNaN?ld(i):Number.isFinite(i)}n(a,"IsNumberLike"),e.IsNumberLike=a;function u(i){let s=ud(i);return e.AllowNullVoid?s||i===null:s}n(u,"IsVoidLike"),e.IsVoidLike=u})(bi||(bi={}))});function Ub(e){return globalThis.Object.freeze(e).map(t=>eo(t))}function Bb(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=eo(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=eo(e[r]);return globalThis.Object.freeze(t)}function eo(e){return se(e)?Ub(e):Mr(e)?e:Dt(e)?e:Qn(e)?e:W(e)?Bb(e):e}var pd=p(()=>{Pe();n(Ub,"ImmutableArray");n(Bb,"ImmutableObject");n(eo,"Immutable")});function b(e,t){let r=t!==void 0?{...t,...e}:e;switch(bi.InstanceMode){case"freeze":return eo(r);case"clone":return Y(r);default:return r}}var P=p(()=>{dd();pd();Ne();n(b,"CreateType")});var jt=p(()=>{P()});var Qa,be,fd=p(()=>{Qa=class Qa extends Error{constructor(t){super(t)}};n(Qa,"TypeBoxError");be=Qa});var Tt=p(()=>{fd()});var de,lt,we,Je,S,to=p(()=>{de=Symbol.for("TypeBox.Transform"),lt=Symbol.for("TypeBox.Readonly"),we=Symbol.for("TypeBox.Optional"),Je=Symbol.for("TypeBox.Hint"),S=Symbol.for("TypeBox.Kind")});var k=p(()=>{to()});function ln(e){return W(e)&&e[lt]==="Readonly"}function Fe(e){return W(e)&&e[we]==="Optional"}function eu(e){return U(e,"Any")}function tu(e){return U(e,"Argument")}function ct(e){return U(e,"Array")}function Lr(e){return U(e,"AsyncIterator")}function Pr(e){return U(e,"BigInt")}function Kt(e){return U(e,"Boolean")}function mt(e){return U(e,"Computed")}function dt(e){return U(e,"Constructor")}function Db(e){return U(e,"Date")}function pt(e){return U(e,"Function")}function ft(e){return U(e,"Integer")}function ee(e){return U(e,"Intersect")}function kr(e){return U(e,"Iterator")}function U(e,t){return W(e)&&S in e&&e[S]===t}function yi(e){return Bt(e)||je(e)||q(e)}function Ke(e){return U(e,"Literal")}function Ge(e){return U(e,"MappedKey")}function Q(e){return U(e,"MappedResult")}function or(e){return U(e,"Never")}function jb(e){return U(e,"Not")}function ro(e){return U(e,"Null")}function _t(e){return U(e,"Number")}function ue(e){return U(e,"Object")}function Nr(e){return U(e,"Promise")}function Fr(e){return U(e,"Record")}function ne(e){return U(e,"Ref")}function ru(e){return U(e,"RegExp")}function Gt(e){return U(e,"String")}function no(e){return U(e,"Symbol")}function Ve(e){return U(e,"TemplateLiteral")}function Kb(e){return U(e,"This")}function ir(e){return W(e)&&de in e}function We(e){return U(e,"Tuple")}function oo(e){return U(e,"Undefined")}function B(e){return U(e,"Union")}function Gb(e){return U(e,"Uint8Array")}function Vb(e){return U(e,"Unknown")}function Wb(e){return U(e,"Unsafe")}function $b(e){return U(e,"Void")}function zb(e){return W(e)&&S in e&&q(e[S])}function $e(e){return eu(e)||tu(e)||ct(e)||Kt(e)||Pr(e)||Lr(e)||mt(e)||dt(e)||Db(e)||pt(e)||ft(e)||ee(e)||kr(e)||Ke(e)||Ge(e)||Q(e)||or(e)||jb(e)||ro(e)||_t(e)||ue(e)||Nr(e)||Fr(e)||ne(e)||ru(e)||Gt(e)||no(e)||Ve(e)||Kb(e)||We(e)||oo(e)||B(e)||Gb(e)||Vb(e)||Wb(e)||$b(e)||zb(e)}var K=p(()=>{Pe();k();n(ln,"IsReadonly");n(Fe,"IsOptional");n(eu,"IsAny");n(tu,"IsArgument");n(ct,"IsArray");n(Lr,"IsAsyncIterator");n(Pr,"IsBigInt");n(Kt,"IsBoolean");n(mt,"IsComputed");n(dt,"IsConstructor");n(Db,"IsDate");n(pt,"IsFunction");n(ft,"IsInteger");n(ee,"IsIntersect");n(kr,"IsIterator");n(U,"IsKindOf");n(yi,"IsLiteralValue");n(Ke,"IsLiteral");n(Ge,"IsMappedKey");n(Q,"IsMappedResult");n(or,"IsNever");n(jb,"IsNot");n(ro,"IsNull");n(_t,"IsNumber");n(ue,"IsObject");n(Nr,"IsPromise");n(Fr,"IsRecord");n(ne,"IsRef");n(ru,"IsRegExp");n(Gt,"IsString");n(no,"IsSymbol");n(Ve,"IsTemplateLiteral");n(Kb,"IsThis");n(ir,"IsTransform");n(We,"IsTuple");n(oo,"IsUndefined");n(B,"IsUnion");n(Gb,"IsUint8Array");n(Vb,"IsUnknown");n(Wb,"IsUnsafe");n($b,"IsVoid");n(zb,"IsKind");n($e,"IsSchema")});var _={};Wr(_,{IsAny:()=>bd,IsArgument:()=>yd,IsArray:()=>Id,IsAsyncIterator:()=>xd,IsBigInt:()=>wd,IsBoolean:()=>Sd,IsComputed:()=>Ed,IsConstructor:()=>Td,IsDate:()=>vd,IsFunction:()=>Md,IsImport:()=>Yb,IsInteger:()=>Ld,IsIntersect:()=>Pd,IsIterator:()=>kd,IsKind:()=>rp,IsKindOf:()=>A,IsLiteral:()=>so,IsLiteralBoolean:()=>Qb,IsLiteralNumber:()=>Fd,IsLiteralString:()=>Nd,IsLiteralValue:()=>Cd,IsMappedKey:()=>Od,IsMappedResult:()=>Rd,IsNever:()=>Ad,IsNot:()=>Ud,IsNull:()=>Bd,IsNumber:()=>Dd,IsObject:()=>jd,IsOptional:()=>Xb,IsPromise:()=>Kd,IsProperties:()=>Ii,IsReadonly:()=>Jb,IsRecord:()=>Gd,IsRecursive:()=>ey,IsRef:()=>Vd,IsRegExp:()=>Wd,IsSchema:()=>ye,IsString:()=>$d,IsSymbol:()=>zd,IsTemplateLiteral:()=>Hd,IsThis:()=>qd,IsTransform:()=>Zd,IsTuple:()=>Jd,IsUint8Array:()=>Yd,IsUndefined:()=>Xd,IsUnion:()=>su,IsUnionLiteral:()=>ty,IsUnknown:()=>Qd,IsUnsafe:()=>ep,IsVoid:()=>tp,TypeGuardUnknownTypeError:()=>nu});function _d(e){try{return new RegExp(e),!0}catch{return!1}}function ou(e){if(!q(e))return!1;for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r>=7&&r<=13||r===27||r===127)return!1}return!0}function gd(e){return iu(e)||ye(e)}function io(e){return ae(e)||Yn(e)}function Z(e){return ae(e)||je(e)}function iu(e){return ae(e)||Bt(e)}function $(e){return ae(e)||q(e)}function qb(e){return ae(e)||q(e)&&ou(e)&&_d(e)}function Zb(e){return ae(e)||q(e)&&ou(e)}function hd(e){return ae(e)||ye(e)}function Jb(e){return W(e)&&e[lt]==="Readonly"}function Xb(e){return W(e)&&e[we]==="Optional"}function bd(e){return A(e,"Any")&&$(e.$id)}function yd(e){return A(e,"Argument")&&je(e.index)}function Id(e){return A(e,"Array")&&e.type==="array"&&$(e.$id)&&ye(e.items)&&Z(e.minItems)&&Z(e.maxItems)&&iu(e.uniqueItems)&&hd(e.contains)&&Z(e.minContains)&&Z(e.maxContains)}function xd(e){return A(e,"AsyncIterator")&&e.type==="AsyncIterator"&&$(e.$id)&&ye(e.items)}function wd(e){return A(e,"BigInt")&&e.type==="bigint"&&$(e.$id)&&io(e.exclusiveMaximum)&&io(e.exclusiveMinimum)&&io(e.maximum)&&io(e.minimum)&&io(e.multipleOf)}function Sd(e){return A(e,"Boolean")&&e.type==="boolean"&&$(e.$id)}function Ed(e){return A(e,"Computed")&&q(e.target)&&se(e.parameters)&&e.parameters.every(t=>ye(t))}function Td(e){return A(e,"Constructor")&&e.type==="Constructor"&&$(e.$id)&&se(e.parameters)&&e.parameters.every(t=>ye(t))&&ye(e.returns)}function vd(e){return A(e,"Date")&&e.type==="Date"&&$(e.$id)&&Z(e.exclusiveMaximumTimestamp)&&Z(e.exclusiveMinimumTimestamp)&&Z(e.maximumTimestamp)&&Z(e.minimumTimestamp)&&Z(e.multipleOfTimestamp)}function Md(e){return A(e,"Function")&&e.type==="Function"&&$(e.$id)&&se(e.parameters)&&e.parameters.every(t=>ye(t))&&ye(e.returns)}function Yb(e){return A(e,"Import")&&_i(e,"$defs")&&W(e.$defs)&&Ii(e.$defs)&&_i(e,"$ref")&&q(e.$ref)&&e.$ref in e.$defs}function Ld(e){return A(e,"Integer")&&e.type==="integer"&&$(e.$id)&&Z(e.exclusiveMaximum)&&Z(e.exclusiveMinimum)&&Z(e.maximum)&&Z(e.minimum)&&Z(e.multipleOf)}function Ii(e){return W(e)&&Object.entries(e).every(([t,r])=>ou(t)&&ye(r))}function Pd(e){return A(e,"Intersect")&&!(q(e.type)&&e.type!=="object")&&se(e.allOf)&&e.allOf.every(t=>ye(t)&&!Zd(t))&&$(e.type)&&(iu(e.unevaluatedProperties)||hd(e.unevaluatedProperties))&&$(e.$id)}function kd(e){return A(e,"Iterator")&&e.type==="Iterator"&&$(e.$id)&&ye(e.items)}function A(e,t){return W(e)&&S in e&&e[S]===t}function Nd(e){return so(e)&&q(e.const)}function Fd(e){return so(e)&&je(e.const)}function Qb(e){return so(e)&&Bt(e.const)}function so(e){return A(e,"Literal")&&$(e.$id)&&Cd(e.const)}function Cd(e){return Bt(e)||je(e)||q(e)}function Od(e){return A(e,"MappedKey")&&se(e.keys)&&e.keys.every(t=>je(t)||q(t))}function Rd(e){return A(e,"MappedResult")&&Ii(e.properties)}function Ad(e){return A(e,"Never")&&W(e.not)&&Object.getOwnPropertyNames(e.not).length===0}function Ud(e){return A(e,"Not")&&ye(e.not)}function Bd(e){return A(e,"Null")&&e.type==="null"&&$(e.$id)}function Dd(e){return A(e,"Number")&&e.type==="number"&&$(e.$id)&&Z(e.exclusiveMaximum)&&Z(e.exclusiveMinimum)&&Z(e.maximum)&&Z(e.minimum)&&Z(e.multipleOf)}function jd(e){return A(e,"Object")&&e.type==="object"&&$(e.$id)&&Ii(e.properties)&&gd(e.additionalProperties)&&Z(e.minProperties)&&Z(e.maxProperties)}function Kd(e){return A(e,"Promise")&&e.type==="Promise"&&$(e.$id)&&ye(e.item)}function Gd(e){return A(e,"Record")&&e.type==="object"&&$(e.$id)&&gd(e.additionalProperties)&&W(e.patternProperties)&&(t=>{let r=Object.getOwnPropertyNames(t.patternProperties);return r.length===1&&_d(r[0])&&W(t.patternProperties)&&ye(t.patternProperties[r[0]])})(e)}function ey(e){return W(e)&&Je in e&&e[Je]==="Recursive"}function Vd(e){return A(e,"Ref")&&$(e.$id)&&q(e.$ref)}function Wd(e){return A(e,"RegExp")&&$(e.$id)&&q(e.source)&&q(e.flags)&&Z(e.maxLength)&&Z(e.minLength)}function $d(e){return A(e,"String")&&e.type==="string"&&$(e.$id)&&Z(e.minLength)&&Z(e.maxLength)&&qb(e.pattern)&&Zb(e.format)}function zd(e){return A(e,"Symbol")&&e.type==="symbol"&&$(e.$id)}function Hd(e){return A(e,"TemplateLiteral")&&e.type==="string"&&q(e.pattern)&&e.pattern[0]==="^"&&e.pattern[e.pattern.length-1]==="$"}function qd(e){return A(e,"This")&&$(e.$id)&&q(e.$ref)}function Zd(e){return W(e)&&de in e}function Jd(e){return A(e,"Tuple")&&e.type==="array"&&$(e.$id)&&je(e.minItems)&&je(e.maxItems)&&e.minItems===e.maxItems&&(ae(e.items)&&ae(e.additionalItems)&&e.minItems===0||se(e.items)&&e.items.every(t=>ye(t)))}function Xd(e){return A(e,"Undefined")&&e.type==="undefined"&&$(e.$id)}function ty(e){return su(e)&&e.anyOf.every(t=>Nd(t)||Fd(t))}function su(e){return A(e,"Union")&&$(e.$id)&&W(e)&&se(e.anyOf)&&e.anyOf.every(t=>ye(t))}function Yd(e){return A(e,"Uint8Array")&&e.type==="Uint8Array"&&$(e.$id)&&Z(e.minByteLength)&&Z(e.maxByteLength)}function Qd(e){return A(e,"Unknown")&&$(e.$id)}function ep(e){return A(e,"Unsafe")}function tp(e){return A(e,"Void")&&e.type==="void"&&$(e.$id)}function rp(e){return W(e)&&S in e&&q(e[S])&&!Hb.includes(e[S])}function ye(e){return W(e)&&(bd(e)||yd(e)||Id(e)||Sd(e)||wd(e)||xd(e)||Ed(e)||Td(e)||vd(e)||Md(e)||Ld(e)||Pd(e)||kd(e)||so(e)||Od(e)||Rd(e)||Ad(e)||Ud(e)||Bd(e)||Dd(e)||jd(e)||Kd(e)||Gd(e)||Vd(e)||Wd(e)||$d(e)||zd(e)||Hd(e)||qd(e)||Jd(e)||Xd(e)||su(e)||Yd(e)||Qd(e)||ep(e)||tp(e)||rp(e))}var au,nu,Hb,np=p(()=>{Pe();k();Tt();au=class au extends be{};n(au,"TypeGuardUnknownTypeError");nu=au,Hb=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];n(_d,"IsPattern");n(ou,"IsControlCharacterFree");n(gd,"IsAdditionalProperties");n(io,"IsOptionalBigInt");n(Z,"IsOptionalNumber");n(iu,"IsOptionalBoolean");n($,"IsOptionalString");n(qb,"IsOptionalPattern");n(Zb,"IsOptionalFormat");n(hd,"IsOptionalSchema");n(Jb,"IsReadonly");n(Xb,"IsOptional");n(bd,"IsAny");n(yd,"IsArgument");n(Id,"IsArray");n(xd,"IsAsyncIterator");n(wd,"IsBigInt");n(Sd,"IsBoolean");n(Ed,"IsComputed");n(Td,"IsConstructor");n(vd,"IsDate");n(Md,"IsFunction");n(Yb,"IsImport");n(Ld,"IsInteger");n(Ii,"IsProperties");n(Pd,"IsIntersect");n(kd,"IsIterator");n(A,"IsKindOf");n(Nd,"IsLiteralString");n(Fd,"IsLiteralNumber");n(Qb,"IsLiteralBoolean");n(so,"IsLiteral");n(Cd,"IsLiteralValue");n(Od,"IsMappedKey");n(Rd,"IsMappedResult");n(Ad,"IsNever");n(Ud,"IsNot");n(Bd,"IsNull");n(Dd,"IsNumber");n(jd,"IsObject");n(Kd,"IsPromise");n(Gd,"IsRecord");n(ey,"IsRecursive");n(Vd,"IsRef");n(Wd,"IsRegExp");n($d,"IsString");n(zd,"IsSymbol");n(Hd,"IsTemplateLiteral");n(qd,"IsThis");n(Zd,"IsTransform");n(Jd,"IsTuple");n(Xd,"IsUndefined");n(ty,"IsUnionLiteral");n(su,"IsUnion");n(Yd,"IsUint8Array");n(Qd,"IsUnknown");n(ep,"IsUnsafe");n(tp,"IsVoid");n(rp,"IsKind");n(ye,"IsSchema")});var uu=p(()=>{np();Pe()});var op=p(()=>{});var ip=p(()=>{op()});var lu,ao,cu,ry,B0,ar,ur,sp,ap=p(()=>{lu="(true|false)",ao="(0|[1-9][0-9]*)",cu="(.*)",ry="(?!.*)",B0=`^${lu}$`,ar=`^${ao}$`,ur=`^${cu}$`,sp=`^${ry}$`});var uo=p(()=>{ap()});var mu={};Wr(mu,{Clear:()=>oy,Delete:()=>iy,Entries:()=>ny,Get:()=>uy,Has:()=>sy,Set:()=>ay});function ny(){return new Map(cn)}function oy(){return cn.clear()}function iy(e){return cn.delete(e)}function sy(e){return cn.has(e)}function ay(e,t){cn.set(e,t)}function uy(e){return cn.get(e)}var cn,up=p(()=>{cn=new Map;n(ny,"Entries");n(oy,"Clear");n(iy,"Delete");n(sy,"Has");n(ay,"Set");n(uy,"Get")});var du={};Wr(du,{Clear:()=>cy,Delete:()=>my,Entries:()=>ly,Get:()=>fy,Has:()=>dy,Set:()=>py});function ly(){return new Map(mn)}function cy(){return mn.clear()}function my(e){return mn.delete(e)}function dy(e){return mn.has(e)}function py(e,t){mn.set(e,t)}function fy(e){return mn.get(e)}var mn,lp=p(()=>{mn=new Map;n(ly,"Entries");n(cy,"Clear");n(my,"Delete");n(dy,"Has");n(py,"Set");n(fy,"Get")});var cp=p(()=>{up();lp()});function mp(e,t){return e.includes(t)}function dp(e){return[...new Set(e)]}function _y(e,t){return e.filter(r=>t.includes(r))}function gy(e,t){return e.reduce((r,o)=>_y(r,o),t)}function pp(e){return e.length===1?e[0]:e.length>1?gy(e.slice(1),e[0]):[]}function fp(e){let t=[];for(let r of e)t.push(...r);return t}var _p=p(()=>{n(mp,"SetIncludes");n(dp,"SetDistinct");n(_y,"SetIntersect");n(gy,"SetIntersectManyResolve");n(pp,"SetIntersectMany");n(fp,"SetUnionMany")});var lo=p(()=>{_p()});function lr(e){return b({[S]:"Any"},e)}var gp=p(()=>{jt();k();n(lr,"Any")});var co=p(()=>{gp()});function dn(e,t){return b({[S]:"Array",type:"array",items:e},t)}var hp=p(()=>{P();k();n(dn,"Array")});var mo=p(()=>{hp()});function bp(e){return b({[S]:"Argument",index:e})}var yp=p(()=>{P();k();n(bp,"Argument")});var pu=p(()=>{yp()});function pn(e,t){return b({[S]:"AsyncIterator",type:"AsyncIterator",items:e},t)}var Ip=p(()=>{k();P();n(pn,"AsyncIterator")});var po=p(()=>{Ip()});function J(e,t,r){return b({[S]:"Computed",target:e,parameters:t},r)}var xp=p(()=>{jt();to();n(J,"Computed")});var cr=p(()=>{xp()});function hy(e,t){let{[t]:r,...o}=e;return o}function te(e,t){return t.reduce((r,o)=>hy(r,o),e)}var xi=p(()=>{n(hy,"DiscardKey");n(te,"Discard")});var Vt=p(()=>{xi()});function D(e){return b({[S]:"Never",not:{}},e)}var wp=p(()=>{P();k();n(D,"Never")});var Se=p(()=>{wp()});var Sp=p(()=>{});function j(e){return b({[S]:"MappedResult",properties:e})}var fu=p(()=>{P();k();n(j,"MappedResult")});function fn(e,t,r){return b({[S]:"Constructor",type:"Constructor",parameters:e,returns:t},r)}var Ep=p(()=>{P();k();n(fn,"Constructor")});var fo=p(()=>{Ep()});function vt(e,t,r){return b({[S]:"Function",type:"Function",parameters:e,returns:t},r)}var Tp=p(()=>{P();k();n(vt,"Function")});var Cr=p(()=>{Tp()});function _o(e,t){return b({[S]:"Union",anyOf:e},t)}var _u=p(()=>{P();k();n(_o,"UnionCreate")});function by(e){return e.some(t=>Fe(t))}function vp(e){return e.map(t=>Fe(t)?yy(t):t)}function yy(e){return te(e,[we])}function Iy(e,t){return by(e)?Te(_o(vp(e),t)):_o(vp(e),t)}function Mt(e,t){return e.length===1?b(e[0],t):e.length===0?D(t):Iy(e,t)}var Mp=p(()=>{P();k();Vt();Se();Wt();_u();K();n(by,"IsUnionOptional");n(vp,"RemoveOptionalFromRest");n(yy,"RemoveOptionalFromType");n(Iy,"ResolveUnion");n(Mt,"UnionEvaluated")});var Lp=p(()=>{});function V(e,t){return e.length===0?D(t):e.length===1?b(e[0],t):_o(e,t)}var Pp=p(()=>{Se();P();_u();n(V,"Union")});var pe=p(()=>{Mp();Lp();Pp()});function xy(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}function gu(e,t,r){return e[t]===r&&e.charCodeAt(t-1)!==92}function $t(e,t){return gu(e,t,"(")}function go(e,t){return gu(e,t,")")}function kp(e,t){return gu(e,t,"|")}function wy(e){if(!($t(e,0)&&go(e,e.length-1)))return!1;let t=0;for(let r=0;r<e.length;r++)if($t(e,r)&&(t+=1),go(e,r)&&(t-=1),t===0&&r!==e.length-1)return!1;return!0}function Sy(e){return e.slice(1,e.length-1)}function Ey(e){let t=0;for(let r=0;r<e.length;r++)if($t(e,r)&&(t+=1),go(e,r)&&(t-=1),kp(e,r)&&t===0)return!0;return!1}function Ty(e){for(let t=0;t<e.length;t++)if($t(e,t))return!0;return!1}function vy(e){let[t,r]=[0,0],o=[];for(let u=0;u<e.length;u++)if($t(e,u)&&(t+=1),go(e,u)&&(t-=1),kp(e,u)&&t===0){let i=e.slice(r,u);i.length>0&&o.push(_n(i)),r=u+1}let a=e.slice(r);return a.length>0&&o.push(_n(a)),o.length===0?{type:"const",const:""}:o.length===1?o[0]:{type:"or",expr:o}}function My(e){function t(a,u){if(!$t(a,u))throw new wi("TemplateLiteralParser: Index must point to open parens");let i=0;for(let s=u;s<a.length;s++)if($t(a,s)&&(i+=1),go(a,s)&&(i-=1),i===0)return[u,s];throw new wi("TemplateLiteralParser: Unclosed group parens in expression")}n(t,"Group");function r(a,u){for(let i=u;i<a.length;i++)if($t(a,i))return[u,i];return[u,a.length]}n(r,"Range");let o=[];for(let a=0;a<e.length;a++)if($t(e,a)){let[u,i]=t(e,a),s=e.slice(u,i+1);o.push(_n(s)),a=i}else{let[u,i]=r(e,a),s=e.slice(u,i);s.length>0&&o.push(_n(s)),a=i-1}return o.length===0?{type:"const",const:""}:o.length===1?o[0]:{type:"and",expr:o}}function _n(e){return wy(e)?_n(Sy(e)):Ey(e)?vy(e):Ty(e)?My(e):{type:"const",const:xy(e)}}function gn(e){return _n(e.slice(1,e.length-1))}var hu,wi,Si=p(()=>{Tt();hu=class hu extends be{};n(hu,"TemplateLiteralParserError");wi=hu;n(xy,"Unescape");n(gu,"IsNonEscaped");n($t,"IsOpenParen");n(go,"IsCloseParen");n(kp,"IsSeparator");n(wy,"IsGroup");n(Sy,"InGroup");n(Ey,"IsPrecedenceOr");n(Ty,"IsPrecedenceAnd");n(vy,"Or");n(My,"And");n(_n,"TemplateLiteralParse");n(gn,"TemplateLiteralParseExact")});function Ly(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="0"&&e.expr[1].type==="const"&&e.expr[1].const==="[1-9][0-9]*"}function Py(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="true"&&e.expr[1].type==="const"&&e.expr[1].const==="false"}function ky(e){return e.type==="const"&&e.const===".*"}function Or(e){return Ly(e)||ky(e)?!1:Py(e)?!0:e.type==="and"?e.expr.every(t=>Or(t)):e.type==="or"?e.expr.every(t=>Or(t)):e.type==="const"?!0:(()=>{throw new bu("Unknown expression type")})()}function Np(e){let t=gn(e.pattern);return Or(t)}var yu,bu,Iu=p(()=>{Si();Tt();yu=class yu extends be{};n(yu,"TemplateLiteralFiniteError");bu=yu;n(Ly,"IsNumberExpression");n(Py,"IsBooleanExpression");n(ky,"IsStringExpression");n(Or,"IsTemplateLiteralExpressionFinite");n(Np,"IsTemplateLiteralFinite")});function*Fp(e){if(e.length===1)return yield*e[0];for(let t of e[0])for(let r of Fp(e.slice(1)))yield`${t}${r}`}function*Ny(e){return yield*Fp(e.expr.map(t=>[...ho(t)]))}function*Fy(e){for(let t of e.expr)yield*ho(t)}function*Cy(e){return yield e.const}function*ho(e){return e.type==="and"?yield*Ny(e):e.type==="or"?yield*Fy(e):e.type==="const"?yield*Cy(e):(()=>{throw new xu("Unknown expression")})()}function Ei(e){let t=gn(e.pattern);return Or(t)?[...ho(t)]:[]}var wu,xu,Su=p(()=>{Iu();Si();Tt();wu=class wu extends be{};n(wu,"TemplateLiteralGenerateError");xu=wu;n(Fp,"GenerateReduce");n(Ny,"GenerateAnd");n(Fy,"GenerateOr");n(Cy,"GenerateConst");n(ho,"TemplateLiteralExpressionGenerate");n(Ei,"TemplateLiteralGenerate")});function G(e,t){return b({[S]:"Literal",const:e,type:typeof e},t)}var Cp=p(()=>{P();k();n(G,"Literal")});var Ce=p(()=>{Cp()});function Ti(e){return b({[S]:"Boolean",type:"boolean"},e)}var Op=p(()=>{k();jt();n(Ti,"Boolean")});var vi=p(()=>{Op()});function hn(e){return b({[S]:"BigInt",type:"bigint"},e)}var Rp=p(()=>{k();jt();n(hn,"BigInt")});var bo=p(()=>{Rp()});function Xe(e){return b({[S]:"Number",type:"number"},e)}var Ap=p(()=>{P();k();n(Xe,"Number")});var Rr=p(()=>{Ap()});function gt(e){return b({[S]:"String",type:"string"},e)}var Up=p(()=>{P();k();n(gt,"String")});var bn=p(()=>{Up()});function*Oy(e){let t=e.trim().replace(/"|'/g,"");return t==="boolean"?yield Ti():t==="number"?yield Xe():t==="bigint"?yield hn():t==="string"?yield gt():yield(()=>{let r=t.split("|").map(o=>G(o.trim()));return r.length===0?D():r.length===1?r[0]:Mt(r)})()}function*Ry(e){if(e[1]!=="{"){let t=G("$"),r=Eu(e.slice(1));return yield*[t,...r]}for(let t=2;t<e.length;t++)if(e[t]==="}"){let r=Oy(e.slice(2,t)),o=Eu(e.slice(t+1));return yield*[...r,...o]}yield G(e)}function*Eu(e){for(let t=0;t<e.length;t++)if(e[t]==="$"){let r=G(e.slice(0,t)),o=Ry(e.slice(t));return yield*[r,...o]}yield G(e)}function Bp(e){return[...Eu(e)]}var Tu=p(()=>{Ce();vi();bo();Rr();bn();pe();Se();n(Oy,"FromUnion");n(Ry,"FromTerminal");n(Eu,"FromSyntax");n(Bp,"TemplateLiteralSyntax")});function Ay(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Dp(e,t){return Ve(e)?e.pattern.slice(1,e.pattern.length-1):B(e)?`(${e.anyOf.map(r=>Dp(r,t)).join("|")})`:_t(e)?`${t}${ao}`:ft(e)?`${t}${ao}`:Pr(e)?`${t}${ao}`:Gt(e)?`${t}${cu}`:Ke(e)?`${t}${Ay(e.const.toString())}`:Kt(e)?`${t}${lu}`:(()=>{throw new vu(`Unexpected Kind '${e[S]}'`)})()}function Mu(e){return`^${e.map(t=>Dp(t,"")).join("")}$`}var Lu,vu,Pu=p(()=>{uo();k();Tt();K();Lu=class Lu extends be{};n(Lu,"TemplateLiteralPatternError");vu=Lu;n(Ay,"Escape");n(Dp,"Visit");n(Mu,"TemplateLiteralPattern")});function Ar(e){let r=Ei(e).map(o=>G(o));return Mt(r)}var jp=p(()=>{pe();Ce();Su();n(Ar,"TemplateLiteralToUnion")});function Mi(e,t){let r=q(e)?Mu(Bp(e)):Mu(e);return b({[S]:"TemplateLiteral",type:"string",pattern:r},t)}var Kp=p(()=>{P();Tu();Pu();Pe();k();n(Mi,"TemplateLiteral")});var zt=p(()=>{Iu();Su();Tu();Si();Pu();jp();Kp()});function Uy(e){return Ei(e).map(r=>r.toString())}function By(e){let t=[];for(let r of e)t.push(...Oe(r));return t}function Dy(e){return[e.toString()]}function Oe(e){return[...new Set(Ve(e)?Uy(e):B(e)?By(e.anyOf):Ke(e)?Dy(e.const):_t(e)?["[number]"]:ft(e)?["[number]"]:[])]}var Li=p(()=>{zt();K();n(Uy,"FromTemplateLiteral");n(By,"FromUnion");n(Dy,"FromLiteral");n(Oe,"IndexPropertyKeys")});function jy(e,t,r){let o={};for(let a of Object.getOwnPropertyNames(t))o[a]=mr(e,Oe(t[a]),r);return o}function Ky(e,t,r){return jy(e,t.properties,r)}function Gp(e,t,r){let o=Ky(e,t,r);return j(o)}var ku=p(()=>{ge();Li();Lt();n(jy,"FromProperties");n(Ky,"FromMappedResult");n(Gp,"IndexFromMappedResult")});function Wp(e,t){return e.map(r=>$p(r,t))}function Gy(e){return e.filter(t=>!or(t))}function Vy(e,t){return Pi(Gy(Wp(e,t)))}function Wy(e){return e.some(t=>or(t))?[]:e}function $y(e,t){return Mt(Wy(Wp(e,t)))}function zy(e,t){return t in e?e[t]:t==="[number]"?Mt(e):D()}function Hy(e,t){return t==="[number]"?e:D()}function qy(e,t){return t in e?e[t]:D()}function $p(e,t){var r;return ee(e)?Vy(e.allOf,t):B(e)?$y(e.anyOf,t):We(e)?zy((r=e.items)!=null?r:[],t):ct(e)?Hy(e.items,t):ue(e)?qy(e.properties,t):D()}function Nu(e,t){return t.map(r=>$p(e,r))}function Vp(e,t){return Mt(Nu(e,t))}function mr(e,t,r){if(ne(e)||ne(t)){let o="Index types using Ref parameters require both Type and Key to be of TSchema";if(!$e(e)||!$e(t))throw new be(o);return J("Index",[e,t])}return Q(t)?Gp(e,t,r):Ge(t)?zp(e,t,r):b($e(t)?Vp(e,Oe(t)):Vp(e,t),r)}var Fu=p(()=>{P();Tt();cr();Se();Ye();pe();Li();Cu();ku();K();n(Wp,"FromRest");n(Gy,"FromIntersectRest");n(Vy,"FromIntersect");n(Wy,"FromUnionRest");n($y,"FromUnion");n(zy,"FromTuple");n(Hy,"FromArray");n(qy,"FromProperty");n($p,"IndexFromPropertyKey");n(Nu,"IndexFromPropertyKeys");n(Vp,"FromSchema");n(mr,"Index")});function Zy(e,t,r){return{[t]:mr(e,[t],Y(r))}}function Jy(e,t,r){return t.reduce((o,a)=>({...o,...Zy(e,a,r)}),{})}function Xy(e,t,r){return Jy(e,t.keys,r)}function zp(e,t,r){let o=Xy(e,t,r);return j(o)}var Cu=p(()=>{Fu();ge();Ne();n(Zy,"MappedIndexPropertyKey");n(Jy,"MappedIndexPropertyKeys");n(Xy,"MappedIndexProperties");n(zp,"IndexFromMappedKey")});var Lt=p(()=>{Cu();ku();Li();Fu()});function yn(e,t){return b({[S]:"Iterator",type:"Iterator",items:e},t)}var Hp=p(()=>{P();k();n(yn,"Iterator")});var yo=p(()=>{Hp()});function Yy(e){let t=[];for(let r in e)Fe(e[r])||t.push(r);return t}function Qy(e,t){let r=Yy(e),o=r.length>0?{[S]:"Object",type:"object",properties:e,required:r}:{[S]:"Object",type:"object",properties:e};return b(o,t)}var z,qp=p(()=>{P();k();K();n(Yy,"RequiredKeys");n(Qy,"_Object");z=Qy});var ze=p(()=>{qp()});function ki(e,t){return b({[S]:"Promise",type:"Promise",item:e},t)}var Zp=p(()=>{P();k();n(ki,"Promise")});var Ni=p(()=>{Zp()});function eI(e){return b(te(e,[lt]))}function tI(e){return b({...e,[lt]:"Readonly"})}function rI(e,t){return t===!1?eI(e):tI(e)}function Re(e,t){let r=t!=null?t:!0;return Q(e)?Jp(e,r):rI(e,r)}var Ou=p(()=>{P();k();Vt();Ru();K();n(eI,"RemoveReadonly");n(tI,"AddReadonly");n(rI,"ReadonlyWithFlag");n(Re,"Readonly")});function nI(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=Re(e[o],t);return r}function oI(e,t){return nI(e.properties,t)}function Jp(e,t){let r=oI(e,t);return j(r)}var Ru=p(()=>{ge();Ou();n(nI,"FromProperties");n(oI,"FromMappedResult");n(Jp,"ReadonlyFromMappedResult")});var Ur=p(()=>{Ru();Ou()});function Qe(e,t){return b(e.length>0?{[S]:"Tuple",type:"array",items:e,additionalItems:!1,minItems:e.length,maxItems:e.length}:{[S]:"Tuple",type:"array",minItems:e.length,maxItems:e.length},t)}var Xp=p(()=>{P();k();n(Qe,"Tuple")});var dr=p(()=>{Xp()});function Yp(e,t){return e in t?et(e,t[e]):j(t)}function iI(e){return{[e]:G(e)}}function sI(e){let t={};for(let r of e)t[r]=G(r);return t}function aI(e,t){return mp(t,e)?iI(e):sI(t)}function uI(e,t){let r=aI(e,t);return Yp(e,r)}function Io(e,t){return t.map(r=>et(e,r))}function lI(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(t))r[o]=et(e,t[o]);return r}function et(e,t){var o;let r={...t};return Fe(t)?Te(et(e,te(t,[we]))):ln(t)?Re(et(e,te(t,[lt]))):Q(t)?Yp(e,t.properties):Ge(t)?uI(e,t.keys):dt(t)?fn(Io(e,t.parameters),et(e,t.returns),r):pt(t)?vt(Io(e,t.parameters),et(e,t.returns),r):Lr(t)?pn(et(e,t.items),r):kr(t)?yn(et(e,t.items),r):ee(t)?ve(Io(e,t.allOf),r):B(t)?V(Io(e,t.anyOf),r):We(t)?Qe(Io(e,(o=t.items)!=null?o:[]),r):ue(t)?z(lI(e,t.properties),r):ct(t)?dn(et(e,t.items),r):Nr(t)?ki(et(e,t.item),r):t}function cI(e,t){let r={};for(let o of e)r[o]=et(o,t);return r}function Qp(e,t,r){let o=$e(e)?Oe(e):e,a=t({[S]:"MappedKey",keys:o}),u=cI(o,a);return z(u,r)}var ef=p(()=>{k();Vt();mo();po();fo();Cr();Lt();Ye();yo();Ce();ze();Wt();Ni();Ur();dr();pe();lo();fu();K();n(Yp,"FromMappedResult");n(iI,"MappedKeyToKnownMappedResultProperties");n(sI,"MappedKeyToUnknownMappedResultProperties");n(aI,"MappedKeyToMappedResultProperties");n(uI,"FromMappedKey");n(Io,"FromRest");n(lI,"FromProperties");n(et,"FromSchemaType");n(cI,"MappedFunctionReturnType");n(Qp,"Mapped")});var ge=p(()=>{Sp();fu();ef()});function mI(e){return b(te(e,[we]))}function dI(e){return b({...e,[we]:"Optional"})}function pI(e,t){return t===!1?mI(e):dI(e)}function Te(e,t){let r=t!=null?t:!0;return Q(e)?tf(e,r):pI(e,r)}var Au=p(()=>{P();k();Vt();Uu();K();n(mI,"RemoveOptional");n(dI,"AddOptional");n(pI,"OptionalWithFlag");n(Te,"Optional")});function fI(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=Te(e[o],t);return r}function _I(e,t){return fI(e.properties,t)}function tf(e,t){let r=_I(e,t);return j(r)}var Uu=p(()=>{ge();Au();n(fI,"FromProperties");n(_I,"FromMappedResult");n(tf,"OptionalFromMappedResult")});var Wt=p(()=>{Uu();Au()});function xo(e,t={}){let r=e.every(a=>ue(a)),o=$e(t.unevaluatedProperties)?{unevaluatedProperties:t.unevaluatedProperties}:{};return b(t.unevaluatedProperties===!1||$e(t.unevaluatedProperties)||r?{...o,[S]:"Intersect",type:"object",allOf:e}:{...o,[S]:"Intersect",allOf:e},t)}var Bu=p(()=>{P();k();K();n(xo,"IntersectCreate")});function gI(e){return e.every(t=>Fe(t))}function hI(e){return te(e,[we])}function rf(e){return e.map(t=>Fe(t)?hI(t):t)}function bI(e,t){return gI(e)?Te(xo(rf(e),t)):xo(rf(e),t)}function Pi(e,t={}){if(e.length===1)return b(e[0],t);if(e.length===0)return D(t);if(e.some(r=>ir(r)))throw new Error("Cannot intersect transform types");return bI(e,t)}var nf=p(()=>{k();P();Vt();Se();Wt();Bu();K();n(gI,"IsIntersectOptional");n(hI,"RemoveOptionalFromType");n(rf,"RemoveOptionalFromRest");n(bI,"ResolveIntersect");n(Pi,"IntersectEvaluated")});var of=p(()=>{});function ve(e,t){if(e.length===1)return b(e[0],t);if(e.length===0)return D(t);if(e.some(r=>ir(r)))throw new Error("Cannot intersect transform types");return xo(e,t)}var sf=p(()=>{P();Se();Bu();K();n(ve,"Intersect")});var Ye=p(()=>{nf();of();sf()});function Pt(...e){let[t,r]=typeof e[0]=="string"?[e[0],e[1]]:[e[0].$id,e[1]];if(typeof t!="string")throw new be("Ref: $ref must be a string");return b({[S]:"Ref",$ref:t},r)}var af=p(()=>{Tt();P();k();n(Pt,"Ref")});var Br=p(()=>{af()});function yI(e,t){return J("Awaited",[J(e,t)])}function II(e){return J("Awaited",[Pt(e)])}function xI(e){return ve(uf(e))}function wI(e){return V(uf(e))}function SI(e){return In(e)}function uf(e){return e.map(t=>In(t))}function In(e,t){return b(mt(e)?yI(e.target,e.parameters):ee(e)?xI(e.allOf):B(e)?wI(e.anyOf):Nr(e)?SI(e.item):ne(e)?II(e.$ref):e,t)}var lf=p(()=>{P();cr();Ye();pe();Br();K();n(yI,"FromComputed");n(II,"FromRef");n(xI,"FromIntersect");n(wI,"FromUnion");n(SI,"FromPromise");n(uf,"FromRest");n(In,"Awaited")});var Fi=p(()=>{lf()});function cf(e){let t=[];for(let r of e)t.push(wo(r));return t}function EI(e){let t=cf(e);return fp(t)}function TI(e){let t=cf(e);return pp(t)}function vI(e){return e.map((t,r)=>r.toString())}function MI(e){return["[number]"]}function LI(e){return globalThis.Object.getOwnPropertyNames(e)}function PI(e){return kI?globalThis.Object.getOwnPropertyNames(e).map(r=>r[0]==="^"&&r[r.length-1]==="$"?r.slice(1,r.length-1):r):[]}function wo(e){var t;return ee(e)?EI(e.allOf):B(e)?TI(e.anyOf):We(e)?vI((t=e.items)!=null?t:[]):ct(e)?MI(e.items):ue(e)?LI(e.properties):Fr(e)?PI(e.patternProperties):[]}var kI,Du=p(()=>{lo();K();n(cf,"FromRest");n(EI,"FromIntersect");n(TI,"FromUnion");n(vI,"FromTuple");n(MI,"FromArray");n(LI,"FromProperties");n(PI,"FromPatternProperties");n(wo,"KeyOfPropertyKeys");kI=!1});function NI(e,t){return J("KeyOf",[J(e,t)])}function FI(e){return J("KeyOf",[Pt(e)])}function CI(e,t){let r=wo(e),o=OI(r),a=Mt(o);return b(a,t)}function OI(e){return e.map(t=>t==="[number]"?Xe():G(t))}function xn(e,t){return mt(e)?NI(e.target,e.parameters):ne(e)?FI(e.$ref):Q(e)?mf(e,t):CI(e,t)}var ju=p(()=>{P();Ce();Rr();cr();Br();Du();pe();Ku();K();n(NI,"FromComputed");n(FI,"FromRef");n(CI,"KeyOfFromType");n(OI,"KeyOfPropertyKeysToRest");n(xn,"KeyOf")});function RI(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=xn(e[o],Y(t));return r}function AI(e,t){return RI(e.properties,t)}function mf(e,t){let r=AI(e,t);return j(r)}var Ku=p(()=>{ge();ju();Ne();n(RI,"FromProperties");n(AI,"FromMappedResult");n(mf,"KeyOfFromMappedResult")});var df=p(()=>{});var So=p(()=>{Ku();df();Du();ju()});function UI(e){let t=[];for(let r of e)t.push(...wo(r));return dp(t)}function BI(e){return e.filter(t=>!or(t))}function DI(e,t){let r=[];for(let o of e)r.push(...Nu(o,[t]));return BI(r)}function jI(e,t){let r={};for(let o of t)r[o]=Pi(DI(e,o));return r}function pf(e,t){let r=UI(e),o=jI(e,r);return z(o,t)}var ff=p(()=>{Ye();Lt();So();ze();lo();K();n(UI,"CompositeKeys");n(BI,"FilterNever");n(DI,"CompositeProperty");n(jI,"CompositeProperties");n(pf,"Composite")});var Gu=p(()=>{ff()});function Ci(e){return b({[S]:"Date",type:"Date"},e)}var _f=p(()=>{k();P();n(Ci,"Date")});var Oi=p(()=>{_f()});function Ri(e){return b({[S]:"Null",type:"null"},e)}var gf=p(()=>{P();k();n(Ri,"Null")});var Ai=p(()=>{gf()});function Ui(e){return b({[S]:"Symbol",type:"symbol"},e)}var hf=p(()=>{P();k();n(Ui,"Symbol")});var Bi=p(()=>{hf()});function Di(e){return b({[S]:"Undefined",type:"undefined"},e)}var bf=p(()=>{P();k();n(Di,"Undefined")});var ji=p(()=>{bf()});function Ki(e){return b({[S]:"Uint8Array",type:"Uint8Array"},e)}var yf=p(()=>{P();k();n(Ki,"Uint8Array")});var Gi=p(()=>{yf()});function pr(e){return b({[S]:"Unknown"},e)}var If=p(()=>{P();k();n(pr,"Unknown")});var wn=p(()=>{If()});function KI(e){return e.map(t=>Vu(t,!1))}function GI(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Re(Vu(e[r],!1));return t}function Vi(e,t){return t===!0?e:Re(e)}function Vu(e,t){return Ha(e)?Vi(lr(),t):Za(e)?Vi(lr(),t):se(e)?Re(Qe(KI(e))):Dt(e)?Ki():Mr(e)?Ci():W(e)?Vi(z(GI(e)),t):qa(e)?Vi(vt([],pr()),t):ae(e)?Di():Ja(e)?Ri():Xa(e)?Ui():Yn(e)?hn():je(e)?G(e):Bt(e)?G(e):q(e)?G(e):z({})}function xf(e,t){return b(Vu(e,!0),t)}var wf=p(()=>{co();bo();Oi();Cr();Ce();Ai();ze();Bi();dr();Ur();ji();Gi();wn();jt();Pe();n(KI,"FromArray");n(GI,"FromProperties");n(Vi,"ConditionalReadonly");n(Vu,"FromValue");n(xf,"Const")});var Wu=p(()=>{wf()});function Sf(e,t){return dt(e)?Qe(e.parameters,t):D(t)}var Ef=p(()=>{dr();Se();K();n(Sf,"ConstructorParameters")});var $u=p(()=>{Ef()});function Tf(e,t){if(ae(e))throw new Error("Enum undefined or empty");let r=globalThis.Object.getOwnPropertyNames(e).filter(u=>isNaN(u)).map(u=>e[u]),a=[...new Set(r)].map(u=>G(u));return V(a,{...t,[Je]:"Enum"})}var vf=p(()=>{Ce();k();pe();Pe();n(Tf,"Enum")});var zu=p(()=>{vf()});function tt(e){return e===y.False?e:y.True}function Sn(e){throw new qu(e)}function fe(e){return _.IsNever(e)||_.IsIntersect(e)||_.IsUnion(e)||_.IsUnknown(e)||_.IsAny(e)}function _e(e,t){return _.IsNever(t)?Cf(e,t):_.IsIntersect(t)?Wi(e,t):_.IsUnion(t)?Yu(e,t):_.IsUnknown(t)?Uf(e,t):_.IsAny(t)?Xu(e,t):Sn("StructuralRight")}function Xu(e,t){return y.True}function VI(e,t){return _.IsIntersect(t)?Wi(e,t):_.IsUnion(t)&&t.anyOf.some(r=>_.IsAny(r)||_.IsUnknown(r))?y.True:_.IsUnion(t)?y.Union:_.IsUnknown(t)||_.IsAny(t)?y.True:y.Union}function WI(e,t){return _.IsUnknown(e)?y.False:_.IsAny(e)?y.Union:_.IsNever(e)?y.True:y.False}function $I(e,t){return _.IsObject(t)&&$i(t)?y.True:fe(t)?_e(e,t):_.IsArray(t)?tt(H(e.items,t.items)):y.False}function zI(e,t){return fe(t)?_e(e,t):_.IsAsyncIterator(t)?tt(H(e.items,t.items)):y.False}function HI(e,t){return fe(t)?_e(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?rt(e,t):_.IsBigInt(t)?y.True:y.False}function Nf(e,t){return _.IsLiteralBoolean(e)||_.IsBoolean(e)?y.True:y.False}function qI(e,t){return fe(t)?_e(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?rt(e,t):_.IsBoolean(t)?y.True:y.False}function ZI(e,t){return fe(t)?_e(e,t):_.IsObject(t)?Me(e,t):_.IsConstructor(t)?e.parameters.length>t.parameters.length?y.False:e.parameters.every((r,o)=>tt(H(t.parameters[o],r))===y.True)?tt(H(e.returns,t.returns)):y.False:y.False}function JI(e,t){return fe(t)?_e(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?rt(e,t):_.IsDate(t)?y.True:y.False}function XI(e,t){return fe(t)?_e(e,t):_.IsObject(t)?Me(e,t):_.IsFunction(t)?e.parameters.length>t.parameters.length?y.False:e.parameters.every((r,o)=>tt(H(t.parameters[o],r))===y.True)?tt(H(e.returns,t.returns)):y.False:y.False}function Ff(e,t){return _.IsLiteral(e)&&xe.IsNumber(e.const)||_.IsNumber(e)||_.IsInteger(e)?y.True:y.False}function YI(e,t){return _.IsInteger(t)||_.IsNumber(t)?y.True:fe(t)?_e(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?rt(e,t):y.False}function Wi(e,t){return t.allOf.every(r=>H(e,r)===y.True)?y.True:y.False}function QI(e,t){return e.allOf.some(r=>H(r,t)===y.True)?y.True:y.False}function ex(e,t){return fe(t)?_e(e,t):_.IsIterator(t)?tt(H(e.items,t.items)):y.False}function tx(e,t){return _.IsLiteral(t)&&t.const===e.const?y.True:fe(t)?_e(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?rt(e,t):_.IsString(t)?Af(e,t):_.IsNumber(t)?Of(e,t):_.IsInteger(t)?Ff(e,t):_.IsBoolean(t)?Nf(e,t):y.False}function Cf(e,t){return y.False}function rx(e,t){return y.True}function Mf(e){let[t,r]=[e,0];for(;_.IsNot(t);)t=t.not,r+=1;return r%2===0?t:pr()}function nx(e,t){return _.IsNot(e)?H(Mf(e),t):_.IsNot(t)?H(e,Mf(t)):Sn("Invalid fallthrough for Not")}function ox(e,t){return fe(t)?_e(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?rt(e,t):_.IsNull(t)?y.True:y.False}function Of(e,t){return _.IsLiteralNumber(e)||_.IsNumber(e)||_.IsInteger(e)?y.True:y.False}function ix(e,t){return fe(t)?_e(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?rt(e,t):_.IsInteger(t)||_.IsNumber(t)?y.True:y.False}function Ae(e,t){return Object.getOwnPropertyNames(e.properties).length===t}function Lf(e){return $i(e)}function Pf(e){return Ae(e,0)||Ae(e,1)&&"description"in e.properties&&_.IsUnion(e.properties.description)&&e.properties.description.anyOf.length===2&&(_.IsString(e.properties.description.anyOf[0])&&_.IsUndefined(e.properties.description.anyOf[1])||_.IsString(e.properties.description.anyOf[1])&&_.IsUndefined(e.properties.description.anyOf[0]))}function Hu(e){return Ae(e,0)}function kf(e){return Ae(e,0)}function sx(e){return Ae(e,0)}function ax(e){return Ae(e,0)}function ux(e){return $i(e)}function lx(e){let t=Xe();return Ae(e,0)||Ae(e,1)&&"length"in e.properties&&tt(H(e.properties.length,t))===y.True}function cx(e){return Ae(e,0)}function $i(e){let t=Xe();return Ae(e,0)||Ae(e,1)&&"length"in e.properties&&tt(H(e.properties.length,t))===y.True}function mx(e){let t=vt([lr()],lr());return Ae(e,0)||Ae(e,1)&&"then"in e.properties&&tt(H(e.properties.then,t))===y.True}function Rf(e,t){return H(e,t)===y.False||_.IsOptional(e)&&!_.IsOptional(t)?y.False:y.True}function Me(e,t){return _.IsUnknown(e)?y.False:_.IsAny(e)?y.Union:_.IsNever(e)||_.IsLiteralString(e)&&Lf(t)||_.IsLiteralNumber(e)&&Hu(t)||_.IsLiteralBoolean(e)&&kf(t)||_.IsSymbol(e)&&Pf(t)||_.IsBigInt(e)&&sx(t)||_.IsString(e)&&Lf(t)||_.IsSymbol(e)&&Pf(t)||_.IsNumber(e)&&Hu(t)||_.IsInteger(e)&&Hu(t)||_.IsBoolean(e)&&kf(t)||_.IsUint8Array(e)&&ux(t)||_.IsDate(e)&&ax(t)||_.IsConstructor(e)&&cx(t)||_.IsFunction(e)&&lx(t)?y.True:_.IsRecord(e)&&_.IsString(Zu(e))?t[Je]==="Record"?y.True:y.False:_.IsRecord(e)&&_.IsNumber(Zu(e))?Ae(t,0)?y.True:y.False:y.False}function dx(e,t){return fe(t)?_e(e,t):_.IsRecord(t)?rt(e,t):_.IsObject(t)?(()=>{for(let r of Object.getOwnPropertyNames(t.properties)){if(!(r in e.properties)&&!_.IsOptional(t.properties[r]))return y.False;if(_.IsOptional(t.properties[r]))return y.True;if(Rf(e.properties[r],t.properties[r])===y.False)return y.False}return y.True})():y.False}function px(e,t){return fe(t)?_e(e,t):_.IsObject(t)&&mx(t)?y.True:_.IsPromise(t)?tt(H(e.item,t.item)):y.False}function Zu(e){return ar in e.patternProperties?Xe():ur in e.patternProperties?gt():Sn("Unknown record key pattern")}function Ju(e){return ar in e.patternProperties?e.patternProperties[ar]:ur in e.patternProperties?e.patternProperties[ur]:Sn("Unable to get record value schema")}function rt(e,t){let[r,o]=[Zu(t),Ju(t)];return _.IsLiteralString(e)&&_.IsNumber(r)&&tt(H(e,o))===y.True?y.True:_.IsUint8Array(e)&&_.IsNumber(r)||_.IsString(e)&&_.IsNumber(r)||_.IsArray(e)&&_.IsNumber(r)?H(e,o):_.IsObject(e)?(()=>{for(let a of Object.getOwnPropertyNames(e.properties))if(Rf(o,e.properties[a])===y.False)return y.False;return y.True})():y.False}function fx(e,t){return fe(t)?_e(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?H(Ju(e),Ju(t)):y.False}function _x(e,t){let r=_.IsRegExp(e)?gt():e,o=_.IsRegExp(t)?gt():t;return H(r,o)}function Af(e,t){return _.IsLiteral(e)&&xe.IsString(e.const)||_.IsString(e)?y.True:y.False}function gx(e,t){return fe(t)?_e(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?rt(e,t):_.IsString(t)?y.True:y.False}function hx(e,t){return fe(t)?_e(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?rt(e,t):_.IsSymbol(t)?y.True:y.False}function bx(e,t){return _.IsTemplateLiteral(e)?H(Ar(e),t):_.IsTemplateLiteral(t)?H(e,Ar(t)):Sn("Invalid fallthrough for TemplateLiteral")}function yx(e,t){return _.IsArray(t)&&e.items!==void 0&&e.items.every(r=>H(r,t.items)===y.True)}function Ix(e,t){return _.IsNever(e)?y.True:_.IsUnknown(e)?y.False:_.IsAny(e)?y.Union:y.False}function xx(e,t){return fe(t)?_e(e,t):_.IsObject(t)&&$i(t)||_.IsArray(t)&&yx(e,t)?y.True:_.IsTuple(t)?xe.IsUndefined(e.items)&&!xe.IsUndefined(t.items)||!xe.IsUndefined(e.items)&&xe.IsUndefined(t.items)?y.False:xe.IsUndefined(e.items)&&!xe.IsUndefined(t.items)||e.items.every((r,o)=>H(r,t.items[o])===y.True)?y.True:y.False:y.False}function wx(e,t){return fe(t)?_e(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?rt(e,t):_.IsUint8Array(t)?y.True:y.False}function Sx(e,t){return fe(t)?_e(e,t):_.IsObject(t)?Me(e,t):_.IsRecord(t)?rt(e,t):_.IsVoid(t)?vx(e,t):_.IsUndefined(t)?y.True:y.False}function Yu(e,t){return t.anyOf.some(r=>H(e,r)===y.True)?y.True:y.False}function Ex(e,t){return e.anyOf.every(r=>H(r,t)===y.True)?y.True:y.False}function Uf(e,t){return y.True}function Tx(e,t){return _.IsNever(t)?Cf(e,t):_.IsIntersect(t)?Wi(e,t):_.IsUnion(t)?Yu(e,t):_.IsAny(t)?Xu(e,t):_.IsString(t)?Af(e,t):_.IsNumber(t)?Of(e,t):_.IsInteger(t)?Ff(e,t):_.IsBoolean(t)?Nf(e,t):_.IsArray(t)?WI(e,t):_.IsTuple(t)?Ix(e,t):_.IsObject(t)?Me(e,t):_.IsUnknown(t)?y.True:y.False}function vx(e,t){return _.IsUndefined(e)||_.IsUndefined(e)?y.True:y.False}function Mx(e,t){return _.IsIntersect(t)?Wi(e,t):_.IsUnion(t)?Yu(e,t):_.IsUnknown(t)?Uf(e,t):_.IsAny(t)?Xu(e,t):_.IsObject(t)?Me(e,t):_.IsVoid(t)?y.True:y.False}function H(e,t){return _.IsTemplateLiteral(e)||_.IsTemplateLiteral(t)?bx(e,t):_.IsRegExp(e)||_.IsRegExp(t)?_x(e,t):_.IsNot(e)||_.IsNot(t)?nx(e,t):_.IsAny(e)?VI(e,t):_.IsArray(e)?$I(e,t):_.IsBigInt(e)?HI(e,t):_.IsBoolean(e)?qI(e,t):_.IsAsyncIterator(e)?zI(e,t):_.IsConstructor(e)?ZI(e,t):_.IsDate(e)?JI(e,t):_.IsFunction(e)?XI(e,t):_.IsInteger(e)?YI(e,t):_.IsIntersect(e)?QI(e,t):_.IsIterator(e)?ex(e,t):_.IsLiteral(e)?tx(e,t):_.IsNever(e)?rx(e,t):_.IsNull(e)?ox(e,t):_.IsNumber(e)?ix(e,t):_.IsObject(e)?dx(e,t):_.IsRecord(e)?fx(e,t):_.IsString(e)?gx(e,t):_.IsSymbol(e)?hx(e,t):_.IsTuple(e)?xx(e,t):_.IsPromise(e)?px(e,t):_.IsUint8Array(e)?wx(e,t):_.IsUndefined(e)?Sx(e,t):_.IsUnion(e)?Ex(e,t):_.IsUnknown(e)?Tx(e,t):_.IsVoid(e)?Mx(e,t):Sn(`Unknown left type operand '${e[S]}'`)}function fr(e,t){return H(e,t)}var Qu,qu,y,el=p(()=>{co();Cr();Rr();bn();wn();zt();uo();k();Tt();uu();Qu=class Qu extends be{};n(Qu,"ExtendsResolverError");qu=Qu;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(y||(y={}));n(tt,"IntoBooleanResult");n(Sn,"Throw");n(fe,"IsStructuralRight");n(_e,"StructuralRight");n(Xu,"FromAnyRight");n(VI,"FromAny");n(WI,"FromArrayRight");n($I,"FromArray");n(zI,"FromAsyncIterator");n(HI,"FromBigInt");n(Nf,"FromBooleanRight");n(qI,"FromBoolean");n(ZI,"FromConstructor");n(JI,"FromDate");n(XI,"FromFunction");n(Ff,"FromIntegerRight");n(YI,"FromInteger");n(Wi,"FromIntersectRight");n(QI,"FromIntersect");n(ex,"FromIterator");n(tx,"FromLiteral");n(Cf,"FromNeverRight");n(rx,"FromNever");n(Mf,"UnwrapTNot");n(nx,"FromNot");n(ox,"FromNull");n(Of,"FromNumberRight");n(ix,"FromNumber");n(Ae,"IsObjectPropertyCount");n(Lf,"IsObjectStringLike");n(Pf,"IsObjectSymbolLike");n(Hu,"IsObjectNumberLike");n(kf,"IsObjectBooleanLike");n(sx,"IsObjectBigIntLike");n(ax,"IsObjectDateLike");n(ux,"IsObjectUint8ArrayLike");n(lx,"IsObjectFunctionLike");n(cx,"IsObjectConstructorLike");n($i,"IsObjectArrayLike");n(mx,"IsObjectPromiseLike");n(Rf,"Property");n(Me,"FromObjectRight");n(dx,"FromObject");n(px,"FromPromise");n(Zu,"RecordKey");n(Ju,"RecordValue");n(rt,"FromRecordRight");n(fx,"FromRecord");n(_x,"FromRegExp");n(Af,"FromStringRight");n(gx,"FromString");n(hx,"FromSymbol");n(bx,"FromTemplateLiteral");n(yx,"IsArrayOfTuple");n(Ix,"FromTupleRight");n(xx,"FromTuple");n(wx,"FromUint8Array");n(Sx,"FromUndefined");n(Yu,"FromUnionRight");n(Ex,"FromUnion");n(Uf,"FromUnknownRight");n(Tx,"FromUnknown");n(vx,"FromVoidRight");n(Mx,"FromVoid");n(H,"Visit");n(fr,"ExtendsCheck")});function Lx(e,t,r,o,a){let u={};for(let i of globalThis.Object.getOwnPropertyNames(e))u[i]=En(e[i],t,r,o,Y(a));return u}function Px(e,t,r,o,a){return Lx(e.properties,t,r,o,a)}function Bf(e,t,r,o,a){let u=Px(e,t,r,o,a);return j(u)}var tl=p(()=>{ge();zi();Ne();n(Lx,"FromProperties");n(Px,"FromMappedResult");n(Bf,"ExtendsFromMappedResult")});function kx(e,t,r,o){let a=fr(e,t);return a===y.Union?V([r,o]):a===y.True?r:o}function En(e,t,r,o,a){return Q(e)?Bf(e,t,r,o,a):Ge(e)?b(Df(e,t,r,o,a)):b(kx(e,t,r,o),a)}var zi=p(()=>{P();pe();el();rl();tl();K();n(kx,"ExtendsResolve");n(En,"Extends")});function Nx(e,t,r,o,a){return{[e]:En(G(e),t,r,o,Y(a))}}function Fx(e,t,r,o,a){return e.reduce((u,i)=>({...u,...Nx(i,t,r,o,a)}),{})}function Cx(e,t,r,o,a){return Fx(e.keys,t,r,o,a)}function Df(e,t,r,o,a){let u=Cx(e,t,r,o,a);return j(u)}var rl=p(()=>{ge();Ce();zi();Ne();n(Nx,"FromPropertyKey");n(Fx,"FromPropertyKeys");n(Cx,"FromMappedKey");n(Df,"ExtendsFromMappedKey")});var jf=p(()=>{});var Eo=p(()=>{el();rl();tl();jf();zi()});function Kf(e,t){return Tn(Ar(e),t)}var nl=p(()=>{Hi();zt();n(Kf,"ExcludeFromTemplateLiteral")});function Ox(e,t){let r=e.filter(o=>fr(o,t)===y.False);return r.length===1?r[0]:V(r)}function Tn(e,t,r={}){return Ve(e)?b(Kf(e,t),r):Q(e)?b(Gf(e,t),r):b(B(e)?Ox(e.anyOf,t):fr(e,t)!==y.False?D():e,r)}var Hi=p(()=>{P();pe();Se();Eo();ol();nl();K();n(Ox,"ExcludeRest");n(Tn,"Exclude")});function Rx(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=Tn(e[o],t);return r}function Ax(e,t){return Rx(e.properties,t)}function Gf(e,t){let r=Ax(e,t);return j(r)}var ol=p(()=>{ge();Hi();n(Rx,"FromProperties");n(Ax,"FromMappedResult");n(Gf,"ExcludeFromMappedResult")});var il=p(()=>{ol();nl();Hi()});function Vf(e,t){return vn(Ar(e),t)}var sl=p(()=>{qi();zt();n(Vf,"ExtractFromTemplateLiteral")});function Ux(e,t){let r=e.filter(o=>fr(o,t)!==y.False);return r.length===1?r[0]:V(r)}function vn(e,t,r){return Ve(e)?b(Vf(e,t),r):Q(e)?b(Wf(e,t),r):b(B(e)?Ux(e.anyOf,t):fr(e,t)!==y.False?e:D(),r)}var qi=p(()=>{P();pe();Se();Eo();al();sl();K();n(Ux,"ExtractRest");n(vn,"Extract")});function Bx(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=vn(e[o],t);return r}function Dx(e,t){return Bx(e.properties,t)}function Wf(e,t){let r=Dx(e,t);return j(r)}var al=p(()=>{ge();qi();n(Bx,"FromProperties");n(Dx,"FromMappedResult");n(Wf,"ExtractFromMappedResult")});var ul=p(()=>{al();sl();qi()});function $f(e,t){return dt(e)?b(e.returns,t):D(t)}var zf=p(()=>{P();Se();K();n($f,"InstanceType")});var ll=p(()=>{zf()});function Zi(e){return Re(Te(e))}var Hf=p(()=>{Ur();Wt();n(Zi,"ReadonlyOptional")});var Ji=p(()=>{Hf()});function Dr(e,t,r){return b({[S]:"Record",type:"object",patternProperties:{[e]:t}},r)}function cl(e,t,r){let o={};for(let a of e)o[a]=t;return z(o,{...r,[Je]:"Record"})}function jx(e,t,r){return Np(e)?cl(Oe(e),t,r):Dr(e.pattern,t,r)}function Kx(e,t,r){return cl(Oe(V(e)),t,r)}function Gx(e,t,r){return cl([e.toString()],t,r)}function Vx(e,t,r){return Dr(e.source,t,r)}function Wx(e,t,r){let o=ae(e.pattern)?ur:e.pattern;return Dr(o,t,r)}function $x(e,t,r){return Dr(ur,t,r)}function zx(e,t,r){return Dr(sp,t,r)}function Hx(e,t,r){return z({true:t,false:t},r)}function qx(e,t,r){return Dr(ar,t,r)}function Zx(e,t,r){return Dr(ar,t,r)}function Xi(e,t,r={}){return B(e)?Kx(e.anyOf,t,r):Ve(e)?jx(e,t,r):Ke(e)?Gx(e.const,t,r):Kt(e)?Hx(e,t,r):ft(e)?qx(e,t,r):_t(e)?Zx(e,t,r):ru(e)?Vx(e,t,r):Gt(e)?Wx(e,t,r):eu(e)?$x(e,t,r):or(e)?zx(e,t,r):D(r)}function Yi(e){return globalThis.Object.getOwnPropertyNames(e.patternProperties)[0]}function qf(e){let t=Yi(e);return t===ur?gt():t===ar?Xe():gt({pattern:t})}function Qi(e){return e.patternProperties[Yi(e)]}var Zf=p(()=>{P();k();Se();Rr();ze();bn();pe();zt();uo();Lt();Pe();K();n(Dr,"RecordCreateFromPattern");n(cl,"RecordCreateFromKeys");n(jx,"FromTemplateLiteralKey");n(Kx,"FromUnionKey");n(Gx,"FromLiteralKey");n(Vx,"FromRegExpKey");n(Wx,"FromStringKey");n($x,"FromAnyKey");n(zx,"FromNeverKey");n(Hx,"FromBooleanKey");n(qx,"FromIntegerKey");n(Zx,"FromNumberKey");n(Xi,"Record");n(Yi,"RecordPattern");n(qf,"RecordKey");n(Qi,"RecordValue")});var To=p(()=>{Zf()});function Jx(e,t){return t.parameters=vo(e,t.parameters),t.returns=ht(e,t.returns),t}function Xx(e,t){return t.parameters=vo(e,t.parameters),t.returns=ht(e,t.returns),t}function Yx(e,t){return t.allOf=vo(e,t.allOf),t}function Qx(e,t){return t.anyOf=vo(e,t.anyOf),t}function ew(e,t){return ae(t.items)||(t.items=vo(e,t.items)),t}function tw(e,t){return t.items=ht(e,t.items),t}function rw(e,t){return t.items=ht(e,t.items),t}function nw(e,t){return t.items=ht(e,t.items),t}function ow(e,t){return t.item=ht(e,t.item),t}function iw(e,t){let r=lw(e,t.properties);return{...t,...z(r)}}function sw(e,t){let r=ht(e,qf(t)),o=ht(e,Qi(t)),a=Xi(r,o);return{...t,...a}}function aw(e,t){return t.index in e?e[t.index]:pr()}function uw(e,t){let r=ln(t),o=Fe(t),a=ht(e,t);return r&&o?Zi(a):r&&!o?Re(a):!r&&o?Te(a):a}function lw(e,t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,o)=>({...r,[o]:uw(e,t[o])}),{})}function vo(e,t){return t.map(r=>ht(e,r))}function ht(e,t){return dt(t)?Jx(e,t):pt(t)?Xx(e,t):ee(t)?Yx(e,t):B(t)?Qx(e,t):We(t)?ew(e,t):ct(t)?tw(e,t):Lr(t)?rw(e,t):kr(t)?nw(e,t):Nr(t)?ow(e,t):ue(t)?iw(e,t):Fr(t)?sw(e,t):tu(t)?aw(e,t):t}function Jf(e,t){return ht(t,un(e))}var Xf=p(()=>{hi();wn();Ji();Ur();Wt();ze();To();Pe();K();n(Jx,"FromConstructor");n(Xx,"FromFunction");n(Yx,"FromIntersect");n(Qx,"FromUnion");n(ew,"FromTuple");n(tw,"FromArray");n(rw,"FromAsyncIterator");n(nw,"FromIterator");n(ow,"FromPromise");n(iw,"FromObject");n(sw,"FromRecord");n(aw,"FromArgument");n(uw,"FromProperty");n(lw,"FromProperties");n(vo,"FromTypes");n(ht,"FromType");n(Jf,"Instantiate")});var ml=p(()=>{Xf()});function Yf(e){return b({[S]:"Integer",type:"integer"},e)}var Qf=p(()=>{P();k();n(Yf,"Integer")});var dl=p(()=>{Qf()});function cw(e,t,r){return{[e]:bt(G(e),t,Y(r))}}function mw(e,t,r){return e.reduce((a,u)=>({...a,...cw(u,t,r)}),{})}function dw(e,t,r){return mw(e.keys,t,r)}function e_(e,t,r){let o=dw(e,t,r);return j(o)}var pl=p(()=>{ge();jr();Ce();Ne();n(cw,"MappedIntrinsicPropertyKey");n(mw,"MappedIntrinsicPropertyKeys");n(dw,"MappedIntrinsicProperties");n(e_,"IntrinsicFromMappedKey")});function pw(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),r].join("")}function fw(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),r].join("")}function _w(e){return e.toUpperCase()}function gw(e){return e.toLowerCase()}function hw(e,t,r){let o=gn(e.pattern);if(!Or(o))return{...e,pattern:t_(e.pattern,t)};let i=[...ho(o)].map(c=>G(c)),s=r_(i,t),l=V(s);return Mi([l],r)}function t_(e,t){return typeof e=="string"?t==="Uncapitalize"?pw(e):t==="Capitalize"?fw(e):t==="Uppercase"?_w(e):t==="Lowercase"?gw(e):e:e.toString()}function r_(e,t){return e.map(r=>bt(r,t))}function bt(e,t,r={}){return Ge(e)?e_(e,t,r):Ve(e)?hw(e,t,r):B(e)?V(r_(e.anyOf,t),r):Ke(e)?G(t_(e.const,t),r):b(e,r)}var jr=p(()=>{P();zt();pl();Ce();pe();K();n(pw,"ApplyUncapitalize");n(fw,"ApplyCapitalize");n(_w,"ApplyUppercase");n(gw,"ApplyLowercase");n(hw,"FromTemplateLiteral");n(t_,"FromLiteralValue");n(r_,"FromRest");n(bt,"Intrinsic")});function n_(e,t={}){return bt(e,"Capitalize",t)}var o_=p(()=>{jr();n(n_,"Capitalize")});function i_(e,t={}){return bt(e,"Lowercase",t)}var s_=p(()=>{jr();n(i_,"Lowercase")});function a_(e,t={}){return bt(e,"Uncapitalize",t)}var u_=p(()=>{jr();n(a_,"Uncapitalize")});function l_(e,t={}){return bt(e,"Uppercase",t)}var c_=p(()=>{jr();n(l_,"Uppercase")});var fl=p(()=>{o_();pl();jr();s_();u_();c_()});function bw(e,t,r){let o={};for(let a of globalThis.Object.getOwnPropertyNames(e))o[a]=_r(e[a],t,Y(r));return o}function yw(e,t,r){return bw(e.properties,t,r)}function m_(e,t,r){let o=yw(e,t,r);return j(o)}var _l=p(()=>{ge();es();Ne();n(bw,"FromProperties");n(yw,"FromMappedResult");n(m_,"OmitFromMappedResult")});function Iw(e,t){return e.map(r=>gl(r,t))}function xw(e,t){return e.map(r=>gl(r,t))}function ww(e,t){let{[t]:r,...o}=e;return o}function Sw(e,t){return t.reduce((r,o)=>ww(r,o),e)}function Ew(e,t){let r=te(e,[de,"$id","required","properties"]),o=Sw(e.properties,t);return z(o,r)}function Tw(e){let t=e.reduce((r,o)=>yi(o)?[...r,G(o)]:r,[]);return V(t)}function gl(e,t){return ee(e)?ve(Iw(e.allOf,t)):B(e)?V(xw(e.anyOf,t)):ue(e)?Ew(e,t):z({})}function _r(e,t,r){let o=se(t)?Tw(t):t,a=$e(t)?Oe(t):t,u=ne(e),i=ne(t);return Q(e)?m_(e,a,r):Ge(t)?d_(e,t,r):u&&i?J("Omit",[e,o],r):!u&&i?J("Omit",[e,o],r):u&&!i?J("Omit",[e,o],r):b({...gl(e,a),...r})}var es=p(()=>{P();xi();to();cr();Ce();Lt();Ye();pe();ze();hl();_l();K();Pe();n(Iw,"FromIntersect");n(xw,"FromUnion");n(ww,"FromProperty");n(Sw,"FromProperties");n(Ew,"FromObject");n(Tw,"UnionFromPropertyKeys");n(gl,"OmitResolve");n(_r,"Omit")});function vw(e,t,r){return{[t]:_r(e,[t],Y(r))}}function Mw(e,t,r){return t.reduce((o,a)=>({...o,...vw(e,a,r)}),{})}function Lw(e,t,r){return Mw(e,t.keys,r)}function d_(e,t,r){let o=Lw(e,t,r);return j(o)}var hl=p(()=>{ge();es();Ne();n(vw,"FromPropertyKey");n(Mw,"FromPropertyKeys");n(Lw,"FromMappedKey");n(d_,"OmitFromMappedKey")});var ts=p(()=>{hl();_l();es()});function Pw(e,t,r){let o={};for(let a of globalThis.Object.getOwnPropertyNames(e))o[a]=gr(e[a],t,Y(r));return o}function kw(e,t,r){return Pw(e.properties,t,r)}function p_(e,t,r){let o=kw(e,t,r);return j(o)}var bl=p(()=>{ge();rs();Ne();n(Pw,"FromProperties");n(kw,"FromMappedResult");n(p_,"PickFromMappedResult")});function Nw(e,t){return e.map(r=>yl(r,t))}function Fw(e,t){return e.map(r=>yl(r,t))}function Cw(e,t){let r={};for(let o of t)o in e&&(r[o]=e[o]);return r}function Ow(e,t){let r=te(e,[de,"$id","required","properties"]),o=Cw(e.properties,t);return z(o,r)}function Rw(e){let t=e.reduce((r,o)=>yi(o)?[...r,G(o)]:r,[]);return V(t)}function yl(e,t){return ee(e)?ve(Nw(e.allOf,t)):B(e)?V(Fw(e.anyOf,t)):ue(e)?Ow(e,t):z({})}function gr(e,t,r){let o=se(t)?Rw(t):t,a=$e(t)?Oe(t):t,u=ne(e),i=ne(t);return Q(e)?p_(e,a,r):Ge(t)?f_(e,t,r):u&&i?J("Pick",[e,o],r):!u&&i?J("Pick",[e,o],r):u&&!i?J("Pick",[e,o],r):b({...yl(e,a),...r})}var rs=p(()=>{P();xi();cr();Ye();Ce();ze();pe();Lt();to();K();Pe();Il();bl();n(Nw,"FromIntersect");n(Fw,"FromUnion");n(Cw,"FromProperties");n(Ow,"FromObject");n(Rw,"UnionFromPropertyKeys");n(yl,"PickResolve");n(gr,"Pick")});function Aw(e,t,r){return{[t]:gr(e,[t],Y(r))}}function Uw(e,t,r){return t.reduce((o,a)=>({...o,...Aw(e,a,r)}),{})}function Bw(e,t,r){return Uw(e,t.keys,r)}function f_(e,t,r){let o=Bw(e,t,r);return j(o)}var Il=p(()=>{ge();rs();Ne();n(Aw,"FromPropertyKey");n(Uw,"FromPropertyKeys");n(Bw,"FromMappedKey");n(f_,"PickFromMappedKey")});var ns=p(()=>{Il();bl();rs()});function Dw(e,t){return J("Partial",[J(e,t)])}function jw(e){return J("Partial",[Pt(e)])}function Kw(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Te(e[r]);return t}function Gw(e){let t=te(e,[de,"$id","required","properties"]),r=Kw(e.properties);return z(r,t)}function __(e){return e.map(t=>g_(t))}function g_(e){return mt(e)?Dw(e.target,e.parameters):ne(e)?jw(e.$ref):ee(e)?ve(__(e.allOf)):B(e)?V(__(e.anyOf)):ue(e)?Gw(e):Pr(e)||Kt(e)||ft(e)||Ke(e)||ro(e)||_t(e)||Gt(e)||no(e)||oo(e)?e:z({})}function Mn(e,t){return Q(e)?h_(e,t):b({...g_(e),...t})}var xl=p(()=>{P();cr();Wt();ze();Ye();pe();Br();Vt();k();wl();K();n(Dw,"FromComputed");n(jw,"FromRef");n(Kw,"FromProperties");n(Gw,"FromObject");n(__,"FromRest");n(g_,"PartialResolve");n(Mn,"Partial")});function Vw(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=Mn(e[o],Y(t));return r}function Ww(e,t){return Vw(e.properties,t)}function h_(e,t){let r=Ww(e,t);return j(r)}var wl=p(()=>{ge();xl();Ne();n(Vw,"FromProperties");n(Ww,"FromMappedResult");n(h_,"PartialFromMappedResult")});var os=p(()=>{wl();xl()});function $w(e,t){return J("Required",[J(e,t)])}function zw(e){return J("Required",[Pt(e)])}function Hw(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=te(e[r],[we]);return t}function qw(e){let t=te(e,[de,"$id","required","properties"]),r=Hw(e.properties);return z(r,t)}function b_(e){return e.map(t=>y_(t))}function y_(e){return mt(e)?$w(e.target,e.parameters):ne(e)?zw(e.$ref):ee(e)?ve(b_(e.allOf)):B(e)?V(b_(e.anyOf)):ue(e)?qw(e):Pr(e)||Kt(e)||ft(e)||Ke(e)||ro(e)||_t(e)||Gt(e)||no(e)||oo(e)?e:z({})}function Ln(e,t){return Q(e)?I_(e,t):b({...y_(e),...t})}var Sl=p(()=>{P();cr();ze();Ye();pe();Br();k();Vt();El();K();n($w,"FromComputed");n(zw,"FromRef");n(Hw,"FromProperties");n(qw,"FromObject");n(b_,"FromRest");n(y_,"RequiredResolve");n(Ln,"Required")});function Zw(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=Ln(e[o],t);return r}function Jw(e,t){return Zw(e.properties,t)}function I_(e,t){let r=Jw(e,t);return j(r)}var El=p(()=>{ge();Sl();n(Zw,"FromProperties");n(Jw,"FromMappedResult");n(I_,"RequiredFromMappedResult")});var is=p(()=>{El();Sl()});function Xw(e,t){return t.map(r=>ne(r)?Tl(e,r.$ref):He(e,r))}function Tl(e,t){return t in e?ne(e[t])?Tl(e,e[t].$ref):He(e,e[t]):D()}function Yw(e){return In(e[0])}function Qw(e){return mr(e[0],e[1])}function eS(e){return xn(e[0])}function tS(e){return Mn(e[0])}function rS(e){return _r(e[0],e[1])}function nS(e){return gr(e[0],e[1])}function oS(e){return Ln(e[0])}function iS(e,t,r){let o=Xw(e,r);return t==="Awaited"?Yw(o):t==="Index"?Qw(o):t==="KeyOf"?eS(o):t==="Partial"?tS(o):t==="Omit"?rS(o):t==="Pick"?nS(o):t==="Required"?oS(o):D()}function sS(e,t){return dn(He(e,t))}function aS(e,t){return pn(He(e,t))}function uS(e,t,r){return fn(Mo(e,t),He(e,r))}function lS(e,t,r){return vt(Mo(e,t),He(e,r))}function cS(e,t){return ve(Mo(e,t))}function mS(e,t){return yn(He(e,t))}function dS(e,t){return z(globalThis.Object.keys(t).reduce((r,o)=>({...r,[o]:He(e,t[o])}),{}))}function pS(e,t){let[r,o]=[He(e,Qi(t)),Yi(t)],a=un(t);return a.patternProperties[o]=r,a}function fS(e,t){return ne(t)?{...Tl(e,t.$ref),[de]:t[de]}:t}function _S(e,t){return Qe(Mo(e,t))}function gS(e,t){return V(Mo(e,t))}function Mo(e,t){return t.map(r=>He(e,r))}function He(e,t){return Fe(t)?b(He(e,te(t,[we])),t):ln(t)?b(He(e,te(t,[lt])),t):ir(t)?b(fS(e,t),t):ct(t)?b(sS(e,t.items),t):Lr(t)?b(aS(e,t.items),t):mt(t)?b(iS(e,t.target,t.parameters)):dt(t)?b(uS(e,t.parameters,t.returns),t):pt(t)?b(lS(e,t.parameters,t.returns),t):ee(t)?b(cS(e,t.allOf),t):kr(t)?b(mS(e,t.items),t):ue(t)?b(dS(e,t.properties),t):Fr(t)?b(pS(e,t)):We(t)?b(_S(e,t.items||[]),t):B(t)?b(gS(e,t.anyOf),t):t}function hS(e,t){return t in e?He(e,e[t]):D()}function x_(e){return globalThis.Object.getOwnPropertyNames(e).reduce((t,r)=>({...t,[r]:hS(e,r)}),{})}var w_=p(()=>{jt();Ya();Vt();mo();Fi();po();fo();Lt();Cr();Ye();yo();So();ze();ts();ns();Se();os();To();is();dr();pe();k();K();n(Xw,"DereferenceParameters");n(Tl,"Dereference");n(Yw,"FromAwaited");n(Qw,"FromIndex");n(eS,"FromKeyOf");n(tS,"FromPartial");n(rS,"FromOmit");n(nS,"FromPick");n(oS,"FromRequired");n(iS,"FromComputed");n(sS,"FromArray");n(aS,"FromAsyncIterator");n(uS,"FromConstructor");n(lS,"FromFunction");n(cS,"FromIntersect");n(mS,"FromIterator");n(dS,"FromObject");n(pS,"FromRecord");n(fS,"FromTransform");n(_S,"FromTuple");n(gS,"FromUnion");n(Mo,"FromTypes");n(He,"FromType");n(hS,"ComputeType");n(x_,"ComputeModuleProperties")});function S_(e){return new vl(e)}var Ml,vl,E_=p(()=>{jt();k();w_();Ml=class Ml{constructor(t){let r=x_(t),o=this.WithIdentifiers(r);this.$defs=o}Import(t,r){let o={...this.$defs,[t]:b(this.$defs[t],r)};return b({[S]:"Import",$defs:o,$ref:t})}WithIdentifiers(t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,o)=>({...r,[o]:{...t[o],$id:o}}),{})}};n(Ml,"TModule");vl=Ml;n(S_,"Module")});var Ll=p(()=>{E_()});function T_(e,t){return b({[S]:"Not",not:e},t)}var v_=p(()=>{P();k();n(T_,"Not")});var Pl=p(()=>{v_()});function M_(e,t){return pt(e)?Qe(e.parameters,t):D()}var L_=p(()=>{dr();Se();K();n(M_,"Parameters")});var kl=p(()=>{L_()});function P_(e,t={}){ae(t.$id)&&(t.$id=`T${bS++}`);let r=un(e({[S]:"This",$ref:`${t.$id}`}));return r.$id=t.$id,b({[Je]:"Recursive",...r},t)}var bS,k_=p(()=>{hi();P();Pe();k();bS=0;n(P_,"Recursive")});var Nl=p(()=>{k_()});function N_(e,t){let r=q(e)?new globalThis.RegExp(e):e;return b({[S]:"RegExp",type:"RegExp",source:r.source,flags:r.flags},t)}var F_=p(()=>{P();Pe();k();n(N_,"RegExp")});var Fl=p(()=>{F_()});function yS(e){var t;return ee(e)?e.allOf:B(e)?e.anyOf:We(e)?(t=e.items)!=null?t:[]:[]}function C_(e){return yS(e)}var O_=p(()=>{K();n(yS,"RestResolve");n(C_,"Rest")});var Cl=p(()=>{O_()});function R_(e,t){return pt(e)?b(e.returns,t):D(t)}var A_=p(()=>{P();Se();K();n(R_,"ReturnType")});var Ol=p(()=>{A_()});var U_=p(()=>{});var B_=p(()=>{});var D_=p(()=>{U_();B_()});var j_=p(()=>{});var K_=p(()=>{j_()});function G_(e){return new Rl(e)}var Ul,Rl,Bl,Al,V_=p(()=>{k();K();Ul=class Ul{constructor(t){this.schema=t}Decode(t){return new Al(this.schema,t)}};n(Ul,"TransformDecodeBuilder");Rl=Ul,Bl=class Bl{constructor(t,r){this.schema=t,this.decode=r}EncodeTransform(t,r){let u={Encode:n(i=>r[de].Encode(t(i)),"Encode"),Decode:n(i=>this.decode(r[de].Decode(i)),"Decode")};return{...r,[de]:u}}EncodeSchema(t,r){let o={Decode:this.decode,Encode:t};return{...r,[de]:o}}Encode(t){return ir(this.schema)?this.EncodeTransform(t,this.schema):this.EncodeSchema(t,this.schema)}};n(Bl,"TransformEncodeBuilder");Al=Bl;n(G_,"Transform")});var Dl=p(()=>{V_()});function W_(e={}){var t;return b({[S]:(t=e[S])!=null?t:"Unsafe"},e)}var $_=p(()=>{P();k();n(W_,"Unsafe")});var jl=p(()=>{$_()});function z_(e){return b({[S]:"Void",type:"void"},e)}var H_=p(()=>{P();k();n(z_,"Void")});var Kl=p(()=>{H_()});var Gl={};Wr(Gl,{Any:()=>lr,Argument:()=>bp,Array:()=>dn,AsyncIterator:()=>pn,Awaited:()=>In,BigInt:()=>hn,Boolean:()=>Ti,Capitalize:()=>n_,Composite:()=>pf,Const:()=>xf,Constructor:()=>fn,ConstructorParameters:()=>Sf,Date:()=>Ci,Enum:()=>Tf,Exclude:()=>Tn,Extends:()=>En,Extract:()=>vn,Function:()=>vt,Index:()=>mr,InstanceType:()=>$f,Instantiate:()=>Jf,Integer:()=>Yf,Intersect:()=>ve,Iterator:()=>yn,KeyOf:()=>xn,Literal:()=>G,Lowercase:()=>i_,Mapped:()=>Qp,Module:()=>S_,Never:()=>D,Not:()=>T_,Null:()=>Ri,Number:()=>Xe,Object:()=>z,Omit:()=>_r,Optional:()=>Te,Parameters:()=>M_,Partial:()=>Mn,Pick:()=>gr,Promise:()=>ki,Readonly:()=>Re,ReadonlyOptional:()=>Zi,Record:()=>Xi,Recursive:()=>P_,Ref:()=>Pt,RegExp:()=>N_,Required:()=>Ln,Rest:()=>C_,ReturnType:()=>R_,String:()=>gt,Symbol:()=>Ui,TemplateLiteral:()=>Mi,Transform:()=>G_,Tuple:()=>Qe,Uint8Array:()=>Ki,Uncapitalize:()=>a_,Undefined:()=>Di,Union:()=>V,Unknown:()=>pr,Unsafe:()=>W_,Uppercase:()=>l_,Void:()=>z_});var q_=p(()=>{co();pu();mo();po();Fi();bo();vi();Gu();Wu();fo();$u();Oi();zu();il();Eo();ul();Cr();Lt();ll();ml();dl();Ye();fl();yo();So();Ce();ge();Ll();Se();Pl();Ai();Rr();ze();ts();Wt();kl();os();ns();Ni();Ur();Ji();To();Nl();Br();Fl();is();Cl();Ol();bn();Bi();zt();Dl();dr();Gi();ji();pe();wn();jl();Kl()});var kt,Z_=p(()=>{q_();kt=Gl});var J_=p(()=>{Ya();jt();Tt();uu();ip();uo();cp();lo();k();co();mo();pu();po();Fi();bo();vi();Gu();Wu();fo();$u();Oi();zu();il();Eo();ul();Cr();Lt();ll();ml();dl();Ye();yo();fl();So();Ce();Ll();ge();Se();Pl();Ai();Rr();ze();ts();Wt();kl();os();ns();Ni();Ur();Ji();To();Nl();Br();Fl();is();Cl();Ol();D_();K_();bn();Bi();zt();Dl();dr();Gi();ji();pe();wn();jl();Kl();Z_()});function IS(){Vl={text:"",tokens:[]}}function Nt(e){var t;return e=e.toLowerCase(),(t=SS[e])!=null?t:e}async function ES(e,t={},r=[]){let o=new ss(t,e.languageId),a=st(o.tokenizerName),u=new pi(o.snippetTextProcessingPreset),i=new Lo(o.promptOrderListPreset),s=new as(o.promptPriorityPreset),{source:l,offset:c}=e;if(c<0||c>l.length)throw new Error(`Offset ${c} is out of range.`);e.languageId=Nt(e.languageId);let m=new ls(a,o.lineEnding,i,u,s),d=r.find(T=>T.provider==="path"),f=r.find(T=>T.provider==="language"),g=r.find(T=>T.provider==="trait"),h=r.find(T=>T.provider==="tooltip-signature");d!==void 0&&d.snippet.length>0?(m.append(d.snippet,"PathMarker"),f&&m.extMarkUnused({text:f.snippet,kind:"LanguageMarker",tokens:a.tokenLength(f.snippet),id:NaN,score:NaN})):f&&m.append(f.snippet,"LanguageMarker"),g!=null&&m.append(g.snippet,"Traits"),r=r.filter(T=>T.provider!=="language"&&T.provider!=="path"&&T.provider!=="tooltip-signature"&&T.provider!=="trait");function I(){ig(r,e.languageId,a,s,o.numberOfSnippets).forEach(L=>{let O=us(L.provider);m.append(L.announcedSnippet,O,L.tokens,L.score)})}n(I,"addSnippetsNow"),I();let x=l.substring(0,c);h!==void 0&&a.tokenLength(h.snippet)<=eg?([x,h]=id(x,h),m.append(h.snippet,"TooltipSignature")):h!==void 0&&m.extMarkUnused({text:h.snippet,kind:"TooltipSignature",tokens:a.tokenLength(h.snippet),id:NaN,score:NaN}),m.append(x,"BeforeCursor");let w=l.slice(c),{promptInfo:N,newCachedSuffix:M}=m.fulfill(w,o,Vl);return Vl=M,N}var Vl,X_,Y_,Q_,eg,tg,xS,rg,wS,Wl,ng,og,$l,ss,SS,Kr=p(()=>{"use strict";di();Ut();rd();rn();za();fi();J_();Vl={text:"",tokens:[]};n(IS,"resetSuffixCache");X_=500,Y_=8192-X_,Q_=4,eg=150,tg=10,xS=15,rg=kt.Object({relativePath:kt.Optional(kt.String()),uri:kt.String(),source:kt.String(),languageId:kt.String()}),wS=kt.Intersect([rg,kt.Object({offset:kt.Number()})]),Wl=(r=>(r.ConvertToUnix="unix",r.KeepOriginal="keep",r))(Wl||{}),ng=(r=>(r.None="none",r.FifteenPercent="fifteenPercent",r))(ng||{}),og=(r=>(r.Equal="equal",r.Levenshtein="levenshteineditdistance",r))(og||{}),$l=class $l{constructor(t,r){this.maxPromptLength=Y_;this.lineEnding="unix";this.tokenizerName="cl100k_base";this.suffixPercent=15;this.suffixMatchThreshold=tg;this.promptOrderListPreset="default";this.promptPriorityPreset="default";this.snippetTextProcessingPreset="default";var o,a,u,i;if(Object.assign(this,t),this.suffixPercent<0||this.suffixPercent>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${this.suffixPercent}`);if(this.suffixMatchThreshold<0||this.suffixMatchThreshold>100)throw new Error(`suffixMatchThreshold must be at between 0 and 100, but was ${this.suffixMatchThreshold}`);r==="cpp"?((o=this.similarFilesOptions)!=null||(this.similarFilesOptions=Wa),(a=this.numberOfSnippets)!=null||(this.numberOfSnippets=Wa.maxTopSnippets)):((u=this.similarFilesOptions)!=null||(this.similarFilesOptions=Ym),(i=this.numberOfSnippets)!=null||(this.numberOfSnippets=Q_))}};n($l,"PromptOptions");ss=$l,SS={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};n(Nt,"normalizeLanguageId");n(ES,"getPrompt")});function sg(e,t){if(e.length===0||t.length===0)return{score:e.length+t.length};let r=Array.from({length:e.length}).map(()=>Array.from({length:t.length}).map(()=>0));for(let o=0;o<e.length;o++)r[o][0]=o;for(let o=0;o<t.length;o++)r[0][o]=o;for(let o=0;o<t.length;o++)for(let a=0;a<e.length;a++)r[a][o]=Math.min((a==0?o:r[a-1][o])+1,(o==0?a:r[a][o-1])+1,(a==0||o==0?Math.max(a,o):r[a-1][o-1])+(e[a]==t[o]?0:1));return{score:r[e.length-1][t.length-1]}}var ag=p(()=>{"use strict";n(sg,"findEditDistanceScore")});function us(e){switch(e){case"similar-files":return"SimilarFile";case"path":return"PathMarker";case"language":return"LanguageMarker";case"tooltip-signature":return"TooltipSignature";case"trait":return"Traits";case"code":return"CodeSnippet";default:throw new Error(`Unknown snippet provider type ${e}`)}}var Po,TS,zl,cs,Hl,ms,ql,Lo,Zl,as,Jl,ds,Xl,ls,fi=p(()=>{"use strict";ps();Kr();ag();Po=50,TS=5,zl=class zl{constructor(){this.used=new Map;this.unused=new Map}add(t){for(let[r,o]of t.used)this.used.set(r,o);for(let[r,o]of t.unused)this.unused.set(r,o)}markUsed(t){this.IsSnippet(t)&&this.used.set(t.id,this.convert(t))}undoMarkUsed(t){this.IsSnippet(t)&&this.used.delete(t.id)}markUnused(t){this.IsSnippet(t)&&this.unused.set(t.id,this.convert(t))}convert(t){return{score:t.score.toFixed(4),length:t.text.length}}IsSnippet(t){return t.kind=="SimilarFile"||t.kind=="TooltipSignature"}};n(zl,"PromptBackground");cs=zl,Hl=class Hl{constructor(){this.used=new Map;this.unused=new Map;this.usedCounts=new Map;this.unusedCounts=new Map}toJSON(){return{used:Object.fromEntries(this.used),unused:Object.fromEntries(this.unused),usedCounts:Object.fromEntries(this.usedCounts),unusedCounts:Object.fromEntries(this.unusedCounts)}}add(t){for(let[r,o]of t.used)this.used.set(r,(this.used.get(r)||0)+o);for(let[r,o]of t.unused)this.unused.set(r,(this.unused.get(r)||0)+o);for(let[r,o]of t.usedCounts)this.usedCounts.set(r,(this.usedCounts.get(r)||0)+o);for(let[r,o]of t.unusedCounts)this.unusedCounts.set(r,(this.unusedCounts.get(r)||0)+o)}markUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+1)}undoMarkUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)-t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-1)}markUnused(t){this.unused.set(t.kind,(this.unused.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+1)}};n(Hl,"PromptChoices");ms=Hl,ql=class ql{constructor(t="default"){this._rankedList=["LanguageMarker","PathMarker","Traits","CodeSnippet","SimilarFile","BeforeCursor","TooltipSignature"]}get rankedList(){return this._rankedList}sortElements(t){return t.sort((r,o)=>{let a=this._rankedList.indexOf(r.kind),u=this._rankedList.indexOf(o.kind);if(a===-1||u===-1)throw new Error(`Invalid element kind: ${r.kind} or ${o.kind}, not found in prompt element ordering list`);return a===u?r.id-o.id:a-u})}};n(ql,"PromptOrderList");Lo=ql,Zl=class Zl extends Lo{constructor(t="default"){switch(super(),t){case"office-exp":this._rankedList=["PathMarker","TooltipSignature","BeforeCursor","CodeSnippet","SimilarFile","LanguageMarker","Traits"];break;default:this._rankedList=["TooltipSignature","BeforeCursor","CodeSnippet","SimilarFile","PathMarker","LanguageMarker","Traits"]}}sortElements(t){return t.sort((r,o)=>{let a=this._rankedList.indexOf(r.kind),u=this._rankedList.indexOf(o.kind);if(a===-1||u===-1)throw new Error(`Invalid element kind: ${r.kind} or ${o.kind}, not found in snippet provider priority list`);return a===u?o.id-r.id:a-u})}};n(Zl,"PromptPriorityList");as=Zl;n(us,"kindForSnippetProviderType");Jl=class Jl{constructor(t){this.ranges=new Array;let r=0,o;for(let a of t)a.text.length!==0&&(o==="BeforeCursor"&&a.kind==="BeforeCursor"?this.ranges[this.ranges.length-1].end+=a.text.length:this.ranges.push({kind:a.kind,start:r,end:r+a.text.length}),o=a.kind,r+=a.text.length)}};n(Jl,"PromptElementRanges");ds=Jl,Xl=class Xl{constructor(t,r,o,a,u){this.tokenizer=t;this.lineEndingOption=r;this.orderingList=o;this.snippetTextProcessor=a;this.priorityList=u;this.content=[];this.basePromptBackground=new cs;this.baseTallyOfChoices=new ms}extMarkUnused(t){this.basePromptBackground.markUnused(t),this.baseTallyOfChoices.markUnused(t)}getContent(){return[...this.content]}convertLineEndings(t){return this.lineEndingOption==="unix"&&(t=t.replace(/\r\n?/g,`
`)),t}maxPrefixTokenLength(){return this.content.reduce((t,r)=>t+=r.tokens,0)}append(t,r,o=this.tokenizer.tokenLength(t),a=NaN){t=this.convertLineEndings(t);let u=this.content.length;return this.content.push({id:u,text:t,kind:r,tokens:o,score:a}),u}fulfillPrefix(t){let r=new cs;r.add(this.basePromptBackground);let o=new ms;o.add(this.baseTallyOfChoices);function a(h){r.markUsed(h),o.markUsed(h)}n(a,"markUsed");function u(h){r.undoMarkUsed(h),o.undoMarkUsed(h)}n(u,"undoMarkUsed");function i(h){r.markUnused(h),o.markUnused(h)}n(i,"markUnused"),this.priorityList.sortElements(this.content);let s,l=[],c=t;this.content.forEach(h=>{if(c>0||s===void 0){let I=h.tokens;if(c>=I)c-=I,a(h),l.push(h);else if(h.kind==="BeforeCursor"&&c>0){let{summarizedElement:x,removedMaterial:w}=this.snippetTextProcessor.summarize(this.tokenizer,h,c);h=x,I=h.tokens,c-=I,h.text.length>0&&a(h),w.text.length>0&&i(w),l.push(h)}else s===void 0?s=h:i(h)}else i(h)}),this.orderingList.sortElements(l);let m=l.reduce((h,I)=>h+I.text,""),d=this.tokenizer.tokenLength(m);for(;d>t;){this.priorityList.sortElements(l);let h=l.pop();h&&(u(h),i(h),s!==void 0&&i(s),s=void 0),this.orderingList.sortElements(l),m=l.reduce((I,x)=>I+x.text,""),d=this.tokenizer.tokenLength(m)}let f=[...l];if(s!==void 0){f.push(s),this.orderingList.sortElements(f);let h=f.reduce((x,w)=>x+w.text,""),I=this.tokenizer.tokenLength(h);if(I<=t){a(s);let x=new ds(f);return{prefix:h,suffix:"",prefixLength:I,suffixLength:0,promptChoices:o,promptBackground:r,promptElementRanges:x}}else i(s)}let g=new ds(l);return{prefix:m,suffix:"",prefixLength:d,suffixLength:0,promptChoices:o,promptBackground:r,promptElementRanges:g}}fulfill(t,r,o){var f;if(r.suffixPercent===0||t.length===0)return{promptInfo:this.fulfillPrefix(r.maxPromptLength),newCachedSuffix:o};let a=r.maxPromptLength-TS,u=Math.floor(a*(100-r.suffixPercent)/100),i=a-u,s=t.replace(/^.*/,"").trimStart();if(a>Po&&i<Po)throw new Error(`Suffix budget is smaller than MAX_EDIT_DISTANCE_LENGTH: ${i} < ${Po}
`);let l=this.tokenizer.takeFirstTokens(s,Po),c=!1;l.tokens.length>0&&r.suffixMatchThreshold>0&&100*((f=sg(l.tokens,o.tokens.slice(0,Po)))==null?void 0:f.score)<r.suffixMatchThreshold*l.tokens.length&&(c=!0);let m;if(c)u=a-o.tokens.length,m=o;else{let g=this.maxPrefixTokenLength(),h=this.tokenizer.tokenLength(s);g<u?(u=g,i=a-u):h<i&&(u=a-h,i=h),m=this.tokenizer.takeFirstTokens(s,i)}let d=this.fulfillPrefix(u);return d.suffix=m.text,d.suffixLength=m.tokens.length,{promptInfo:d,newCachedSuffix:m}}};n(Xl,"PromptWishlist");ls=Xl});function MS(e,t){let r=vS[e.semantics],o=["snippets"].includes(e.semantics)?"these":"this",u=(e.relativePath?`Compare ${o} ${r} from ${e.relativePath}:`:`Compare ${o} ${r}:`)+`
`+e.snippet;return u.endsWith(`
`)||(u+=`
`),rr(u,t)}function ug(e){e.sort((t,r)=>r.score-t.score)}function LS(e,t,r){if(t==0)return[];let o=e.map(u=>({...u,kind:us(u.provider)})),a=[];return r.rankedList.forEach(u=>{let i=o.filter(({kind:s})=>s===u);ug(i),a.push(...i)}),a.slice(0,t)}function ig(e,t,r,o,a){let i=LS(e,a,o).map(s=>{let l=MS(s,t),c=r.tokenLength(l);return{announcedSnippet:l,provider:s.provider,score:s.score,tokens:c,relativePath:s.relativePath}}).filter(s=>s.tokens>0);return ug(i),i.reverse(),i}var Ze,At,vS,Ut=p(()=>{"use strict";Rt();fi();Ze=(i=>(i.SimilarFiles="similar-files",i.Language="language",i.Path="path",i.TooltipSignature="tooltip-signature",i.Trait="trait",i.CodeSnippet="code",i))(Ze||{}),At=(d=>(d.Function="function",d.Snippet="snippet",d.Snippets="snippets",d.Variable="variable",d.Parameter="parameter",d.Method="method",d.Class="class",d.Module="module",d.Alias="alias",d.Enum="enum member",d.Interface="interface",d))(At||{}),vS={function:"function",snippet:"snippet",snippets:"snippets",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};n(MS,"announceSnippet");n(ug,"sortSnippetsDescending");n(LS,"selectSnippets");n(ig,"processSnippetsForWishlist")});var Yl,br,Ql,Ue,Ht=p(()=>{"use strict";tc();Yl=class Yl extends Error{constructor(t){super(t),this.name="ProviderTimeoutError"}};n(Yl,"ProviderTimeoutError");br=Yl,Ql=class Ql{constructor(t){this.api=t}getSnippets(t,r){return new Promise((o,a)=>{r.aborted&&a(new hr(this.type,new br("provider aborted"))),r.addEventListener("abort",()=>{a(new hr(this.type,new br(`max runtime exceeded: ${ec} ms`)))},{once:!0});let u=performance.now();this.buildSnippets(t).then(i=>{let s=performance.now();o({snippets:i,providerType:this.type,runtime:s-u})}).catch(i=>{a(new hr(this.type,i))})})}};n(Ql,"SnippetProvider");Ue=Ql});var rc,_s,lg=p(()=>{"use strict";Rt();Ut();Ht();rc=class rc extends Ue{constructor(){super(...arguments);this.type="code"}async buildSnippets(r){var i;if(r.codeSnippets===void 0||r.codeSnippets.length===0)return[];let{codeSnippets:o}=r,a=new Map;for(let s of o){let l=(i=s.relativePath)!=null?i:s.uri,c=a.get(l);c===void 0&&(c=[],a.set(l,c)),c.push(s)}let u=[];return a.forEach((s,l)=>{let c=s.map(m=>m.value).join(`
---
`);u.push({provider:this.type,semantics:s.length>1?"snippets":"snippet",snippet:ut(c),relativePath:l,startLine:0,endLine:0,score:Math.max(...s.map(m=>{var d;return(d=m.importance)!=null?d:0}))})}),u}};n(rc,"CodeSnippetProvider");_s=rc});var nc,gs,cg=p(()=>{"use strict";Rt();Kr();Ut();Ht();nc=class nc extends Ue{constructor(){super(...arguments);this.type="language"}async buildSnippets(r){let{currentFile:o}=r;return o.languageId=Nt(o.languageId),[{provider:this.type,semantics:"snippet",snippet:ut(Vm(o)),relativePath:o.relativePath,startLine:0,endLine:0,score:0}]}};n(nc,"LanguageSnippetProvider");gs=nc});var oc,hs,mg=p(()=>{"use strict";Rt();Kr();Ut();Ht();oc=class oc extends Ue{constructor(){super(...arguments);this.type="path"}async buildSnippets(r){let{currentFile:o}=r;return o.languageId=Nt(o.languageId),[{provider:this.type,semantics:"snippet",snippet:ut(Wm(o)),relativePath:o.relativePath,startLine:0,endLine:0,score:0}]}};n(oc,"PathSnippetProvider");hs=oc});var ic,bs,dg=p(()=>{"use strict";ps();Ht();ic=class ic extends Ue{constructor(){super(...arguments);this.type="similar-files"}async buildSnippets(r){let{currentFile:o,similarFiles:a,options:u}=r;return u&&a&&a.length?await this.api.getSimilarSnippets(o,a,u.similarFilesOptions):[]}};n(ic,"SimilarFilesProvider");bs=ic});var sc,ys,pg=p(()=>{"use strict";Rt();Kr();Ut();Ht();za();sc=class sc extends Ue{constructor(){super(...arguments);this.type="tooltip-signature"}async buildSnippets(r){let{currentFile:o,tooltipSignature:a}=r,u=[];return o.languageId=Nt(o.languageId),a&&od(o)&&u.push({provider:this.type,semantics:"snippet",snippet:ut(nd(a,o.languageId)),relativePath:o.relativePath,startLine:0,endLine:0,score:0}),u}};n(sc,"TooltipSignatureSnippetProvider");ys=sc});var ac,Is,fg=p(()=>{"use strict";Rt();Kr();Ut();Ht();ac=class ac extends Ue{constructor(){super(...arguments);this.type="trait"}async buildSnippets(r){if(r.traits.length===0)return[];let{currentFile:o}=r;return o.languageId=Nt(o.languageId),[{provider:this.type,semantics:"snippet",snippet:rr(`Consider this related information:
`+r.traits.map(a=>a.kind==="string"?ut(a.value):ut(`${a.name}: ${a.value}`)).join(""),o.languageId),relativePath:o.relativePath,startLine:0,endLine:0,score:0}]}};n(ac,"TraitProvider");Is=ac});function PS(e){return new Promise(t=>{setTimeout(()=>t(`delay: ${e}`),e)})}var xs,Ft,_g,lc,uc,ws,gg=p(()=>{"use strict";Vo();di();xs=Nn(require("path")),Ft=require("worker_threads");n(PS,"sleep");_g=["getSimilarSnippets","sleep"],lc=class lc{constructor(){this.nextHandlerId=0;this.handlers=new Map;this.fns=new Map;this.getSimilarSnippets=Qm;this.sleep=PS;var t;!Ft.isMainThread&&((t=Ft.workerData)!=null&&t.port)&&(Qs(),process.cwd=()=>Ft.workerData.cwd,this.configureWorkerResponse(Ft.workerData.port))}initWorker(){let{port1:t,port2:r}=new Ft.MessageChannel;this.port=t,this.worker=new Ft.Worker(xs.default.resolve(xs.default.extname(__filename)!==".ts"?__dirname:xs.default.resolve(__dirname,"../../dist"),"workerProxy.js"),{workerData:{port:r,cwd:process.cwd()},transferList:[r]}),this.port.on("message",o=>this.handleMessage(o)),this.port.on("error",o=>this.handleError(o))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(let t of _g)this.fns.set(t,this[t]),this.proxy(t)}unproxyFunctions(){for(let t of _g){let r=this.fns.get(t);if(r)this[t]=r;else throw new Error(`Unproxy function not found: ${t}`)}}configureWorkerResponse(t){this.port=t,this.port.on("message",r=>void this.onMessage(r))}async onMessage({id:t,fn:r,args:o}){let a=this[r];if(!a)throw new Error(`Function not found: ${r}`);try{let u=await a.apply(this,o);this.port.postMessage({id:t,res:u})}catch(u){if(!(u instanceof Error))throw u;typeof u.code=="string"?this.port.postMessage({id:t,err:u,code:u.code}):this.port.postMessage({id:t,err:u})}}handleMessage({id:t,err:r,code:o,res:a}){let u=this.handlers.get(t);u&&(this.handlers.delete(t),r?(r.code=o,u.reject(r)):u.resolve(a))}handleError(t){var o;let r;if(t instanceof Error){r=t,r.code==="MODULE_NOT_FOUND"&&((o=r.message)!=null&&o.endsWith("workerProxy.js'"))&&(r=new er("Failed to load workerProxy.js"));let a=new Error().stack;r.stack&&(a!=null&&a.match(/^Error\n/))&&(r.stack+=a.replace(/^Error/,""))}else t&&typeof t=="object"&&"name"in t&&t.name==="ExitStatus"&&"status"in t&&typeof t.status=="number"?(r=new Error(`workerProxy.js exited with status ${t.status}`),r.code=`CopilotPromptWorkerExit${t.status}`):r=new Error(`Non-error thrown: ${JSON.stringify(t)}`);for(let a of this.handlers.values())a.reject(r);throw r}proxy(t){this[t]=function(...r){let o=this.nextHandlerId++;return new Promise((a,u)=>{var i;this.handlers.set(o,{resolve:a,reject:u}),(i=this.port)==null||i.postMessage({id:o,fn:t,args:r})})}}};n(lc,"WorkerProxy");uc=lc,ws=new uc});function hg(e){return e.status==="fulfilled"}function NS(e){return e.status==="rejected"}function bg(e){return e.filter(hg).flatMap(t=>t.value.snippets)}function yg(e){return e.filter(NS).flatMap(t=>t.reason)}function Ig(e){let t={},r={};return e.forEach(o=>{hg(o)?(t[o.value.providerType]=Math.round(o.value.runtime),r[o.value.providerType]=!1):CS(o.reason)&&(r[o.reason.providerType]=!0,t[o.reason.providerType]=0)}),{runtimes:t,timeouts:r}}function CS(e){return e!==null&&typeof e=="object"&&"error"in e&&e.error instanceof br}function OS(e){return Promise.all(e.map(t=>t.then(RS,AS)))}function RS(e){return{status:"fulfilled",value:e}}function AS(e){return{status:"rejected",reason:e}}var ec,kS,cc,hr,mc,Ss,tc=p(()=>{"use strict";lg();cg();mg();dg();Ht();pg();fg();gg();ec=300,kS=[gs,hs,bs,ys,Is,_s],cc=class cc extends Error{constructor(r,o){super();this.providerType=r;this.error=o}};n(cc,"ProviderError");hr=cc;n(hg,"isFulfilledResult");n(NS,"isRejectedResult");n(bg,"providersSnippets");n(yg,"providersErrors");n(Ig,"providersPerformance");n(CS,"isProviderTimeout");mc=class mc{constructor(t=kS){this.startThreading=n(()=>ws.startThreading(),"startThreading");this.stopThreading=n(()=>ws.stopThreading(),"stopThreading");this.providers=t.map(r=>new r(ws))}async getSnippets(t){let r=AbortSignal.timeout(ec),o=this.providers.map(a=>a.getSnippets(t,r));return Promise.allSettled?Promise.allSettled(o):OS(o)}};n(mc,"SnippetOrchestrator");Ss=mc;n(OS,"allSettledBackup");n(RS,"createPromiseFulfilledResult");n(AS,"createPromiseRejectedResult")});function US(e,t){let r=e.lastIndexOf(`
`,t-1),o=e.indexOf(`
`,t);return o<0&&(o=e.length),e.slice(r+1,o)}function wg(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}function xg(e,t){let r=e.startIndex,o=e.startIndex-e.startPosition.column,a=t.substring(o,r);if(/^\s*$/.test(a))return a}function BS(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let o=xg(e,r),a=xg(t,r);return o!==void 0&&a!==void 0&&o.startsWith(a)}function vs(e){if(!sn(e))throw new Error(`Language ${e} is not supported`);return DS[Xn(e)]}async function jS(e,t,r){return sn(e)?vs(e).isEmptyBlockStart(t,r):!1}async function KS(e,t,r,o){if(sn(e))return vs(e).isBlockBodyFinished(t,r,o)}async function GS(e,t,r){if(sn(e))return vs(e).getNodeStart(t,r)}var dc,Es,pc,Ts,fc,yr,DS,Sg=p(()=>{"use strict";ci();dc=class dc{constructor(t,r,o){this.languageId=t;this.nodeMatch=r;this.nodeTypesWithBlockOrStmtChild=o}async getNodeMatchAtPosition(t,r,o){let a=await an(this.languageId,t);try{let i=a.rootNode.descendantForIndex(r);for(;i;){let s=this.nodeMatch[i.type];if(s){if(!this.nodeTypesWithBlockOrStmtChild.has(i.type))break;let l=this.nodeTypesWithBlockOrStmtChild.get(i.type),c=l==""?i.namedChildren[0]:i.childForFieldName(l);if((c==null?void 0:c.type)==s)break}i=i.parent}return i?o(i):void 0}finally{a.delete()}}getNextBlockAtPosition(t,r,o){return this.getNodeMatchAtPosition(t,r,a=>{let u=a.children.reverse().find(i=>i.type==this.nodeMatch[a.type]);if(u){if(this.languageId=="python"&&u.parent){let i=u.parent.type==":"?u.parent.parent:u.parent,s=i==null?void 0:i.nextSibling;for(;s&&s.type=="comment";){let l=s.startPosition.row==u.endPosition.row&&s.startPosition.column>=u.endPosition.column,c=s.startPosition.row>i.endPosition.row&&s.startPosition.column>i.startPosition.column;if(l||c)u=s,s=s.nextSibling;else break}}if(!(u.endIndex>=u.tree.rootNode.endIndex-1&&(u.hasError()||u.parent.hasError())))return o(u)}})}async isBlockBodyFinished(t,r,o){let a=(t+r).trimEnd(),u=await this.getNextBlockAtPosition(a,o,i=>i.endIndex);if(u!==void 0&&u<a.length){let i=u-t.length;return i>0?i:void 0}}getNodeStart(t,r){let o=t.trimEnd();return this.getNodeMatchAtPosition(o,r,a=>a.startIndex)}};n(dc,"BaseBlockParser");Es=dc,pc=class pc extends Es{constructor(r,o,a,u,i){super(r,u,i);this.blockEmptyMatch=o;this.lineMatch=a}isBlockStart(r){return this.lineMatch.test(r.trimStart())}async isBlockBodyEmpty(r,o){let a=await this.getNextBlockAtPosition(r,o,u=>{u.startIndex<o&&(o=u.startIndex);let i=r.substring(o,u.endIndex).trim();return i==""||i.replace(/\s/g,"")==this.blockEmptyMatch});return a===void 0||a}async isEmptyBlockStart(r,o){return o=wg(r,o),this.isBlockStart(US(r,o))&&this.isBlockBodyEmpty(r,o)}};n(pc,"RegexBasedBlockParser");Ts=pc;n(US,"getLineAtOffset");n(wg,"rewindToNearestNonWs");n(xg,"indent");n(BS,"outdented");fc=class fc extends Es{constructor(r,o,a,u,i,s,l){super(r,o,a);this.startKeywords=u;this.blockNodeType=i;this.emptyStatementType=s;this.curlyBraceLanguage=l}isBlockEmpty(r,o){var u,i;let a=r.text.trim();return this.curlyBraceLanguage&&(a.startsWith("{")&&(a=a.slice(1)),a.endsWith("}")&&(a=a.slice(0,-1)),a=a.trim()),!!(a.length==0||this.languageId=="python"&&(((u=r.parent)==null?void 0:u.type)=="class_definition"||((i=r.parent)==null?void 0:i.type)=="function_definition")&&r.children.length==1&&Ga(r.parent))}async isEmptyBlockStart(r,o){var u,i,s,l;if(o>r.length)throw new RangeError("Invalid offset");for(let c=o;c<r.length&&r.charAt(c)!=`
`;c++)if(/\S/.test(r.charAt(c)))return!1;o=wg(r,o);let a=await an(this.languageId,r);try{let c=a.rootNode.descendantForIndex(o-1);if(c==null||this.curlyBraceLanguage&&c.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&c.parent&&c.parent.type=="object"&&c.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let h=c;for(;h.parent;){if(h.type=="function_signature"||h.type=="method_signature"){let I=c.nextSibling;return I&&h.hasError()&&BS(h,I,r)?!0:!h.children.find(w=>w.type==";")&&h.endIndex<=o}h=h.parent}}let m=null,d=null,f=null,g=c;for(;g!=null;){if(g.type==this.blockNodeType){d=g;break}if(this.nodeMatch[g.type]){f=g;break}if(g.type=="ERROR"){m=g;break}g=g.parent}if(d!=null){if(!d.parent||!this.nodeMatch[d.parent.type])return!1;if(this.languageId=="python"){let h=d.previousSibling;if(h!=null&&h.hasError()&&(h.text.startsWith('"""')||h.text.startsWith("'''")))return!0}return this.isBlockEmpty(d,o)}if(m!=null){if(((u=m.previousSibling)==null?void 0:u.type)=="module"||((i=m.previousSibling)==null?void 0:i.type)=="internal_module"||((s=m.previousSibling)==null?void 0:s.type)=="def")return!0;let h=[...m.children].reverse(),I=h.find(w=>this.startKeywords.includes(w.type)),x=h.find(w=>w.type==this.blockNodeType);if(I){switch(this.languageId){case"python":{I.type=="try"&&c.type=="identifier"&&c.text.length>4&&(x=(l=h.find(M=>M.hasError()))==null?void 0:l.children.find(M=>M.type=="block"));let w,N=0;for(let M of m.children){if(M.type==":"&&N==0){w=M;break}M.type=="("&&(N+=1),M.type==")"&&(N-=1)}if(w&&I.endIndex<=w.startIndex&&w.nextSibling){if(I.type=="def"){let M=w.nextSibling;if(M.type=='"'||M.type=="'"||M.type=="ERROR"&&(M.text=='"""'||M.text=="'''"))return!0}return!1}break}case"javascript":{let w=h.find(T=>T.type=="formal_parameters");if(I.type=="class"&&w)return!0;let N=h.find(T=>T.type=="{");if(N&&N.startIndex>I.endIndex&&N.nextSibling!=null||h.find(T=>T.type=="do")&&I.type=="while"||I.type=="=>"&&I.nextSibling&&I.nextSibling.type!="{")return!1;break}case"typescript":{let w=h.find(M=>M.type=="{");if(w&&w.startIndex>I.endIndex&&w.nextSibling!=null||h.find(M=>M.type=="do")&&I.type=="while"||I.type=="=>"&&I.nextSibling&&I.nextSibling.type!="{")return!1;break}}return x&&x.startIndex>I.endIndex?this.isBlockEmpty(x,o):!0}}if(f!=null){let h=this.nodeMatch[f.type],I=f.children.slice().reverse().find(x=>x.type==h);if(I)return this.isBlockEmpty(I,o);if(this.nodeTypesWithBlockOrStmtChild.has(f.type)){let x=this.nodeTypesWithBlockOrStmtChild.get(f.type),w=x==""?f.children[0]:f.childForFieldName(x);if(w&&w.type!=this.blockNodeType&&w.type!=this.emptyStatementType)return!1}return!0}return!1}finally{a.delete()}}};n(fc,"TreeSitterBasedBlockParser");yr=fc,DS={python:new yr("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new yr("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new yr("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new yr("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new Ts("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new Ts("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),c_sharp:new yr("csharp",{},new Map([]),[],"block",null,!0),java:new yr("java",{},new Map([]),[],"block",null,!0)};n(vs,"getBlockParser");n(jS,"isEmptyBlockStart");n(KS,"isBlockBodyFinished");n(GS,"getNodeStart")});var Tg={};Wr(Tg,{DEFAULT_MAX_COMPLETION_LENGTH:()=>X_,DEFAULT_MAX_PROMPT_LENGTH:()=>Y_,DEFAULT_NUM_SNIPPETS:()=>Q_,DEFAULT_SUFFIX_MATCH_THRESHOLD:()=>tg,DEFAULT_SUFFIX_PERCENT:()=>xS,DEFAULT_TREE_TRAVERSAL_CONFIG:()=>lm,DocumentInfoSchema:()=>rg,DocumentInfoWithOffsetSchema:()=>wS,ElidableText:()=>Vn,LineEndingOptions:()=>Wl,LineWithValueAndCost:()=>nn,MAX_TOOLTIP_SIGNATURE_TOKENS:()=>eg,PromptOptions:()=>ss,ProviderError:()=>hr,ProviderTimeoutError:()=>br,SnippetOrchestrator:()=>Ss,SnippetProviderType:()=>Ze,SnippetSemantics:()=>At,SuffixMatchOption:()=>og,SuffixOption:()=>ng,TTokenizer:()=>Jo,TokenizerName:()=>Xo,WASMLanguage:()=>Zm,blankNode:()=>Do,buildLabelRules:()=>Yr,clearLabels:()=>Jc,clearLabelsIf:()=>ta,combineClosersAndOpeners:()=>jo,comment:()=>Zn,commentBlockAsSingles:()=>rr,createWorker:()=>VS,cutTreeAfterLine:()=>hh,deparseAndCutTree:()=>Mh,deparseLine:()=>Kn,deparseTree:()=>nm,describeTree:()=>om,duplicateTree:()=>bh,elidableTextForDiff:()=>ab,elidableTextForSourceCode:()=>oa,encodeTree:()=>im,firstLineOf:()=>sm,flattenVirtual:()=>wt,foldTree:()=>Bn,fromTreeWithFocussedLines:()=>en,fromTreeWithValuedLines:()=>cm,getBlockCloseToken:()=>yb,getBlockParser:()=>vs,getCursorContext:()=>vr,getLanguage:()=>Jm,getNodeStart:()=>GS,getPrompt:()=>ES,getTokenizer:()=>st,groupBlocks:()=>ra,isBlank:()=>re,isBlockBodyFinished:()=>KS,isEmptyBlockStart:()=>jS,isLine:()=>it,isSupportedLanguageId:()=>sn,isTop:()=>Yt,isVirtual:()=>De,labelLines:()=>Xr,labelVirtualInherited:()=>jn,languageIdToWasmLanguage:()=>Xn,languageMarkers:()=>qn,lastLineOf:()=>am,lineNode:()=>ea,mapLabels:()=>xt,normalizeLanguageId:()=>Nt,parseRaw:()=>Xc,parseTree:()=>Qt,parseTreeSitter:()=>an,providersErrors:()=>yg,providersPerformance:()=>Ig,providersSnippets:()=>bg,queryPythonIsDocstring:()=>Ga,rebuildTree:()=>Dn,registerLanguageSpecificParser:()=>Ko,resetLineNumbers:()=>yh,resetSuffixCache:()=>IS,topNode:()=>Un,virtualNode:()=>Bo,visitTree:()=>ie,visitTreeConditionally:()=>Ih});function VS(e,t){return new Eg.Worker(Ms.default.resolve(Ms.default.extname(__filename)!==".ts"?__dirname:Ms.default.resolve(__dirname,"../../dist"),e),{workerData:t})}var Ms,Eg,ps=p(()=>{"use strict";Ms=Nn(require("path")),Eg=require("worker_threads");jm();Gn();Rt();tc();ci();Sg();Kr();oi();ii();di();Ut();Ht();rn();n(VS,"createWorker")});Qs();var vg=(ps(),Fg(Tg)),{parentPort:ko,workerData:Ls}=require("worker_threads");Ls!=null&&Ls.cwd&&(process.cwd=()=>Ls.cwd);ko.on("message",async({id:e,fn:t,args:r})=>{try{if(t==="getPrompt"){let o=await vg.getPrompt(...r);ko.postMessage({id:e,res:o})}else{let o=await vg[t](...r);ko.postMessage({id:e,res:o})}}catch(o){if(!(o instanceof Error))throw o;typeof o.code=="string"?ko.postMessage({id:e,err:o,code:o.code}):ko.postMessage({id:e,err:o})}});
//# sourceMappingURL=worker.js.map
