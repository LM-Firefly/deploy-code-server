"use strict";var rc=Object.create;var Er=Object.defineProperty;var nc=Object.getOwnPropertyDescriptor;var oc=Object.getOwnPropertyNames;var ic=Object.getPrototypeOf,sc=Object.prototype.hasOwnProperty;var n=(e,t)=>Er(e,"name",{value:t,configurable:!0});var Y=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),on=(e,t)=>{for(var r in t)Er(e,r,{get:t[r],enumerable:!0})},_s=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of oc(t))!sc.call(e,a)&&a!==r&&Er(e,a,{get:()=>t[a],enumerable:!(o=nc(t,a))||o.enumerable});return e};var sn=(e,t,r)=>(r=e!=null?rc(ic(e)):{},_s(t||!e||!e.__esModule?Er(r,"default",{value:e,enumerable:!0}):r,e)),ac=e=>_s(Er({},"__esModule",{value:!0}),e);var gs=Y(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.bytePairEncode=Ye.BinaryMap=Ye.binaryMapKey=void 0;var uc=n((e,t,r)=>{let o=r-t,a=16777215>>>Math.max(0,(3-o)*8),u=(e[t+0]|e[t+1]<<8|e[t+2]<<16)&a,i=16777215>>>Math.min(31,Math.max(0,(6-o)*8)),s=(e[t+3]|e[t+4]<<8|e[t+5]<<16)&i;return u+16777216*s},"binaryMapKey");Ye.binaryMapKey=uc;var Tr=class Tr{constructor(){this.nested=new Map,this.final=new Map}get(t,r=0,o=t.length){var i;let a=o<6+r,u=(0,Ye.binaryMapKey)(t,r,o);return a?this.final.get(u):(i=this.nested.get(u))==null?void 0:i.get(t,6+r,o)}set(t,r){let o=(0,Ye.binaryMapKey)(t,0,t.length);if(t.length<6){this.final.set(o,r);return}let u=this.nested.get(o);if(u instanceof Tr)u.set(t.subarray(6),r);else{let i=new Tr;i.set(t.subarray(6),r),this.nested.set(o,i)}}};n(Tr,"BinaryMap");var uo=Tr;Ye.BinaryMap=uo;var Xe=new Int32Array(128),be=new Int32Array(128);function lc(e,t,r){var l;if(r===1)return[t.get(e)];let o=2147483647,a=-1;for(;Xe.length<r*2;)be=new Int32Array(be.length*2),Xe=new Int32Array(Xe.length*2);for(let c=0;c<r-1;c++){let d=(l=t.get(e,c,c+2))!=null?l:2147483647;d<o&&(o=d,a=c),be[c]=c,Xe[c]=d}be[r-1]=r-1,Xe[r-1]=2147483647,be[r]=r,Xe[r]=2147483647;let u=r+1;function i(c,d=0){if(c+d+2<u){let m=t.get(e,be[c],be[c+d+2]);if(m!==void 0)return m}return 2147483647}for(n(i,"getRank");o!==2147483647;){Xe[be[a]]=i(a,1),a>0&&(Xe[be[a-1]]=i(a-1,1));for(let c=a+1;c<u-1;c++)be[c]=be[c+1];u--,a=-1,o=2147483647;for(let c=0;c<u-1;c++){let d=Xe[be[c]];Xe[be[c]]<o&&(o=d,a=c)}}let s=[];for(let c=0;c<u-1;c++)s.push(t.get(e,be[c],be[c+1]));return s}n(lc,"bytePairEncode");Ye.bytePairEncode=lc});var hs=Y(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.makeTextEncoder=void 0;var mo=class mo{constructor(){this.length=0,this.encoder=new TextEncoder}encode(t){let r=this.encoder.encode(t);return this.length=r.length,r}};n(mo,"UniversalTextEncoder");var lo=mo,po=class po{constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(t){for(;;){if(this.length=this.buffer.write(t,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(t)}}};n(po,"NodeTextEncoder");var co=po,cc=n(()=>typeof Buffer<"u"?new co:new lo,"makeTextEncoder");an.makeTextEncoder=cc});var bs=Y(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.LRUCache=void 0;var go=class go{constructor(t){this.size=t,this.nodes=new Map}get(t){let r=this.nodes.get(t);if(r)return this.moveToHead(r),r.value}set(t,r){let o=this.nodes.get(t);if(o)o.value=r,this.moveToHead(o);else{let a=new _o(t,r);this.nodes.set(t,a),this.addNode(a),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(t){this.removeNode(t),t.next=void 0,t.prev=void 0,this.addNode(t)}addNode(t){this.head&&(this.head.prev=t,t.next=this.head),this.tail||(this.tail=t),this.head=t}removeNode(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}};n(go,"LRUCache");var fo=go;un.LRUCache=fo;var ho=class ho{constructor(t,r){this.key=t,this.value=r}};n(ho,"Node");var _o=ho});var Io=Y(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.TikTokenizer=void 0;var dc=require("fs"),mc=require("util"),ln=gs(),pc=hs(),fc=bs();function _c(e){let t=new Map;try{let o=dc.readFileSync(e,"utf-8");return r(o),t}catch(o){throw new Error(`Failed to load from BPE encoder file stream: ${o}`)}function r(o){for(let a of o.split(/[\r\n]+/)){if(a.trim()==="")continue;let u=a.split(" ");if(u.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let i=new Uint8Array(Buffer.from(u[0],"base64")),s=parseInt(u[1]);if(!isNaN(s))t.set(i,s);else throw new Error(`Can't parse ${u[1]} to integer`)}}n(r,"processBpeRanks")}n(_c,"loadTikTokenBpe");function gc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}n(gc,"escapeRegExp");var yo=class yo{constructor(t,r,o,a=8192){this.textEncoder=(0,pc.makeTextEncoder)(),this.textDecoder=new mc.TextDecoder("utf-8"),this.cache=new fc.LRUCache(a);let u=typeof t=="string"?_c(t):t;this.init(u,r,o)}init(t,r,o){this.encoder=new ln.BinaryMap;for(let[a,u]of t)this.encoder.set(a,u);this.regex=new RegExp(o,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(a=>gc(a)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[a,u]of t)this.decoder.set(u,a);if(t.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[a,u]of r)this.specialTokensDecoder.set(u,a)}findNextSpecialToken(t,r,o){let a=r,u=null;if(o&&this.specialTokensRegex)for(;u=t.slice(a).match(this.specialTokensRegex),!(!u||o&&o.includes(u[0]));)a+=u.index+1;let i=u?a+u.index:t.length;return[u,i]}encode(t,r){let o=[],a=0;for(;;){let u,i;if([u,i]=this.findNextSpecialToken(t,a,r),i>a&&this.encodeByIndex(t,o,a,i),u){if(a=a+this.encodeSpecialToken(o,u),a>=t.length)break}else break}return o}encodeSpecialToken(t,r){var a;let o=(a=this.specialTokensEncoder)==null?void 0:a.get(r[0]);return t.push(o),r.index+r[0].length}encodeByIndex(t,r,o,a){let u,i=t.substring(o,a);for(this.regex.lastIndex=0;u=this.regex.exec(i);){let s=this.cache.get(u[0]);if(s)for(let l of s)r.push(l);else{let l=this.textEncoder.encode(u[0]),c=this.encoder.get(l,0,this.textEncoder.length);if(c!==void 0)r.push(c),this.cache.set(u[0],[c]);else{let d=(0,ln.bytePairEncode)(l,this.encoder,this.textEncoder.length);for(let m of d)r.push(m);this.cache.set(u[0],d)}}}}encodeTrimSuffixByIndex(t,r,o,a,u,i,s){let l,c=t.substring(o,a);for(this.regex.lastIndex=0;l=this.regex.exec(c);){let d=l[0],m=this.cache.get(d);if(m)if(i+m.length<=u)i+=m.length,s+=d.length,r.push(...m);else{let f=u-i;i+=f,s+=d.length,r.push(...m.slice(0,f));break}else{let f=this.textEncoder.encode(d),_=this.encoder.get(f,0,f.length);if(_!==void 0)if(this.cache.set(d,[_]),i+1<=u)i++,s+=d.length,r.push(_);else break;else{let b=(0,ln.bytePairEncode)(f,this.encoder,this.textEncoder.length);if(this.cache.set(d,b),i+b.length<=u){i+=b.length,s+=d.length;for(let y of b)r.push(y)}else{let y=u-i;i+=y,s+=d.length;for(let x=0;x<y;x++)r.push(b[x]);break}}}if(i>=u)break}return{tokenCount:i,encodeLength:s}}encodeTrimSuffix(t,r,o){let a=[],u=0,i=0,s=0;for(;;){let c,d;if([c,d]=this.findNextSpecialToken(t,u,o),d>u){let{tokenCount:m,encodeLength:f}=this.encodeTrimSuffixByIndex(t,a,u,d,r,i,s);if(i=m,s=f,i>=r)break}if(c!==null){if(i++,i<=r&&(u=u+this.encodeSpecialToken(a,c),s+=c[0].length,u>=t.length)||i>=r)break}else break}let l=s===t.length?t:t.slice(0,s);return{tokenIds:a,text:l}}encodeTrimPrefix(t,r,o){let a=[],u=0,i=0,s=0,l=new Map;for(l.set(i,s);;){let f,_;if([f,_]=this.findNextSpecialToken(t,u,o),_>u){let b,y=t.substring(u,_);for(this.regex.lastIndex=0;b=this.regex.exec(y);){let x=b[0],w=this.cache.get(x);if(w)i+=w.length,s+=x.length,a.push(...w),l.set(i,s);else{let L=this.textEncoder.encode(x),T=this.encoder.get(L);if(T!==void 0)this.cache.set(x,[T]),i++,s+=x.length,a.push(T),l.set(i,s);else{let M=(0,ln.bytePairEncode)(L,this.encoder,this.textEncoder.length);this.cache.set(x,M),i+=M.length,s+=x.length;for(let v of M)a.push(v);l.set(i,s)}}}}if(f!==null){if(u=u+this.encodeSpecialToken(a,f),i++,s+=f[0].length,l.set(i,s),u>=t.length)break}else break}if(i<=r)return{tokenIds:a,text:t};let c=i-r,d=0,m=0;for(let[f,_]of l)if(f>=c){d=f,m=_;break}if(d>r){let f=this.encode(t,o),_=f.slice(f.length-r);return{tokenIds:_,text:this.decode(_)}}return{tokenIds:a.slice(d),text:t.slice(m)}}decode(t){var o,a;let r=[];for(let u of t){let i=[],s=(o=this.decoder)==null?void 0:o.get(u);if(s!==void 0)i=Array.from(s);else{let l=(a=this.specialTokensDecoder)==null?void 0:a.get(u);if(l!==void 0){let c=this.textEncoder.encode(l);i=Array.from(c.subarray(0,this.textEncoder.length))}}r.push(...i)}return this.textDecoder.decode(new Uint8Array(r))}};n(yo,"TikTokenizer");var bo=yo;cn.TikTokenizer=bo});var Ls=Y(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.createTokenizer=ne.createByEncoderName=ne.createByModelName=ne.getRegexByModel=ne.getRegexByEncoder=ne.getSpecialTokensByModel=ne.getSpecialTokensByEncoder=ne.MODEL_TO_ENCODING=void 0;var mn=require("fs"),wo=require("path"),hc=Io(),bc=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);ne.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var dn="<|endoftext|>",ys="<|fim_prefix|>",Is="<|fim_middle|>",ws="<|fim_suffix|>",xs="<|endofprompt|>",vr="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",Ss="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",yc=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],Es=yc.join("|");function xo(e){let t="";if(ne.MODEL_TO_ENCODING.has(e))t=ne.MODEL_TO_ENCODING.get(e);else for(let[r,o]of bc)if(e.startsWith(r)){t=o;break}return t}n(xo,"getEncoderFromModelName");async function Ic(e,t){let r=await fetch(e);if(!r.ok)throw new Error(`Failed to fetch file from ${e}. Status code: ${r.status}`);let o=await r.text();mn.writeFileSync(t,o)}n(Ic,"fetchAndSaveFile");function So(e){let t=new Map([[dn,50256]]);switch(e){case"o200k_base":t=new Map([[dn,199999],[xs,200018]]);break;case"cl100k_base":t=new Map([[dn,100257],[ys,100258],[Is,100259],[ws,100260],[xs,100276]]);break;case"p50k_edit":t=new Map([[dn,50256],[ys,50281],[Is,50282],[ws,50283]]);break;default:break}return t}n(So,"getSpecialTokensByEncoder");ne.getSpecialTokensByEncoder=So;function wc(e){let t=xo(e);return So(t)}n(wc,"getSpecialTokensByModel");ne.getSpecialTokensByModel=wc;function Ts(e){switch(e){case"o200k_base":return Es;case"cl100k_base":return Ss;default:break}return vr}n(Ts,"getRegexByEncoder");ne.getRegexByEncoder=Ts;function xc(e){let t=xo(e);return Ts(t)}n(xc,"getRegexByModel");ne.getRegexByModel=xc;async function Sc(e,t=null){return vs(xo(e),t)}n(Sc,"createByModelName");ne.createByModelName=Sc;async function vs(e,t=null){let r,o,a=So(e);switch(e){case"o200k_base":r=Es,o="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":r=Ss,o="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=vr,o="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=vr,o="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=vr,o="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=vr,o="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${e}]`)}t!==null&&(a=new Map([...a,...t]));let u=wo.basename(o),i=wo.resolve(__dirname,"..","model");mn.existsSync(i)||mn.mkdirSync(i,{recursive:!0});let s=wo.resolve(i,u);return mn.existsSync(s)||(console.log(`Downloading file from ${o}`),await Ic(o,s),console.log(`Saved file to ${s}`)),Ms(s,a,r)}n(vs,"createByEncoderName");ne.createByEncoderName=vs;function Ms(e,t,r,o=8192){return new hc.TikTokenizer(e,t,r,o)}n(Ms,"createTokenizer");ne.createTokenizer=Ms});var ks=Y(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.createTokenizer=oe.createByEncoderName=oe.createByModelName=oe.getSpecialTokensByModel=oe.getSpecialTokensByEncoder=oe.getRegexByModel=oe.getRegexByEncoder=oe.MODEL_TO_ENCODING=oe.TikTokenizer=void 0;var Ec=Io();Object.defineProperty(oe,"TikTokenizer",{enumerable:!0,get:n(function(){return Ec.TikTokenizer},"get")});var _t=Ls();Object.defineProperty(oe,"MODEL_TO_ENCODING",{enumerable:!0,get:n(function(){return _t.MODEL_TO_ENCODING},"get")});Object.defineProperty(oe,"getRegexByEncoder",{enumerable:!0,get:n(function(){return _t.getRegexByEncoder},"get")});Object.defineProperty(oe,"getRegexByModel",{enumerable:!0,get:n(function(){return _t.getRegexByModel},"get")});Object.defineProperty(oe,"getSpecialTokensByEncoder",{enumerable:!0,get:n(function(){return _t.getSpecialTokensByEncoder},"get")});Object.defineProperty(oe,"getSpecialTokensByModel",{enumerable:!0,get:n(function(){return _t.getSpecialTokensByModel},"get")});Object.defineProperty(oe,"createByModelName",{enumerable:!0,get:n(function(){return _t.createByModelName},"get")});Object.defineProperty(oe,"createByEncoderName",{enumerable:!0,get:n(function(){return _t.createByEncoderName},"get")});Object.defineProperty(oe,"createTokenizer",{enumerable:!0,get:n(function(){return _t.createTokenizer},"get")})});var ll=Y((exports,module)=>{var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;let _Parser=class _Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=n((i,s)=>{throw s},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(i){return Module.locateFile?Module.locateFile(i,scriptDirectory):scriptDirectory+i}n(locateFile,"locateFile");function logExceptionOnExit(i){i instanceof ExitStatus||err("exiting due to exception: "+i)}if(n(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=n((i,s)=>(i=isFileURI(i)?new URL(i):nodePath.normalize(i),fs.readFileSync(i,s?void 0:"utf8")),"read_"),readBinary=n(i=>{var s=read_(i,!0);return s.buffer||(s=new Uint8Array(s)),s},"readBinary"),readAsync=n((i,s,l)=>{i=isFileURI(i)?new URL(i):nodePath.normalize(i),fs.readFile(i,function(c,d){c?l(c):s(d.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=n((i,s)=>{if(keepRuntimeAlive())throw process.exitCode=i,s;logExceptionOnExit(s),process.exit(i)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=n(i=>{var s=new XMLHttpRequest;return s.open("GET",i,!1),s.send(null),s.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=n(i=>{var s=new XMLHttpRequest;return s.open("GET",i,!1),s.responseType="arraybuffer",s.send(null),new Uint8Array(s.response)},"readBinary")),readAsync=n((i,s,l)=>{var c=new XMLHttpRequest;c.open("GET",i,!0),c.responseType="arraybuffer",c.onload=()=>{c.status==200||c.status==0&&c.response?s(c.response):l()},c.onerror=l,c.send(null)},"readAsync"),setWindowTitle=n(i=>document.title=i,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(i,s,l){for(var c=s+l,d=s;i[d]&&!(d>=c);)++d;if(d-s>16&&i.buffer&&UTF8Decoder)return UTF8Decoder.decode(i.subarray(s,d));for(var m="";s<d;){var f=i[s++];if(128&f){var _=63&i[s++];if((224&f)!=192){var b=63&i[s++];if((f=(240&f)==224?(15&f)<<12|_<<6|b:(7&f)<<18|_<<12|b<<6|63&i[s++])<65536)m+=String.fromCharCode(f);else{var y=f-65536;m+=String.fromCharCode(55296|y>>10,56320|1023&y)}}else m+=String.fromCharCode((31&f)<<6|_)}else m+=String.fromCharCode(f)}return m}n(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(i,s){return i?UTF8ArrayToString(HEAPU8,i,s):""}n(UTF8ToString,"UTF8ToString");function stringToUTF8Array(i,s,l,c){if(!(c>0))return 0;for(var d=l,m=l+c-1,f=0;f<i.length;++f){var _=i.charCodeAt(f);if(_>=55296&&_<=57343&&(_=65536+((1023&_)<<10)|1023&i.charCodeAt(++f)),_<=127){if(l>=m)break;s[l++]=_}else if(_<=2047){if(l+1>=m)break;s[l++]=192|_>>6,s[l++]=128|63&_}else if(_<=65535){if(l+2>=m)break;s[l++]=224|_>>12,s[l++]=128|_>>6&63,s[l++]=128|63&_}else{if(l+3>=m)break;s[l++]=240|_>>18,s[l++]=128|_>>12&63,s[l++]=128|_>>6&63,s[l++]=128|63&_}}return s[l]=0,l-d}n(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(i,s,l){return stringToUTF8Array(i,HEAPU8,s,l)}n(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(i){for(var s=0,l=0;l<i.length;++l){var c=i.charCodeAt(l);c<=127?s++:c<=2047?s+=2:c>=55296&&c<=57343?(s+=4,++l):s+=3}return s}n(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(i){buffer=i,Module.HEAP8=HEAP8=new Int8Array(i),Module.HEAP16=HEAP16=new Int16Array(i),Module.HEAP32=HEAP32=new Int32Array(i),Module.HEAPU8=HEAPU8=new Uint8Array(i),Module.HEAPU16=HEAPU16=new Uint16Array(i),Module.HEAPU32=HEAPU32=new Uint32Array(i),Module.HEAPF32=HEAPF32=new Float32Array(i),Module.HEAPF64=HEAPF64=new Float64Array(i)}n(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}n(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}n(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}n(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}n(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}n(postRun,"postRun");function addOnPreRun(i){__ATPRERUN__.unshift(i)}n(addOnPreRun,"addOnPreRun");function addOnInit(i){__ATINIT__.unshift(i)}n(addOnInit,"addOnInit");function addOnPostRun(i){__ATPOSTRUN__.unshift(i)}n(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(i){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}n(addRunDependency,"addRunDependency");function removeRunDependency(i){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var s=dependenciesFulfilled;dependenciesFulfilled=null,s()}}n(removeRunDependency,"removeRunDependency");function abort(i){throw Module.onAbort&&Module.onAbort(i),err(i="Aborted("+i+")"),ABORT=!0,EXITSTATUS=1,i+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(i)}n(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(i){return i.startsWith(dataURIPrefix)}n(isDataURI,"isDataURI");function isFileURI(i){return i.startsWith("file://")}n(isFileURI,"isFileURI");function getBinary(i){try{if(i==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(i);throw"both async and sync fetching of the wasm failed"}catch(s){abort(s)}}n(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(i){if(!i.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return i.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(i,s){readAsync(wasmBinaryFile,function(l){i(new Uint8Array(l))},s)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}n(getBinaryPromise,"getBinaryPromise");function createWasm(){var i={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function s(d,m){var f=d.exports;f=relocateExports(f,1024);var _=getDylinkMetadata(m);_.neededDynlibs&&(dynamicLibraries=_.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(f,"main"),Module.asm=f,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}n(s,"t");function l(d){s(d.instance,d.module)}n(l,"r");function c(d){return getBinaryPromise().then(function(m){return WebAssembly.instantiate(m,i)}).then(function(m){return m}).then(d,function(m){err("failed to asynchronously prepare wasm: "+m),abort(m)})}if(n(c,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(i,s)}catch(d){return err("Module.instantiateWasm callback failed with error: "+d),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?c(l):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(d){return WebAssembly.instantiateStreaming(d,i).then(l,function(m){return err("wasm streaming compile failed: "+m),err("falling back to ArrayBuffer instantiation"),c(l)})}),{}}n(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(i){this.name="ExitStatus",this.message="Program terminated with exit("+i+")",this.status=i}n(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:n(function(i,s){var l=GOT[s];return l||(l=GOT[s]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(s)||(l.required=!0),l},"get")};function callRuntimeCallbacks(i){for(;i.length>0;)i.shift()(Module)}n(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(i){var s=0,l=0;function c(){for(var B=0,E=1;;){var re=i[s++];if(B+=(127&re)*E,E*=128,!(128&re))break}return B}n(c,"_");function d(){var B=c();return UTF8ArrayToString(i,(s+=B)-B,B)}n(d,"n");function m(B,E){if(B)throw new Error(E)}n(m,"s");var f="dylink.0";if(i instanceof WebAssembly.Module){var _=WebAssembly.Module.customSections(i,f);_.length===0&&(f="dylink",_=WebAssembly.Module.customSections(i,f)),m(_.length===0,"need dylink section"),l=(i=new Uint8Array(_[0])).length}else{m(new Uint32Array(new Uint8Array(i.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),m(i[8]!==0,"need the dylink section to be first"),s=9;var b=c();l=s+b,f=d()}var y={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(f=="dylink"){y.memorySize=c(),y.memoryAlign=c(),y.tableSize=c(),y.tableAlign=c();for(var x=c(),w=0;w<x;++w){var L=d();y.neededDynlibs.push(L)}}else for(m(f!=="dylink.0");s<l;){var T=i[s++],M=c();if(T===1)y.memorySize=c(),y.memoryAlign=c(),y.tableSize=c(),y.tableAlign=c();else if(T===2)for(x=c(),w=0;w<x;++w)L=d(),y.neededDynlibs.push(L);else if(T===3)for(var v=c();v--;){var A=d();256&c()&&y.tlsExports.add(A)}else if(T===4)for(v=c();v--;)d(),A=d(),(3&c())==1&&y.weakImports.add(A);else s+=M}return y}n(getDylinkMetadata,"getDylinkMetadata");function getValue(i,s="i8"){switch(s.endsWith("*")&&(s="*"),s){case"i1":case"i8":return HEAP8[i>>0];case"i16":return HEAP16[i>>1];case"i32":case"i64":return HEAP32[i>>2];case"float":return HEAPF32[i>>2];case"double":return HEAPF64[i>>3];case"*":return HEAPU32[i>>2];default:abort("invalid type for getValue: "+s)}return null}n(getValue,"getValue");function asmjsMangle(i){return i.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(i)?i:"_"+i}n(asmjsMangle,"asmjsMangle");function mergeLibSymbols(i,s){for(var l in i)if(i.hasOwnProperty(l)){asmLibraryArg.hasOwnProperty(l)||(asmLibraryArg[l]=i[l]);var c=asmjsMangle(l);Module.hasOwnProperty(c)||(Module[c]=i[l]),l=="__main_argc_argv"&&(Module._main=i[l])}}n(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(i,s,l){var c=Module["dynCall_"+i];return l&&l.length?c.apply(null,[s].concat(l)):c.call(null,s)}n(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(i){var s=wasmTableMirror[i];return s||(i>=wasmTableMirror.length&&(wasmTableMirror.length=i+1),wasmTableMirror[i]=s=wasmTable.get(i)),s}n(getWasmTableEntry,"getWasmTableEntry");function dynCall(i,s,l){return i.includes("j")?dynCallLegacy(i,s,l):getWasmTableEntry(s).apply(null,l)}n(dynCall,"dynCall");function createInvokeFunction(i){return function(){var s=stackSave();try{return dynCall(i,arguments[0],Array.prototype.slice.call(arguments,1))}catch(l){if(stackRestore(s),l!==l+0)throw l;_setThrew(1,0)}}}n(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(i,s){return HEAPU8.fill(0,i,i+s),i}n(zeroMemory,"zeroMemory");function getMemory(i){if(runtimeInitialized)return zeroMemory(_malloc(i),i);var s=___heap_base,l=s+i+15&-16;return ___heap_base=l,GOT.__heap_base.value=l,s}n(getMemory,"getMemory");function isInternalSym(i){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(i)}n(isInternalSym,"isInternalSym");function uleb128Encode(i,s){i<128?s.push(i):s.push(i%128|128,i>>7)}n(uleb128Encode,"uleb128Encode");function sigToWasmTypes(i){for(var s={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},l={parameters:[],results:i[0]=="v"?[]:[s[i[0]]]},c=1;c<i.length;++c)l.parameters.push(s[i[c]]),i[c]==="j"&&l.parameters.push("i32");return l}n(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(i,s){var l=i.slice(0,1),c=i.slice(1),d={i:127,p:127,j:126,f:125,d:124};s.push(96),uleb128Encode(c.length,s);for(var m=0;m<c.length;++m)s.push(d[c[m]]);l=="v"?s.push(0):s.push(1,d[l])}n(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(i,s){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(s),i);var l=[1];generateFuncType(s,l);var c=[0,97,115,109,1,0,0,0,1];uleb128Encode(l.length,c),c.push.apply(c,l),c.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var d=new WebAssembly.Module(new Uint8Array(c));return new WebAssembly.Instance(d,{e:{f:i}}).exports.f}n(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(i,s){if(functionsInTableMap)for(var l=i;l<i+s;l++){var c=getWasmTableEntry(l);c&&functionsInTableMap.set(c,l)}}n(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(i){throw i instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":i}return wasmTable.length-1}n(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(i,s){wasmTable.set(i,s),wasmTableMirror[i]=wasmTable.get(i)}n(setWasmTableEntry,"setWasmTableEntry");function addFunction(i,s){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(i))return functionsInTableMap.get(i);var l=getEmptyTableSlot();try{setWasmTableEntry(l,i)}catch(c){if(!(c instanceof TypeError))throw c;setWasmTableEntry(l,convertJsFunctionToWasm(i,s))}return functionsInTableMap.set(i,l),l}n(addFunction,"addFunction");function updateGOT(i,s){for(var l in i)if(!isInternalSym(l)){var c=i[l];l.startsWith("orig$")&&(l=l.split("$")[1],s=!0),GOT[l]||(GOT[l]=new WebAssembly.Global({value:"i32",mutable:!0})),(s||GOT[l].value==0)&&(typeof c=="function"?GOT[l].value=addFunction(c):typeof c=="number"?GOT[l].value=c:err("unhandled export type for `"+l+"`: "+typeof c))}}n(updateGOT,"updateGOT");function relocateExports(i,s,l){var c={};for(var d in i){var m=i[d];typeof m=="object"&&(m=m.value),typeof m=="number"&&(m+=s),c[d]=m}return updateGOT(c,l),c}n(relocateExports,"relocateExports");function resolveGlobalSymbol(i,s){var l;return s&&(l=asmLibraryArg["orig$"+i]),l||(l=asmLibraryArg[i])&&l.stub&&(l=void 0),l||(l=Module[asmjsMangle(i)]),!l&&i.startsWith("invoke_")&&(l=createInvokeFunction(i.split("_")[1])),l}n(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(i,s){return Math.ceil(i/s)*s}n(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(i){var s=resolveGlobalSymbol(i,!1);return s||(s=moduleExports[i]),s}n(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:n(function(i,s){switch(s){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(s in asmLibraryArg)return asmLibraryArg[s];var l;return s in i||(i[s]=function(){return l||(l=resolveSymbol(s)),l.apply(null,arguments)}),i[s]},"get")},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(n(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(n(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(i){return postInstantiation(i.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return n(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(i,s){return i.then(function(){return loadDynamicLibrary(s,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(i){loadDynamicLibrary(i,flags)}),loadModule())}n(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(i,s,l){s=s||{global:!0,nodelete:!0};var c=LDSO.loadedLibsByName[i];if(c)return s.global&&!c.global&&(c.global=!0,c.module!=="loading"&&mergeLibSymbols(c.module,i)),s.nodelete&&c.refcount!==1/0&&(c.refcount=1/0),c.refcount++,l&&(LDSO.loadedLibsByHandle[l]=c),!s.loadAsync||Promise.resolve(!0);function d(_){if(s.fs&&s.fs.findObject(_)){var b=s.fs.readFile(_,{encoding:"binary"});return b instanceof Uint8Array||(b=new Uint8Array(b)),s.loadAsync?Promise.resolve(b):b}if(_=locateFile(_),s.loadAsync)return new Promise(function(y,x){readAsync(_,w=>y(new Uint8Array(w)),x)});if(!readBinary)throw new Error(_+": file not found, and synchronous loading of external files is not available");return readBinary(_)}n(d,"n");function m(){if(typeof preloadedWasm<"u"&&preloadedWasm[i]){var _=preloadedWasm[i];return s.loadAsync?Promise.resolve(_):_}return s.loadAsync?d(i).then(function(b){return loadWebAssemblyModule(b,s,l)}):loadWebAssemblyModule(d(i),s,l)}n(m,"s");function f(_){c.global&&mergeLibSymbols(_,i),c.module=_}return n(f,"a"),c={refcount:s.nodelete?1/0:1,name:i,module:"loading",global:s.global},LDSO.loadedLibsByName[i]=c,l&&(LDSO.loadedLibsByHandle[l]=c),s.loadAsync?m().then(function(_){return f(_),!0}):(f(m()),!0)}n(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var i in GOT)if(GOT[i].value==0){var s=resolveGlobalSymbol(i,!0);if(!s&&!GOT[i].required)continue;if(typeof s=="function")GOT[i].value=addFunction(s,s.sig);else{if(typeof s!="number")throw new Error("bad export type for `"+i+"`: "+typeof s);GOT[i].value=s}}}n(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(i,s){return i.then(function(){return loadDynamicLibrary(s,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}n(preloadDylibs,"preloadDylibs");function setValue(i,s,l="i8"){switch(l.endsWith("*")&&(l="*"),l){case"i1":case"i8":HEAP8[i>>0]=s;break;case"i16":HEAP16[i>>1]=s;break;case"i32":HEAP32[i>>2]=s;break;case"i64":tempI64=[s>>>0,(tempDouble=s,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[i>>2]=tempI64[0],HEAP32[i+4>>2]=tempI64[1];break;case"float":HEAPF32[i>>2]=s;break;case"double":HEAPF64[i>>3]=s;break;case"*":HEAPU32[i>>2]=s;break;default:abort("invalid type for setValue: "+l)}}n(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}n(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}n(_abort,"_abort");function _emscripten_date_now(){return Date.now()}n(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(i,s,l){HEAPU8.copyWithin(i,s,s+l)}n(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}n(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(i){try{return wasmMemory.grow(i-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}n(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(i){var s=HEAPU8.length;i>>>=0;var l=getHeapMax();if(i>l)return!1;for(var c=1;c<=4;c*=2){var d=s*(1+.2/c);if(d=Math.min(d,i+100663296),emscripten_realloc_buffer(Math.min(l,(m=Math.max(i,d))+((f=65536)-m%f)%f)))return!0}var m,f;return!1}n(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var i=process.hrtime();return 1e3*i[0]+i[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:n(function(i,s,l){if(PATH.isAbs(s))return s;var c;if(i===-100?c=FS.cwd():c=SYSCALLS.getStreamFromFD(i).path,s.length==0){if(!l)throw new FS.ErrnoError(44);return c}return PATH.join2(c,s)},"calculateAt"),doStat:n(function(i,s,l){try{var c=i(s)}catch(_){if(_&&_.node&&PATH.normalize(s)!==PATH.normalize(FS.getPath(_.node)))return-54;throw _}HEAP32[l>>2]=c.dev,HEAP32[l+8>>2]=c.ino,HEAP32[l+12>>2]=c.mode,HEAPU32[l+16>>2]=c.nlink,HEAP32[l+20>>2]=c.uid,HEAP32[l+24>>2]=c.gid,HEAP32[l+28>>2]=c.rdev,tempI64=[c.size>>>0,(tempDouble=c.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+40>>2]=tempI64[0],HEAP32[l+44>>2]=tempI64[1],HEAP32[l+48>>2]=4096,HEAP32[l+52>>2]=c.blocks;var d=c.atime.getTime(),m=c.mtime.getTime(),f=c.ctime.getTime();return tempI64=[Math.floor(d/1e3)>>>0,(tempDouble=Math.floor(d/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+56>>2]=tempI64[0],HEAP32[l+60>>2]=tempI64[1],HEAPU32[l+64>>2]=d%1e3*1e3,tempI64=[Math.floor(m/1e3)>>>0,(tempDouble=Math.floor(m/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+72>>2]=tempI64[0],HEAP32[l+76>>2]=tempI64[1],HEAPU32[l+80>>2]=m%1e3*1e3,tempI64=[Math.floor(f/1e3)>>>0,(tempDouble=Math.floor(f/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+88>>2]=tempI64[0],HEAP32[l+92>>2]=tempI64[1],HEAPU32[l+96>>2]=f%1e3*1e3,tempI64=[c.ino>>>0,(tempDouble=c.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+104>>2]=tempI64[0],HEAP32[l+108>>2]=tempI64[1],0},"doStat"),doMsync:n(function(i,s,l,c,d){if(!FS.isFile(s.node.mode))throw new FS.ErrnoError(43);if(2&c)return 0;var m=HEAPU8.slice(i,i+l);FS.msync(s,m,d,l,c)},"doMsync"),varargs:void 0,get:n(function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},"get"),getStr:n(function(i){return UTF8ToString(i)},"getStr"),getStreamFromFD:n(function(i){var s=FS.getStream(i);if(!s)throw new FS.ErrnoError(8);return s},"getStreamFromFD")};function _proc_exit(i){EXITSTATUS=i,keepRuntimeAlive()||(Module.onExit&&Module.onExit(i),ABORT=!0),quit_(i,new ExitStatus(i))}n(_proc_exit,"_proc_exit");function exitJS(i,s){EXITSTATUS=i,_proc_exit(i)}n(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(i){try{var s=SYSCALLS.getStreamFromFD(i);return FS.close(s),0}catch(l){if(typeof FS>"u"||!(l instanceof FS.ErrnoError))throw l;return l.errno}}n(_fd_close,"_fd_close");function convertI32PairToI53Checked(i,s){return s+2097152>>>0<4194305-!!i?(i>>>0)+4294967296*s:NaN}n(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(i,s,l,c,d){try{var m=convertI32PairToI53Checked(s,l);if(isNaN(m))return 61;var f=SYSCALLS.getStreamFromFD(i);return FS.llseek(f,m,c),tempI64=[f.position>>>0,(tempDouble=f.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[d>>2]=tempI64[0],HEAP32[d+4>>2]=tempI64[1],f.getdents&&m===0&&c===0&&(f.getdents=null),0}catch(_){if(typeof FS>"u"||!(_ instanceof FS.ErrnoError))throw _;return _.errno}}n(_fd_seek,"_fd_seek");function doWritev(i,s,l,c){for(var d=0,m=0;m<l;m++){var f=HEAPU32[s>>2],_=HEAPU32[s+4>>2];s+=8;var b=FS.write(i,HEAP8,f,_,c);if(b<0)return-1;d+=b,c!==void 0&&(c+=b)}return d}n(doWritev,"doWritev");function _fd_write(i,s,l,c){try{var d=doWritev(SYSCALLS.getStreamFromFD(i),s,l);return HEAPU32[c>>2]=d,0}catch(m){if(typeof FS>"u"||!(m instanceof FS.ErrnoError))throw m;return m.errno}}n(_fd_write,"_fd_write");function _tree_sitter_log_callback(i,s){if(currentLogCallback){let l=UTF8ToString(s);currentLogCallback(l,i!==0)}}n(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(i,s,l,c,d){var m=currentParseCallback(s,{row:l,column:c});typeof m=="string"?(setValue(d,m.length,"i32"),stringToUTF16(m,i,10240)):setValue(d,0,"i32")}n(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(i){if(i instanceof ExitStatus||i=="unwind")return EXITSTATUS;quit_(1,i)}n(handleException,"handleException");function allocateUTF8OnStack(i){var s=lengthBytesUTF8(i)+1,l=stackAlloc(s);return stringToUTF8Array(i,HEAP8,l,s),l}n(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(i,s,l){if(l===void 0&&(l=2147483647),l<2)return 0;for(var c=s,d=(l-=2)<2*i.length?l/2:i.length,m=0;m<d;++m){var f=i.charCodeAt(m);HEAP16[s>>1]=f,s+=2}return HEAP16[s>>1]=0,s-c}n(stringToUTF16,"stringToUTF16");function AsciiToString(i){for(var s="";;){var l=HEAPU8[i++>>0];if(!l)return s;s+=String.fromCharCode(l)}}n(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(i){var s=Module._main;if(s){(i=i||[]).unshift(thisProgram);var l=i.length,c=stackAlloc(4*(l+1)),d=c>>2;i.forEach(f=>{HEAP32[d++]=allocateUTF8OnStack(f)}),HEAP32[d]=0;try{var m=s(l,c);return exitJS(m,!0),m}catch(f){return handleException(f)}}}n(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=n(function i(){calledRun||run(),calledRun||(dependenciesFulfilled=i)},"e");var dylibsLoaded=!1;function run(i){function s(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(i),postRun()))}n(s,"t"),i=i||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),s()},1)):s()))}if(n(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;let e=class e{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(s){let l;if(s){if(s.constructor!==Language)throw new Error("Argument must be a Language");{l=s[0];let c=C._ts_language_version(l);if(c<MIN_COMPATIBLE_VERSION||VERSION<c)throw new Error(`Incompatible language version ${c}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else l=0,s=null;return this.language=s,C._ts_parser_set_language(this[0],l),this}getLanguage(){return this.language}parse(s,l,c){if(typeof s=="string")currentParseCallback=n((b,y,x)=>s.slice(b,x),"currentParseCallback");else{if(typeof s!="function")throw new Error("Argument must be a string or a function");currentParseCallback=s}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let d=0,m=0;if(c&&c.includedRanges){d=c.includedRanges.length,m=C._calloc(d,SIZE_OF_RANGE);let b=m;for(let y=0;y<d;y++)marshalRange(b,c.includedRanges[y]),b+=SIZE_OF_RANGE}let f=C._ts_parser_parse_wasm(this[0],this[1],l?l[0]:0,m,d);if(!f)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let _=new Tree(INTERNAL,f,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,_}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(s){C._ts_parser_set_timeout_micros(this[0],s)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(s){if(s){if(typeof s!="function")throw new Error("Logger callback must be a function")}else s=null;return this.logCallback=s,this}getLogger(){return this.logCallback}};n(e,"ParserImpl");let ParserImpl=e,t=class t{constructor(s,l,c,d){assertInternal(s),this[0]=l,this.language=c,this.textCallback=d}copy(){let s=C._ts_tree_copy(this[0]);return new t(INTERNAL,s,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(s){marshalEdit(s),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(s){if(s.constructor!==t)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],s[0]);let l=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),d=new Array(l);if(l>0){let m=c;for(let f=0;f<l;f++)d[f]=unmarshalRange(m),m+=SIZE_OF_RANGE;C._free(c)}return d}};n(t,"Tree");let Tree=t,r=class r{constructor(s,l){assertInternal(s),this.tree=l}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(s){return this.id===s.id}child(s){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],s),unmarshalNode(this.tree)}namedChild(s){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],s),unmarshalNode(this.tree)}childForFieldId(s){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],s),unmarshalNode(this.tree)}childForFieldName(s){let l=this.tree.language.fields.indexOf(s);if(l!==-1)return this.childForFieldId(l)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let s=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(s),s>0){let c=l;for(let d=0;d<s;d++)this._children[d]=unmarshalNode(this.tree,c),c+=SIZE_OF_NODE;C._free(l)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let s=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(s),s>0){let c=l;for(let d=0;d<s;d++)this._namedChildren[d]=unmarshalNode(this.tree,c),c+=SIZE_OF_NODE;C._free(l)}}return this._namedChildren}descendantsOfType(s,l,c){Array.isArray(s)||(s=[s]),l||(l=ZERO_POINT),c||(c=ZERO_POINT);let d=[],m=this.tree.language.types;for(let x=0,w=m.length;x<w;x++)s.includes(m[x])&&d.push(x);let f=C._malloc(SIZE_OF_INT*d.length);for(let x=0,w=d.length;x<w;x++)setValue(f+x*SIZE_OF_INT,d[x],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],f,d.length,l.row,l.column,c.row,c.column);let _=getValue(TRANSFER_BUFFER,"i32"),b=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),y=new Array(_);if(_>0){let x=b;for(let w=0;w<_;w++)y[w]=unmarshalNode(this.tree,x),x+=SIZE_OF_NODE}return C._free(b),C._free(f),y}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(s,l=s){if(typeof s!="number"||typeof l!="number")throw new Error("Arguments must be numbers");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(c,s,"i32"),setValue(c+SIZE_OF_INT,l,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(s,l=s){if(typeof s!="number"||typeof l!="number")throw new Error("Arguments must be numbers");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(c,s,"i32"),setValue(c+SIZE_OF_INT,l,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(s,l=s){if(!isPoint(s)||!isPoint(l))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(c,s),marshalPoint(c+SIZE_OF_POINT,l),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(s,l=s){if(!isPoint(s)||!isPoint(l))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(c,s),marshalPoint(c+SIZE_OF_POINT,l),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let s=C._ts_node_to_string_wasm(this.tree[0]),l=AsciiToString(s);return C._free(s),l}};n(r,"Node");let Node=r,o=class o{constructor(s,l){assertInternal(s),this.tree=l,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(s){marshalNode(s),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let s=C._ts_tree_cursor_start_index_wasm(this.tree[0]),l=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,s,l)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let s=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),s===1}gotoNextSibling(){marshalTreeCursor(this);let s=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),s===1}gotoParent(){marshalTreeCursor(this);let s=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),s===1}};n(o,"TreeCursor");let TreeCursor=o,a=class a{constructor(s,l){assertInternal(s),this[0]=l,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let c=0,d=this.types.length;c<d;c++)C._ts_language_symbol_type(this[0],c)<2&&(this.types[c]=UTF8ToString(C._ts_language_symbol_name(this[0],c)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let c=0,d=this.fields.length;c<d;c++){let m=C._ts_language_field_name_for_id(this[0],c);this.fields[c]=m!==0?UTF8ToString(m):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(s){let l=this.fields.indexOf(s);return l!==-1?l:null}fieldNameForId(s){return this.fields[s]||null}idForNodeType(s,l){let c=lengthBytesUTF8(s),d=C._malloc(c+1);stringToUTF8(s,d,c+1);let m=C._ts_language_symbol_for_name(this[0],d,c,l);return C._free(d),m||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(s){let l=C._ts_language_symbol_name(this[0],s);return l?UTF8ToString(l):null}nodeTypeIsNamed(s){return!!C._ts_language_type_is_named_wasm(this[0],s)}nodeTypeIsVisible(s){return!!C._ts_language_type_is_visible_wasm(this[0],s)}query(s){let l=lengthBytesUTF8(s),c=C._malloc(l+1);stringToUTF8(s,c,l+1);let d=C._ts_query_new(this[0],c,l,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!d){let v=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),A=UTF8ToString(c,getValue(TRANSFER_BUFFER,"i32")).length,B=s.substr(A,100).split(`
`)[0],E,re=B.match(QUERY_WORD_REGEX)[0];switch(v){case 2:E=new RangeError(`Bad node name '${re}'`);break;case 3:E=new RangeError(`Bad field name '${re}'`);break;case 4:E=new RangeError(`Bad capture name @${re}`);break;case 5:E=new TypeError(`Bad pattern structure at offset ${A}: '${B}'...`),re="";break;default:E=new SyntaxError(`Bad syntax at offset ${A}: '${B}'...`),re=""}throw E.index=A,E.length=re.length,C._free(c),E}let m=C._ts_query_string_count(d),f=C._ts_query_capture_count(d),_=C._ts_query_pattern_count(d),b=new Array(f),y=new Array(m);for(let v=0;v<f;v++){let A=C._ts_query_capture_name_for_id(d,v,TRANSFER_BUFFER),B=getValue(TRANSFER_BUFFER,"i32");b[v]=UTF8ToString(A,B)}for(let v=0;v<m;v++){let A=C._ts_query_string_value_for_id(d,v,TRANSFER_BUFFER),B=getValue(TRANSFER_BUFFER,"i32");y[v]=UTF8ToString(A,B)}let x=new Array(_),w=new Array(_),L=new Array(_),T=new Array(_),M=new Array(_);for(let v=0;v<_;v++){let A=C._ts_query_predicates_for_pattern(d,v,TRANSFER_BUFFER),B=getValue(TRANSFER_BUFFER,"i32");T[v]=[],M[v]=[];let E=[],re=A;for(let wr=0;wr<B;wr++){let ms=getValue(re,"i32");re+=SIZE_OF_INT;let ps=getValue(re,"i32");if(re+=SIZE_OF_INT,ms===PREDICATE_STEP_TYPE_CAPTURE)E.push({type:"capture",name:b[ps]});else if(ms===PREDICATE_STEP_TYPE_STRING)E.push({type:"string",value:y[ps]});else if(E.length>0){if(E[0].type!=="string")throw new Error("Predicates must begin with a literal value");let xr=E[0].value,Sr=!0;switch(xr){case"not-eq?":Sr=!1;case"eq?":if(E.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(E.length-1));if(E[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${E[1].value}"`);if(E[2].type==="capture"){let st=E[1].name,$t=E[2].name;M[v].push(function(io){let zt,so;for(let nn of io)nn.name===st&&(zt=nn.node),nn.name===$t&&(so=nn.node);return zt===void 0||so===void 0||zt.text===so.text===Sr})}else{let st=E[1].name,$t=E[2].value;M[v].push(function(io){for(let zt of io)if(zt.name===st)return zt.node.text===$t===Sr;return!0})}break;case"not-match?":Sr=!1;case"match?":if(E.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${E.length-1}.`);if(E[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${E[1].value}".`);if(E[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${E[2].value}.`);let ec=E[1].name,tc=new RegExp(E[2].value);M[v].push(function(st){for(let $t of st)if($t.name===ec)return tc.test($t.node.text)===Sr;return!0});break;case"set!":if(E.length<2||E.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${E.length-1}.`);if(E.some(st=>st.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');x[v]||(x[v]={}),x[v][E[1].value]=E[2]?E[2].value:null;break;case"is?":case"is-not?":if(E.length<2||E.length>3)throw new Error(`Wrong number of arguments to \`#${xr}\` predicate. Expected 1 or 2. Got ${E.length-1}.`);if(E.some(st=>st.type!=="string"))throw new Error(`Arguments to \`#${xr}\` predicate must be a strings.".`);let oo=xr==="is?"?w:L;oo[v]||(oo[v]={}),oo[v][E[1].value]=E[2]?E[2].value:null;break;default:T[v].push({operator:xr,operands:E.slice(1)})}E.length=0}}Object.freeze(x[v]),Object.freeze(w[v]),Object.freeze(L[v])}return C._free(c),new Query(INTERNAL,d,b,M,T,Object.freeze(x),Object.freeze(w),Object.freeze(L))}static load(s){let l;if(s instanceof Uint8Array)l=Promise.resolve(s);else{let d=s;if(typeof process<"u"&&process.versions&&process.versions.node){let m=require("fs");l=Promise.resolve(m.readFileSync(d))}else l=fetch(d).then(m=>m.arrayBuffer().then(f=>{if(m.ok)return new Uint8Array(f);{let _=new TextDecoder("utf-8").decode(f);throw new Error(`Language.load failed with status ${m.status}.

${_}`)}}))}let c=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return l.then(d=>c(d,{loadAsync:!0})).then(d=>{let m=Object.keys(d),f=m.find(b=>LANGUAGE_FUNCTION_REGEX.test(b)&&!b.includes("external_scanner_"));f||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(m,null,2)}`);let _=d[f]();return new a(INTERNAL,_)})}};n(a,"Language");let Language=a,u=class u{constructor(s,l,c,d,m,f,_,b){assertInternal(s),this[0]=l,this.captureNames=c,this.textPredicates=d,this.predicates=m,this.setProperties=f,this.assertedProperties=_,this.refutedProperties=b,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(s,l,c,d){l||(l=ZERO_POINT),c||(c=ZERO_POINT),d||(d={});let m=d.matchLimit;if(m===void 0)m=0;else if(typeof m!="number")throw new Error("Arguments must be numbers");marshalNode(s),C._ts_query_matches_wasm(this[0],s.tree[0],l.row,l.column,c.row,c.column,m);let f=getValue(TRANSFER_BUFFER,"i32"),_=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),b=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),y=new Array(f);this.exceededMatchLimit=!!b;let x=0,w=_;for(let L=0;L<f;L++){let T=getValue(w,"i32");w+=SIZE_OF_INT;let M=getValue(w,"i32");w+=SIZE_OF_INT;let v=new Array(M);if(w=unmarshalCaptures(this,s.tree,w,v),this.textPredicates[T].every(A=>A(v))){y[x++]={pattern:T,captures:v};let A=this.setProperties[T];A&&(y[L].setProperties=A);let B=this.assertedProperties[T];B&&(y[L].assertedProperties=B);let E=this.refutedProperties[T];E&&(y[L].refutedProperties=E)}}return y.length=x,C._free(_),y}captures(s,l,c,d){l||(l=ZERO_POINT),c||(c=ZERO_POINT),d||(d={});let m=d.matchLimit;if(m===void 0)m=0;else if(typeof m!="number")throw new Error("Arguments must be numbers");marshalNode(s),C._ts_query_captures_wasm(this[0],s.tree[0],l.row,l.column,c.row,c.column,m);let f=getValue(TRANSFER_BUFFER,"i32"),_=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),b=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),y=[];this.exceededMatchLimit=!!b;let x=[],w=_;for(let L=0;L<f;L++){let T=getValue(w,"i32");w+=SIZE_OF_INT;let M=getValue(w,"i32");w+=SIZE_OF_INT;let v=getValue(w,"i32");if(w+=SIZE_OF_INT,x.length=M,w=unmarshalCaptures(this,s.tree,w,x),this.textPredicates[T].every(A=>A(x))){let A=x[v],B=this.setProperties[T];B&&(A.setProperties=B);let E=this.assertedProperties[T];E&&(A.assertedProperties=E);let re=this.refutedProperties[T];re&&(A.refutedProperties=re),y.push(A)}}return C._free(_),y}predicatesForPattern(s){return this.predicates[s]}didExceedMatchLimit(){return this.exceededMatchLimit}};n(u,"Query");let Query=u;function getText(i,s,l){let c=l-s,d=i.textCallback(s,null,l);for(s+=d.length;s<l;){let m=i.textCallback(s,null,l);if(!(m&&m.length>0))break;s+=m.length,d+=m}return s>l&&(d=d.slice(0,c)),d}n(getText,"getText");function unmarshalCaptures(i,s,l,c){for(let d=0,m=c.length;d<m;d++){let f=getValue(l,"i32"),_=unmarshalNode(s,l+=SIZE_OF_INT);l+=SIZE_OF_NODE,c[d]={name:i.captureNames[f],node:_}}return l}n(unmarshalCaptures,"unmarshalCaptures");function assertInternal(i){if(i!==INTERNAL)throw new Error("Illegal constructor")}n(assertInternal,"assertInternal");function isPoint(i){return i&&typeof i.row=="number"&&typeof i.column=="number"}n(isPoint,"isPoint");function marshalNode(i){let s=TRANSFER_BUFFER;setValue(s,i.id,"i32"),s+=SIZE_OF_INT,setValue(s,i.startIndex,"i32"),s+=SIZE_OF_INT,setValue(s,i.startPosition.row,"i32"),s+=SIZE_OF_INT,setValue(s,i.startPosition.column,"i32"),s+=SIZE_OF_INT,setValue(s,i[0],"i32")}n(marshalNode,"marshalNode");function unmarshalNode(i,s=TRANSFER_BUFFER){let l=getValue(s,"i32");if(l===0)return null;let c=getValue(s+=SIZE_OF_INT,"i32"),d=getValue(s+=SIZE_OF_INT,"i32"),m=getValue(s+=SIZE_OF_INT,"i32"),f=getValue(s+=SIZE_OF_INT,"i32"),_=new Node(INTERNAL,i);return _.id=l,_.startIndex=c,_.startPosition={row:d,column:m},_[0]=f,_}n(unmarshalNode,"unmarshalNode");function marshalTreeCursor(i,s=TRANSFER_BUFFER){setValue(s+0*SIZE_OF_INT,i[0],"i32"),setValue(s+1*SIZE_OF_INT,i[1],"i32"),setValue(s+2*SIZE_OF_INT,i[2],"i32")}n(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(i){i[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),i[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),i[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}n(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(i,s){setValue(i,s.row,"i32"),setValue(i+SIZE_OF_INT,s.column,"i32")}n(marshalPoint,"marshalPoint");function unmarshalPoint(i){return{row:getValue(i,"i32"),column:getValue(i+SIZE_OF_INT,"i32")}}n(unmarshalPoint,"unmarshalPoint");function marshalRange(i,s){marshalPoint(i,s.startPosition),marshalPoint(i+=SIZE_OF_POINT,s.endPosition),setValue(i+=SIZE_OF_POINT,s.startIndex,"i32"),setValue(i+=SIZE_OF_INT,s.endIndex,"i32"),i+=SIZE_OF_INT}n(marshalRange,"marshalRange");function unmarshalRange(i){let s={};return s.startPosition=unmarshalPoint(i),i+=SIZE_OF_POINT,s.endPosition=unmarshalPoint(i),i+=SIZE_OF_POINT,s.startIndex=getValue(i,"i32"),i+=SIZE_OF_INT,s.endIndex=getValue(i,"i32"),s}n(unmarshalRange,"unmarshalRange");function marshalEdit(i){let s=TRANSFER_BUFFER;marshalPoint(s,i.startPosition),s+=SIZE_OF_POINT,marshalPoint(s,i.oldEndPosition),s+=SIZE_OF_POINT,marshalPoint(s,i.newEndPosition),s+=SIZE_OF_POINT,setValue(s,i.startIndex,"i32"),s+=SIZE_OF_INT,setValue(s,i.oldEndIndex,"i32"),s+=SIZE_OF_INT,setValue(s,i.newEndIndex,"i32"),s+=SIZE_OF_INT}n(marshalEdit,"marshalEdit");for(let i of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(_Parser.prototype,i,{value:ParserImpl.prototype[i],enumerable:!1,writable:!1});_Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}};n(_Parser,"Parser");let Parser=_Parser;return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});var yl=Y(Gi=>{var bl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");Gi.encode=function(e){if(0<=e&&e<bl.length)return bl[e];throw new TypeError("Must be between 0 and 63: "+e)};Gi.decode=function(e){var t=65,r=90,o=97,a=122,u=48,i=57,s=43,l=47,c=26,d=52;return t<=e&&e<=r?e-t:o<=e&&e<=a?e-o+c:u<=e&&e<=i?e-u+d:e==s?62:e==l?63:-1}});var $i=Y(Wi=>{var Il=yl(),Vi=5,wl=1<<Vi,xl=wl-1,Sl=wl;function j_(e){return e<0?(-e<<1)+1:(e<<1)+0}n(j_,"toVLQSigned");function K_(e){var t=(e&1)===1,r=e>>1;return t?-r:r}n(K_,"fromVLQSigned");Wi.encode=n(function(t){var r="",o,a=j_(t);do o=a&xl,a>>>=Vi,a>0&&(o|=Sl),r+=Il.encode(o);while(a>0);return r},"base64VLQ_encode");Wi.decode=n(function(t,r,o){var a=t.length,u=0,i=0,s,l;do{if(r>=a)throw new Error("Expected more digits in base 64 VLQ value.");if(l=Il.decode(t.charCodeAt(r++)),l===-1)throw new Error("Invalid base64 digit: "+t.charAt(r-1));s=!!(l&Sl),l&=xl,u=u+(l<<i),i+=Vi}while(s);o.value=K_(u),o.rest=r},"base64VLQ_decode")});var br=Y(he=>{function G_(e,t,r){if(t in e)return e[t];if(arguments.length===3)return r;throw new Error('"'+t+'" is a required argument.')}n(G_,"getArg");he.getArg=G_;var El=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,V_=/^data:.+\,.+$/;function Xr(e){var t=e.match(El);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}n(Xr,"urlParse");he.urlParse=Xr;function gr(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}n(gr,"urlGenerate");he.urlGenerate=gr;function zi(e){var t=e,r=Xr(e);if(r){if(!r.path)return e;t=r.path}for(var o=he.isAbsolute(t),a=t.split(/\/+/),u,i=0,s=a.length-1;s>=0;s--)u=a[s],u==="."?a.splice(s,1):u===".."?i++:i>0&&(u===""?(a.splice(s+1,i),i=0):(a.splice(s,2),i--));return t=a.join("/"),t===""&&(t=o?"/":"."),r?(r.path=t,gr(r)):t}n(zi,"normalize");he.normalize=zi;function Tl(e,t){e===""&&(e="."),t===""&&(t=".");var r=Xr(t),o=Xr(e);if(o&&(e=o.path||"/"),r&&!r.scheme)return o&&(r.scheme=o.scheme),gr(r);if(r||t.match(V_))return t;if(o&&!o.host&&!o.path)return o.host=t,gr(o);var a=t.charAt(0)==="/"?t:zi(e.replace(/\/+$/,"")+"/"+t);return o?(o.path=a,gr(o)):a}n(Tl,"join");he.join=Tl;he.isAbsolute=function(e){return e.charAt(0)==="/"||El.test(e)};function W_(e,t){e===""&&(e="."),e=e.replace(/\/$/,"");for(var r=0;t.indexOf(e+"/")!==0;){var o=e.lastIndexOf("/");if(o<0||(e=e.slice(0,o),e.match(/^([^\/]+:\/)?\/*$/)))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)}n(W_,"relative");he.relative=W_;var vl=function(){var e=Object.create(null);return!("__proto__"in e)}();function Ml(e){return e}n(Ml,"identity");function $_(e){return Ll(e)?"$"+e:e}n($_,"toSetString");he.toSetString=vl?Ml:$_;function z_(e){return Ll(e)?e.slice(1):e}n(z_,"fromSetString");he.fromSetString=vl?Ml:z_;function Ll(e){if(!e)return!1;var t=e.length;if(t<9||e.charCodeAt(t-1)!==95||e.charCodeAt(t-2)!==95||e.charCodeAt(t-3)!==111||e.charCodeAt(t-4)!==116||e.charCodeAt(t-5)!==111||e.charCodeAt(t-6)!==114||e.charCodeAt(t-7)!==112||e.charCodeAt(t-8)!==95||e.charCodeAt(t-9)!==95)return!1;for(var r=t-10;r>=0;r--)if(e.charCodeAt(r)!==36)return!1;return!0}n(Ll,"isProtoString");function H_(e,t,r){var o=hr(e.source,t.source);return o!==0||(o=e.originalLine-t.originalLine,o!==0)||(o=e.originalColumn-t.originalColumn,o!==0||r)||(o=e.generatedColumn-t.generatedColumn,o!==0)||(o=e.generatedLine-t.generatedLine,o!==0)?o:hr(e.name,t.name)}n(H_,"compareByOriginalPositions");he.compareByOriginalPositions=H_;function q_(e,t,r){var o=e.generatedLine-t.generatedLine;return o!==0||(o=e.generatedColumn-t.generatedColumn,o!==0||r)||(o=hr(e.source,t.source),o!==0)||(o=e.originalLine-t.originalLine,o!==0)||(o=e.originalColumn-t.originalColumn,o!==0)?o:hr(e.name,t.name)}n(q_,"compareByGeneratedPositionsDeflated");he.compareByGeneratedPositionsDeflated=q_;function hr(e,t){return e===t?0:e===null?1:t===null?-1:e>t?1:-1}n(hr,"strcmp");function Z_(e,t){var r=e.generatedLine-t.generatedLine;return r!==0||(r=e.generatedColumn-t.generatedColumn,r!==0)||(r=hr(e.source,t.source),r!==0)||(r=e.originalLine-t.originalLine,r!==0)||(r=e.originalColumn-t.originalColumn,r!==0)?r:hr(e.name,t.name)}n(Z_,"compareByGeneratedPositionsInflated");he.compareByGeneratedPositionsInflated=Z_;function J_(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}n(J_,"parseSourceMapInput");he.parseSourceMapInput=J_;function X_(e,t,r){if(t=t||"",e&&(e[e.length-1]!=="/"&&t[0]!=="/"&&(e+="/"),t=e+t),r){var o=Xr(r);if(!o)throw new Error("sourceMapURL could not be parsed");if(o.path){var a=o.path.lastIndexOf("/");a>=0&&(o.path=o.path.substring(0,a+1))}t=Tl(gr(o),t)}return zi(t)}n(X_,"computeSourceURL");he.computeSourceURL=X_});var Zi=Y(kl=>{var Hi=br(),qi=Object.prototype.hasOwnProperty,Kt=typeof Map<"u";function pt(){this._array=[],this._set=Kt?new Map:Object.create(null)}n(pt,"ArraySet");pt.fromArray=n(function(t,r){for(var o=new pt,a=0,u=t.length;a<u;a++)o.add(t[a],r);return o},"ArraySet_fromArray");pt.prototype.size=n(function(){return Kt?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size");pt.prototype.add=n(function(t,r){var o=Kt?t:Hi.toSetString(t),a=Kt?this.has(t):qi.call(this._set,o),u=this._array.length;(!a||r)&&this._array.push(t),a||(Kt?this._set.set(t,u):this._set[o]=u)},"ArraySet_add");pt.prototype.has=n(function(t){if(Kt)return this._set.has(t);var r=Hi.toSetString(t);return qi.call(this._set,r)},"ArraySet_has");pt.prototype.indexOf=n(function(t){if(Kt){var r=this._set.get(t);if(r>=0)return r}else{var o=Hi.toSetString(t);if(qi.call(this._set,o))return this._set[o]}throw new Error('"'+t+'" is not in the set.')},"ArraySet_indexOf");pt.prototype.at=n(function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},"ArraySet_at");pt.prototype.toArray=n(function(){return this._array.slice()},"ArraySet_toArray");kl.ArraySet=pt});var Fl=Y(Nl=>{var Pl=br();function Y_(e,t){var r=e.generatedLine,o=t.generatedLine,a=e.generatedColumn,u=t.generatedColumn;return o>r||o==r&&u>=a||Pl.compareByGeneratedPositionsInflated(e,t)<=0}n(Y_,"generatedPositionAfter");function Xn(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}n(Xn,"MappingList");Xn.prototype.unsortedForEach=n(function(t,r){this._array.forEach(t,r)},"MappingList_forEach");Xn.prototype.add=n(function(t){Y_(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},"MappingList_add");Xn.prototype.toArray=n(function(){return this._sorted||(this._array.sort(Pl.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray");Nl.MappingList=Xn});var Ji=Y(Cl=>{var Yr=$i(),ue=br(),Yn=Zi().ArraySet,Q_=Fl().MappingList;function Be(e){e||(e={}),this._file=ue.getArg(e,"file",null),this._sourceRoot=ue.getArg(e,"sourceRoot",null),this._skipValidation=ue.getArg(e,"skipValidation",!1),this._sources=new Yn,this._names=new Yn,this._mappings=new Q_,this._sourcesContents=null}n(Be,"SourceMapGenerator");Be.prototype._version=3;Be.fromSourceMap=n(function(t){var r=t.sourceRoot,o=new Be({file:t.file,sourceRoot:r});return t.eachMapping(function(a){var u={generated:{line:a.generatedLine,column:a.generatedColumn}};a.source!=null&&(u.source=a.source,r!=null&&(u.source=ue.relative(r,u.source)),u.original={line:a.originalLine,column:a.originalColumn},a.name!=null&&(u.name=a.name)),o.addMapping(u)}),t.sources.forEach(function(a){var u=a;r!==null&&(u=ue.relative(r,a)),o._sources.has(u)||o._sources.add(u);var i=t.sourceContentFor(a);i!=null&&o.setSourceContent(a,i)}),o},"SourceMapGenerator_fromSourceMap");Be.prototype.addMapping=n(function(t){var r=ue.getArg(t,"generated"),o=ue.getArg(t,"original",null),a=ue.getArg(t,"source",null),u=ue.getArg(t,"name",null);this._skipValidation||this._validateMapping(r,o,a,u),a!=null&&(a=String(a),this._sources.has(a)||this._sources.add(a)),u!=null&&(u=String(u),this._names.has(u)||this._names.add(u)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:o!=null&&o.line,originalColumn:o!=null&&o.column,source:a,name:u})},"SourceMapGenerator_addMapping");Be.prototype.setSourceContent=n(function(t,r){var o=t;this._sourceRoot!=null&&(o=ue.relative(this._sourceRoot,o)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[ue.toSetString(o)]=r):this._sourcesContents&&(delete this._sourcesContents[ue.toSetString(o)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent");Be.prototype.applySourceMap=n(function(t,r,o){var a=r;if(r==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);a=t.file}var u=this._sourceRoot;u!=null&&(a=ue.relative(u,a));var i=new Yn,s=new Yn;this._mappings.unsortedForEach(function(l){if(l.source===a&&l.originalLine!=null){var c=t.originalPositionFor({line:l.originalLine,column:l.originalColumn});c.source!=null&&(l.source=c.source,o!=null&&(l.source=ue.join(o,l.source)),u!=null&&(l.source=ue.relative(u,l.source)),l.originalLine=c.line,l.originalColumn=c.column,c.name!=null&&(l.name=c.name))}var d=l.source;d!=null&&!i.has(d)&&i.add(d);var m=l.name;m!=null&&!s.has(m)&&s.add(m)},this),this._sources=i,this._names=s,t.sources.forEach(function(l){var c=t.sourceContentFor(l);c!=null&&(o!=null&&(l=ue.join(o,l)),u!=null&&(l=ue.relative(u,l)),this.setSourceContent(l,c))},this)},"SourceMapGenerator_applySourceMap");Be.prototype._validateMapping=n(function(t,r,o,a){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!r&&!o&&!a)){if(t&&"line"in t&&"column"in t&&r&&"line"in r&&"column"in r&&t.line>0&&t.column>=0&&r.line>0&&r.column>=0&&o)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:o,original:r,name:a}))}},"SourceMapGenerator_validateMapping");Be.prototype._serializeMappings=n(function(){for(var t=0,r=1,o=0,a=0,u=0,i=0,s="",l,c,d,m,f=this._mappings.toArray(),_=0,b=f.length;_<b;_++){if(c=f[_],l="",c.generatedLine!==r)for(t=0;c.generatedLine!==r;)l+=";",r++;else if(_>0){if(!ue.compareByGeneratedPositionsInflated(c,f[_-1]))continue;l+=","}l+=Yr.encode(c.generatedColumn-t),t=c.generatedColumn,c.source!=null&&(m=this._sources.indexOf(c.source),l+=Yr.encode(m-i),i=m,l+=Yr.encode(c.originalLine-1-a),a=c.originalLine-1,l+=Yr.encode(c.originalColumn-o),o=c.originalColumn,c.name!=null&&(d=this._names.indexOf(c.name),l+=Yr.encode(d-u),u=d)),s+=l}return s},"SourceMapGenerator_serializeMappings");Be.prototype._generateSourcesContent=n(function(t,r){return t.map(function(o){if(!this._sourcesContents)return null;r!=null&&(o=ue.relative(r,o));var a=ue.toSetString(o);return Object.prototype.hasOwnProperty.call(this._sourcesContents,a)?this._sourcesContents[a]:null},this)},"SourceMapGenerator_generateSourcesContent");Be.prototype.toJSON=n(function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},"SourceMapGenerator_toJSON");Be.prototype.toString=n(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString");Cl.SourceMapGenerator=Be});var Ol=Y(Gt=>{Gt.GREATEST_LOWER_BOUND=1;Gt.LEAST_UPPER_BOUND=2;function Xi(e,t,r,o,a,u){var i=Math.floor((t-e)/2)+e,s=a(r,o[i],!0);return s===0?i:s>0?t-i>1?Xi(i,t,r,o,a,u):u==Gt.LEAST_UPPER_BOUND?t<o.length?t:-1:i:i-e>1?Xi(e,i,r,o,a,u):u==Gt.LEAST_UPPER_BOUND?i:e<0?-1:e}n(Xi,"recursiveSearch");Gt.search=n(function(t,r,o,a){if(r.length===0)return-1;var u=Xi(-1,r.length,t,r,o,a||Gt.GREATEST_LOWER_BOUND);if(u<0)return-1;for(;u-1>=0&&o(r[u],r[u-1],!0)===0;)--u;return u},"search")});var Rl=Y(Al=>{function Yi(e,t,r){var o=e[t];e[t]=e[r],e[r]=o}n(Yi,"swap");function eg(e,t){return Math.round(e+Math.random()*(t-e))}n(eg,"randomIntInRange");function Qi(e,t,r,o){if(r<o){var a=eg(r,o),u=r-1;Yi(e,a,o);for(var i=e[o],s=r;s<o;s++)t(e[s],i)<=0&&(u+=1,Yi(e,u,s));Yi(e,u+1,s);var l=u+1;Qi(e,t,r,l-1),Qi(e,t,l+1,o)}}n(Qi,"doQuickSort");Al.quickSort=function(e,t){Qi(e,t,0,e.length-1)}});var Bl=Y(Qn=>{var S=br(),es=Ol(),yr=Zi().ArraySet,tg=$i(),Qr=Rl().quickSort;function q(e,t){var r=e;return typeof e=="string"&&(r=S.parseSourceMapInput(e)),r.sections!=null?new Je(r,t):new pe(r,t)}n(q,"SourceMapConsumer");q.fromSourceMap=function(e,t){return pe.fromSourceMap(e,t)};q.prototype._version=3;q.prototype.__generatedMappings=null;Object.defineProperty(q.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:n(function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings},"get")});q.prototype.__originalMappings=null;Object.defineProperty(q.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:n(function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings},"get")});q.prototype._charIsMappingSeparator=n(function(t,r){var o=t.charAt(r);return o===";"||o===","},"SourceMapConsumer_charIsMappingSeparator");q.prototype._parseMappings=n(function(t,r){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings");q.GENERATED_ORDER=1;q.ORIGINAL_ORDER=2;q.GREATEST_LOWER_BOUND=1;q.LEAST_UPPER_BOUND=2;q.prototype.eachMapping=n(function(t,r,o){var a=r||null,u=o||q.GENERATED_ORDER,i;switch(u){case q.GENERATED_ORDER:i=this._generatedMappings;break;case q.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var s=this.sourceRoot;i.map(function(l){var c=l.source===null?null:this._sources.at(l.source);return c=S.computeSourceURL(s,c,this._sourceMapURL),{source:c,generatedLine:l.generatedLine,generatedColumn:l.generatedColumn,originalLine:l.originalLine,originalColumn:l.originalColumn,name:l.name===null?null:this._names.at(l.name)}},this).forEach(t,a)},"SourceMapConsumer_eachMapping");q.prototype.allGeneratedPositionsFor=n(function(t){var r=S.getArg(t,"line"),o={source:S.getArg(t,"source"),originalLine:r,originalColumn:S.getArg(t,"column",0)};if(o.source=this._findSourceIndex(o.source),o.source<0)return[];var a=[],u=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",S.compareByOriginalPositions,es.LEAST_UPPER_BOUND);if(u>=0){var i=this._originalMappings[u];if(t.column===void 0)for(var s=i.originalLine;i&&i.originalLine===s;)a.push({line:S.getArg(i,"generatedLine",null),column:S.getArg(i,"generatedColumn",null),lastColumn:S.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++u];else for(var l=i.originalColumn;i&&i.originalLine===r&&i.originalColumn==l;)a.push({line:S.getArg(i,"generatedLine",null),column:S.getArg(i,"generatedColumn",null),lastColumn:S.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++u]}return a},"SourceMapConsumer_allGeneratedPositionsFor");Qn.SourceMapConsumer=q;function pe(e,t){var r=e;typeof e=="string"&&(r=S.parseSourceMapInput(e));var o=S.getArg(r,"version"),a=S.getArg(r,"sources"),u=S.getArg(r,"names",[]),i=S.getArg(r,"sourceRoot",null),s=S.getArg(r,"sourcesContent",null),l=S.getArg(r,"mappings"),c=S.getArg(r,"file",null);if(o!=this._version)throw new Error("Unsupported version: "+o);i&&(i=S.normalize(i)),a=a.map(String).map(S.normalize).map(function(d){return i&&S.isAbsolute(i)&&S.isAbsolute(d)?S.relative(i,d):d}),this._names=yr.fromArray(u.map(String),!0),this._sources=yr.fromArray(a,!0),this._absoluteSources=this._sources.toArray().map(function(d){return S.computeSourceURL(i,d,t)}),this.sourceRoot=i,this.sourcesContent=s,this._mappings=l,this._sourceMapURL=t,this.file=c}n(pe,"BasicSourceMapConsumer");pe.prototype=Object.create(q.prototype);pe.prototype.consumer=q;pe.prototype._findSourceIndex=function(e){var t=e;if(this.sourceRoot!=null&&(t=S.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==e)return r;return-1};pe.fromSourceMap=n(function(t,r){var o=Object.create(pe.prototype),a=o._names=yr.fromArray(t._names.toArray(),!0),u=o._sources=yr.fromArray(t._sources.toArray(),!0);o.sourceRoot=t._sourceRoot,o.sourcesContent=t._generateSourcesContent(o._sources.toArray(),o.sourceRoot),o.file=t._file,o._sourceMapURL=r,o._absoluteSources=o._sources.toArray().map(function(_){return S.computeSourceURL(o.sourceRoot,_,r)});for(var i=t._mappings.toArray().slice(),s=o.__generatedMappings=[],l=o.__originalMappings=[],c=0,d=i.length;c<d;c++){var m=i[c],f=new Ul;f.generatedLine=m.generatedLine,f.generatedColumn=m.generatedColumn,m.source&&(f.source=u.indexOf(m.source),f.originalLine=m.originalLine,f.originalColumn=m.originalColumn,m.name&&(f.name=a.indexOf(m.name)),l.push(f)),s.push(f)}return Qr(o.__originalMappings,S.compareByOriginalPositions),o},"SourceMapConsumer_fromSourceMap");pe.prototype._version=3;Object.defineProperty(pe.prototype,"sources",{get:n(function(){return this._absoluteSources.slice()},"get")});function Ul(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}n(Ul,"Mapping");pe.prototype._parseMappings=n(function(t,r){for(var o=1,a=0,u=0,i=0,s=0,l=0,c=t.length,d=0,m={},f={},_=[],b=[],y,x,w,L,T;d<c;)if(t.charAt(d)===";")o++,d++,a=0;else if(t.charAt(d)===",")d++;else{for(y=new Ul,y.generatedLine=o,L=d;L<c&&!this._charIsMappingSeparator(t,L);L++);if(x=t.slice(d,L),w=m[x],w)d+=x.length;else{for(w=[];d<L;)tg.decode(t,d,f),T=f.value,d=f.rest,w.push(T);if(w.length===2)throw new Error("Found a source, but no line and column");if(w.length===3)throw new Error("Found a source and line, but no column");m[x]=w}y.generatedColumn=a+w[0],a=y.generatedColumn,w.length>1&&(y.source=s+w[1],s+=w[1],y.originalLine=u+w[2],u=y.originalLine,y.originalLine+=1,y.originalColumn=i+w[3],i=y.originalColumn,w.length>4&&(y.name=l+w[4],l+=w[4])),b.push(y),typeof y.originalLine=="number"&&_.push(y)}Qr(b,S.compareByGeneratedPositionsDeflated),this.__generatedMappings=b,Qr(_,S.compareByOriginalPositions),this.__originalMappings=_},"SourceMapConsumer_parseMappings");pe.prototype._findMapping=n(function(t,r,o,a,u,i){if(t[o]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[o]);if(t[a]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[a]);return es.search(t,r,u,i)},"SourceMapConsumer_findMapping");pe.prototype.computeColumnSpans=n(function(){for(var t=0;t<this._generatedMappings.length;++t){var r=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var o=this._generatedMappings[t+1];if(r.generatedLine===o.generatedLine){r.lastGeneratedColumn=o.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans");pe.prototype.originalPositionFor=n(function(t){var r={generatedLine:S.getArg(t,"line"),generatedColumn:S.getArg(t,"column")},o=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",S.compareByGeneratedPositionsDeflated,S.getArg(t,"bias",q.GREATEST_LOWER_BOUND));if(o>=0){var a=this._generatedMappings[o];if(a.generatedLine===r.generatedLine){var u=S.getArg(a,"source",null);u!==null&&(u=this._sources.at(u),u=S.computeSourceURL(this.sourceRoot,u,this._sourceMapURL));var i=S.getArg(a,"name",null);return i!==null&&(i=this._names.at(i)),{source:u,line:S.getArg(a,"originalLine",null),column:S.getArg(a,"originalColumn",null),name:i}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor");pe.prototype.hasContentsOfAllSources=n(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return t==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources");pe.prototype.sourceContentFor=n(function(t,r){if(!this.sourcesContent)return null;var o=this._findSourceIndex(t);if(o>=0)return this.sourcesContent[o];var a=t;this.sourceRoot!=null&&(a=S.relative(this.sourceRoot,a));var u;if(this.sourceRoot!=null&&(u=S.urlParse(this.sourceRoot))){var i=a.replace(/^file:\/\//,"");if(u.scheme=="file"&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!u.path||u.path=="/")&&this._sources.has("/"+a))return this.sourcesContent[this._sources.indexOf("/"+a)]}if(r)return null;throw new Error('"'+a+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor");pe.prototype.generatedPositionFor=n(function(t){var r=S.getArg(t,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var o={source:r,originalLine:S.getArg(t,"line"),originalColumn:S.getArg(t,"column")},a=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",S.compareByOriginalPositions,S.getArg(t,"bias",q.GREATEST_LOWER_BOUND));if(a>=0){var u=this._originalMappings[a];if(u.source===o.source)return{line:S.getArg(u,"generatedLine",null),column:S.getArg(u,"generatedColumn",null),lastColumn:S.getArg(u,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor");Qn.BasicSourceMapConsumer=pe;function Je(e,t){var r=e;typeof e=="string"&&(r=S.parseSourceMapInput(e));var o=S.getArg(r,"version"),a=S.getArg(r,"sections");if(o!=this._version)throw new Error("Unsupported version: "+o);this._sources=new yr,this._names=new yr;var u={line:-1,column:0};this._sections=a.map(function(i){if(i.url)throw new Error("Support for url field in sections not implemented.");var s=S.getArg(i,"offset"),l=S.getArg(s,"line"),c=S.getArg(s,"column");if(l<u.line||l===u.line&&c<u.column)throw new Error("Section offsets must be ordered and non-overlapping.");return u=s,{generatedOffset:{generatedLine:l+1,generatedColumn:c+1},consumer:new q(S.getArg(i,"map"),t)}})}n(Je,"IndexedSourceMapConsumer");Je.prototype=Object.create(q.prototype);Je.prototype.constructor=q;Je.prototype._version=3;Object.defineProperty(Je.prototype,"sources",{get:n(function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e},"get")});Je.prototype.originalPositionFor=n(function(t){var r={generatedLine:S.getArg(t,"line"),generatedColumn:S.getArg(t,"column")},o=es.search(r,this._sections,function(u,i){var s=u.generatedLine-i.generatedOffset.generatedLine;return s||u.generatedColumn-i.generatedOffset.generatedColumn}),a=this._sections[o];return a?a.consumer.originalPositionFor({line:r.generatedLine-(a.generatedOffset.generatedLine-1),column:r.generatedColumn-(a.generatedOffset.generatedLine===r.generatedLine?a.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor");Je.prototype.hasContentsOfAllSources=n(function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources");Je.prototype.sourceContentFor=n(function(t,r){for(var o=0;o<this._sections.length;o++){var a=this._sections[o],u=a.consumer.sourceContentFor(t,!0);if(u)return u}if(r)return null;throw new Error('"'+t+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor");Je.prototype.generatedPositionFor=n(function(t){for(var r=0;r<this._sections.length;r++){var o=this._sections[r];if(o.consumer._findSourceIndex(S.getArg(t,"source"))!==-1){var a=o.consumer.generatedPositionFor(t);if(a){var u={line:a.line+(o.generatedOffset.generatedLine-1),column:a.column+(o.generatedOffset.generatedLine===a.line?o.generatedOffset.generatedColumn-1:0)};return u}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor");Je.prototype._parseMappings=n(function(t,r){this.__generatedMappings=[],this.__originalMappings=[];for(var o=0;o<this._sections.length;o++)for(var a=this._sections[o],u=a.consumer._generatedMappings,i=0;i<u.length;i++){var s=u[i],l=a.consumer._sources.at(s.source);l=S.computeSourceURL(a.consumer.sourceRoot,l,this._sourceMapURL),this._sources.add(l),l=this._sources.indexOf(l);var c=null;s.name&&(c=a.consumer._names.at(s.name),this._names.add(c),c=this._names.indexOf(c));var d={source:l,generatedLine:s.generatedLine+(a.generatedOffset.generatedLine-1),generatedColumn:s.generatedColumn+(a.generatedOffset.generatedLine===s.generatedLine?a.generatedOffset.generatedColumn-1:0),originalLine:s.originalLine,originalColumn:s.originalColumn,name:c};this.__generatedMappings.push(d),typeof d.originalLine=="number"&&this.__originalMappings.push(d)}Qr(this.__generatedMappings,S.compareByGeneratedPositionsDeflated),Qr(this.__originalMappings,S.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings");Qn.IndexedSourceMapConsumer=Je});var jl=Y(Dl=>{var rg=Ji().SourceMapGenerator,eo=br(),ng=/(\r?\n)/,og=10,Ir="$$$isSourceNode$$$";function Ne(e,t,r,o,a){this.children=[],this.sourceContents={},this.line=e==null?null:e,this.column=t==null?null:t,this.source=r==null?null:r,this.name=a==null?null:a,this[Ir]=!0,o!=null&&this.add(o)}n(Ne,"SourceNode");Ne.fromStringWithSourceMap=n(function(t,r,o){var a=new Ne,u=t.split(ng),i=0,s=n(function(){var f=b(),_=b()||"";return f+_;function b(){return i<u.length?u[i++]:void 0}},"shiftNextLine"),l=1,c=0,d=null;return r.eachMapping(function(f){if(d!==null)if(l<f.generatedLine)m(d,s()),l++,c=0;else{var _=u[i]||"",b=_.substr(0,f.generatedColumn-c);u[i]=_.substr(f.generatedColumn-c),c=f.generatedColumn,m(d,b),d=f;return}for(;l<f.generatedLine;)a.add(s()),l++;if(c<f.generatedColumn){var _=u[i]||"";a.add(_.substr(0,f.generatedColumn)),u[i]=_.substr(f.generatedColumn),c=f.generatedColumn}d=f},this),i<u.length&&(d&&m(d,s()),a.add(u.splice(i).join(""))),r.sources.forEach(function(f){var _=r.sourceContentFor(f);_!=null&&(o!=null&&(f=eo.join(o,f)),a.setSourceContent(f,_))}),a;function m(f,_){if(f===null||f.source===void 0)a.add(_);else{var b=o?eo.join(o,f.source):f.source;a.add(new Ne(f.originalLine,f.originalColumn,b,_,f.name))}}n(m,"addMappingWithCode")},"SourceNode_fromStringWithSourceMap");Ne.prototype.add=n(function(t){if(Array.isArray(t))t.forEach(function(r){this.add(r)},this);else if(t[Ir]||typeof t=="string")t&&this.children.push(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_add");Ne.prototype.prepend=n(function(t){if(Array.isArray(t))for(var r=t.length-1;r>=0;r--)this.prepend(t[r]);else if(t[Ir]||typeof t=="string")this.children.unshift(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_prepend");Ne.prototype.walk=n(function(t){for(var r,o=0,a=this.children.length;o<a;o++)r=this.children[o],r[Ir]?r.walk(t):r!==""&&t(r,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk");Ne.prototype.join=n(function(t){var r,o,a=this.children.length;if(a>0){for(r=[],o=0;o<a-1;o++)r.push(this.children[o]),r.push(t);r.push(this.children[o]),this.children=r}return this},"SourceNode_join");Ne.prototype.replaceRight=n(function(t,r){var o=this.children[this.children.length-1];return o[Ir]?o.replaceRight(t,r):typeof o=="string"?this.children[this.children.length-1]=o.replace(t,r):this.children.push("".replace(t,r)),this},"SourceNode_replaceRight");Ne.prototype.setSourceContent=n(function(t,r){this.sourceContents[eo.toSetString(t)]=r},"SourceNode_setSourceContent");Ne.prototype.walkSourceContents=n(function(t){for(var r=0,o=this.children.length;r<o;r++)this.children[r][Ir]&&this.children[r].walkSourceContents(t);for(var a=Object.keys(this.sourceContents),r=0,o=a.length;r<o;r++)t(eo.fromSetString(a[r]),this.sourceContents[a[r]])},"SourceNode_walkSourceContents");Ne.prototype.toString=n(function(){var t="";return this.walk(function(r){t+=r}),t},"SourceNode_toString");Ne.prototype.toStringWithSourceMap=n(function(t){var r={code:"",line:1,column:0},o=new rg(t),a=!1,u=null,i=null,s=null,l=null;return this.walk(function(c,d){r.code+=c,d.source!==null&&d.line!==null&&d.column!==null?((u!==d.source||i!==d.line||s!==d.column||l!==d.name)&&o.addMapping({source:d.source,original:{line:d.line,column:d.column},generated:{line:r.line,column:r.column},name:d.name}),u=d.source,i=d.line,s=d.column,l=d.name,a=!0):a&&(o.addMapping({generated:{line:r.line,column:r.column}}),u=null,a=!1);for(var m=0,f=c.length;m<f;m++)c.charCodeAt(m)===og?(r.line++,r.column=0,m+1===f?(u=null,a=!1):a&&o.addMapping({source:d.source,original:{line:d.line,column:d.column},generated:{line:r.line,column:r.column},name:d.name})):r.column++}),this.walkSourceContents(function(c,d){o.setSourceContent(c,d)}),{code:r.code,map:o}},"SourceNode_toStringWithSourceMap");Dl.SourceNode=Ne});var Kl=Y(to=>{to.SourceMapGenerator=Ji().SourceMapGenerator;to.SourceMapConsumer=Bl().SourceMapConsumer;to.SourceNode=jl().SourceNode});var Vl=Y((JC,Gl)=>{var ig=Object.prototype.toString,ts=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function sg(e){return ig.call(e).slice(8,-1)==="ArrayBuffer"}n(sg,"isArrayBuffer");function ag(e,t,r){t>>>=0;var o=e.byteLength-t;if(o<0)throw new RangeError("'offset' is out of bounds");if(r===void 0)r=o;else if(r>>>=0,r>o)throw new RangeError("'length' is out of bounds");return ts?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}n(ag,"fromArrayBuffer");function ug(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return ts?Buffer.from(e,t):new Buffer(e,t)}n(ug,"fromString");function lg(e,t,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return sg(e)?ag(e,t,r):typeof e=="string"?ug(e,t):ts?Buffer.from(e):new Buffer(e)}n(lg,"bufferFrom");Gl.exports=lg});var Xl=Y((Wt,is)=>{var cg=Kl().SourceMapConsumer,rs=require("path"),ot;try{ot=require("fs"),(!ot.existsSync||!ot.readFileSync)&&(ot=null)}catch{}var dg=Vl();function Wl(e,t){return e.require(t)}n(Wl,"dynamicRequire");var $l=!1,zl=!1,ns=!1,en="auto",Vt={},tn={},mg=/^data:application\/json[^,]+base64,/,kt=[],Pt=[];function ss(){return en==="browser"?!0:en==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}n(ss,"isInBrowser");function pg(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}n(pg,"hasGlobalProcessEventEmitter");function fg(){return typeof process=="object"&&process!==null?process.version:""}n(fg,"globalProcessVersion");function _g(){if(typeof process=="object"&&process!==null)return process.stderr}n(_g,"globalProcessStderr");function gg(e){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(e)}n(gg,"globalProcessExit");function ro(e){return function(t){for(var r=0;r<e.length;r++){var o=e[r](t);if(o)return o}return null}}n(ro,"handlerExec");var as=ro(kt);kt.push(function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,function(o,a){return a?"":"/"})),e in Vt)return Vt[e];var t="";try{if(ot)ot.existsSync(e)&&(t=ot.readFileSync(e,"utf8"));else{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),r.readyState===4&&r.status===200&&(t=r.responseText)}}catch{}return Vt[e]=t});function os(e,t){if(!e)return t;var r=rs.dirname(e),o=/^\w+:\/\/[^\/]*/.exec(r),a=o?o[0]:"",u=r.slice(a.length);return a&&/^\/\w\:/.test(u)?(a+="/",a+rs.resolve(r.slice(a.length),t).replace(/\\/g,"/")):a+rs.resolve(r.slice(a.length),t)}n(os,"supportRelativeURL");function hg(e){var t;if(ss())try{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),t=r.readyState===4?r.responseText:null;var o=r.getResponseHeader("SourceMap")||r.getResponseHeader("X-SourceMap");if(o)return o}catch{}t=as(e);for(var a=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,u,i;i=a.exec(t);)u=i;return u?u[1]:null}n(hg,"retrieveSourceMapURL");var us=ro(Pt);Pt.push(function(e){var t=hg(e);if(!t)return null;var r;if(mg.test(t)){var o=t.slice(t.indexOf(",")+1);r=dg(o,"base64").toString(),t=e}else t=os(e,t),r=as(t);return r?{url:t,map:r}:null});function ls(e){var t=tn[e.source];if(!t){var r=us(e.source);r?(t=tn[e.source]={url:r.url,map:new cg(r.map)},t.map.sourcesContent&&t.map.sources.forEach(function(a,u){var i=t.map.sourcesContent[u];if(i){var s=os(t.url,a);Vt[s]=i}})):t=tn[e.source]={url:null,map:null}}if(t&&t.map&&typeof t.map.originalPositionFor=="function"){var o=t.map.originalPositionFor(e);if(o.source!==null)return o.source=os(t.url,o.source),o}return e}n(ls,"mapSourcePosition");function ql(e){var t=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(t){var r=ls({source:t[2],line:+t[3],column:t[4]-1});return"eval at "+t[1]+" ("+r.source+":"+r.line+":"+(r.column+1)+")"}return t=/^eval at ([^(]+) \((.+)\)$/.exec(e),t?"eval at "+t[1]+" ("+ql(t[2])+")":e}n(ql,"mapEvalOrigin");function bg(){var e,t="";if(this.isNative())t="native";else{e=this.getScriptNameOrSourceURL(),!e&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),e?t+=e:t+="<anonymous>";var r=this.getLineNumber();if(r!=null){t+=":"+r;var o=this.getColumnNumber();o&&(t+=":"+o)}}var a="",u=this.getFunctionName(),i=!0,s=this.isConstructor(),l=!(this.isToplevel()||s);if(l){var c=this.getTypeName();c==="[object Object]"&&(c="null");var d=this.getMethodName();u?(c&&u.indexOf(c)!=0&&(a+=c+"."),a+=u,d&&u.indexOf("."+d)!=u.length-d.length-1&&(a+=" [as "+d+"]")):a+=c+"."+(d||"<anonymous>")}else s?a+="new "+(u||"<anonymous>"):u?a+=u:(a+=t,i=!1);return i&&(a+=" ("+t+")"),a}n(bg,"CallSiteToString");function Hl(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(r){t[r]=/^(?:is|get)/.test(r)?function(){return e[r].call(e)}:e[r]}),t.toString=bg,t}n(Hl,"cloneCallSite");function Zl(e,t){if(t===void 0&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var r=e.getFileName()||e.getScriptNameOrSourceURL();if(r){var o=e.getLineNumber(),a=e.getColumnNumber()-1,u=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,i=u.test(fg())?0:62;o===1&&a>i&&!ss()&&!e.isEval()&&(a-=i);var s=ls({source:r,line:o,column:a});t.curPosition=s,e=Hl(e);var l=e.getFunctionName;return e.getFunctionName=function(){return t.nextPosition==null?l():t.nextPosition.name||l()},e.getFileName=function(){return s.source},e.getLineNumber=function(){return s.line},e.getColumnNumber=function(){return s.column+1},e.getScriptNameOrSourceURL=function(){return s.source},e}var c=e.isEval()&&e.getEvalOrigin();return c&&(c=ql(c),e=Hl(e),e.getEvalOrigin=function(){return c}),e}n(Zl,"wrapCallSite");function yg(e,t){ns&&(Vt={},tn={});for(var r=e.name||"Error",o=e.message||"",a=r+": "+o,u={nextPosition:null,curPosition:null},i=[],s=t.length-1;s>=0;s--)i.push(`
    at `+Zl(t[s],u)),u.nextPosition=u.curPosition;return u.curPosition=u.nextPosition=null,a+i.reverse().join("")}n(yg,"prepareStackTrace");function Jl(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var r=t[1],o=+t[2],a=+t[3],u=Vt[r];if(!u&&ot&&ot.existsSync(r))try{u=ot.readFileSync(r,"utf8")}catch{u=""}if(u){var i=u.split(/(?:\r\n|\r|\n)/)[o-1];if(i)return r+":"+o+`
`+i+`
`+new Array(a).join(" ")+"^"}}return null}n(Jl,"getErrorSource");function Ig(e){var t=Jl(e),r=_g();r&&r._handle&&r._handle.setBlocking&&r._handle.setBlocking(!0),t&&(console.error(),console.error(t)),console.error(e.stack),gg(1)}n(Ig,"printErrorAndExit");function wg(){var e=process.emit;process.emit=function(t){if(t==="uncaughtException"){var r=arguments[1]&&arguments[1].stack,o=this.listeners(t).length>0;if(r&&!o)return Ig(arguments[1])}return e.apply(this,arguments)}}n(wg,"shimEmitUncaughtException");var xg=kt.slice(0),Sg=Pt.slice(0);Wt.wrapCallSite=Zl;Wt.getErrorSource=Jl;Wt.mapSourcePosition=ls;Wt.retrieveSourceMap=us;Wt.install=function(e){if(e=e||{},e.environment&&(en=e.environment,["node","browser","auto"].indexOf(en)===-1))throw new Error("environment "+en+" was unknown. Available options are {auto, browser, node}");if(e.retrieveFile&&(e.overrideRetrieveFile&&(kt.length=0),kt.unshift(e.retrieveFile)),e.retrieveSourceMap&&(e.overrideRetrieveSourceMap&&(Pt.length=0),Pt.unshift(e.retrieveSourceMap)),e.hookRequire&&!ss()){var t=Wl(is,"module"),r=t.prototype._compile;r.__sourceMapSupport||(t.prototype._compile=function(u,i){return Vt[i]=u,tn[i]=void 0,r.call(this,u,i)},t.prototype._compile.__sourceMapSupport=!0)}if(ns||(ns="emptyCacheBetweenOperations"in e?e.emptyCacheBetweenOperations:!1),$l||($l=!0,Error.prepareStackTrace=yg),!zl){var o="handleUncaughtExceptions"in e?e.handleUncaughtExceptions:!0;try{var a=Wl(is,"worker_threads");a.isMainThread===!1&&(o=!1)}catch{}o&&pg()&&(zl=!0,wg())}};Wt.resetRetrieveHandlers=function(){kt.length=0,Pt.length=0,kt=xg.slice(0),Pt=Sg.slice(0),us=ro(Pt),as=ro(kt)}});var Yl=Y(()=>{Xl().install()});var Tg={};on(Tg,{WorkerProxy:()=>rn,reset:()=>Eg,sleep:()=>Ql,workerFns:()=>cs,workerProxy:()=>Vn});module.exports=ac(Tg);var ao=class ao extends Error{constructor(r,o){super(r);this.cause=o;this.code="CopilotPromptLoadFailure"}};n(ao,"CopilotPromptLoadFailure");var ft=ao;var Ht=sn(ks()),Ns=require("fs"),Fs=require("path");var Ps=new Map;function Mr(e="cl100k_base"){let t=Ps.get(e);return t!==void 0||(e==="mock"?t=new To:t=new Eo(e),Ps.set(e,t)),t}n(Mr,"getTokenizer");function Tc(e){if(!e.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let t=(0,Ns.readFileSync)(e,"utf-8"),r=new Map;for(let o of t.split(`
`)){if(!o)continue;let a=Buffer.from(o,"base64");r.set(a,r.size)}return r}n(Tc,"parseTikTokenNoIndex");var vo=class vo{constructor(t){try{this._tokenizer=(0,Ht.createTokenizer)(Tc((0,Fs.join)(__dirname,`./resources/${t}.tiktoken.noindex`)),(0,Ht.getSpecialTokensByEncoder)(t),(0,Ht.getRegexByEncoder)(t),32768)}catch(r){throw r instanceof Error?new ft("Could not load tokenizer",r):r}}tokenize(t){return this._tokenizer.encode(t)}detokenize(t){return this._tokenizer.decode(t)}tokenLength(t){return this.tokenize(t).length}tokenizeStrings(t){return this.tokenize(t).map(o=>this.detokenize([o]))}takeLastTokens(t,r){if(r<=0)return{text:"",tokens:[]};let o=4,a=1,u=Math.min(t.length,r*o),i=t.slice(-u),s=this.tokenize(i);for(;s.length<r+2&&u<t.length;)u=Math.min(t.length,u+r*a),i=t.slice(-u),s=this.tokenize(i);return s.length<r?{text:t,tokens:s}:(s=s.slice(-r),{text:this.detokenize(s),tokens:s})}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let o=4,a=1,u=Math.min(t.length,r*o),i=t.slice(0,u),s=this.tokenize(i);for(;s.length<r+2&&u<t.length;)u=Math.min(t.length,u+r*a),i=t.slice(0,u),s=this.tokenize(i);return s.length<r?{text:t,tokens:s}:(s=s.slice(0,r),{text:this.detokenize(s),tokens:s})}takeLastLinesTokens(t,r){let{text:o}=this.takeLastTokens(t,r);if(o.length===t.length||t[t.length-o.length-1]===`
`)return o;let a=o.indexOf(`
`);return o.substring(a+1)}};n(vo,"TTokenizer");var Eo=vo,Mo=class Mo{constructor(){this.hash=n(t=>{let r=0;for(let o=0;o<t.length;o++){let a=t.charCodeAt(o);r=(r<<5)-r+a,r&=r&65535}return r},"hash")}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){let o=this.tokenizeStrings(t).slice(-r);return{text:o.join(""),tokens:o.map(this.hash)}}takeFirstTokens(t,r){let o=this.tokenizeStrings(t).slice(0,r);return{text:o.join(""),tokens:o.map(this.hash)}}takeLastLinesTokens(t,r){let{text:o}=this.takeLastTokens(t,r);if(o.length===t.length||t[t.length-o.length-1]===`
`)return o;let a=o.indexOf(`
`);return o.substring(a+1)}};n(Mo,"MockTokenizer");var To=Mo;var Mc={tokenizerName:"cl100k_base"};function Lc(e){return{...Mc,...e}}n(Lc,"cursorContextOptions");function qt(e,t={}){let r=Lc(t),o=Mr(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let a=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(a=a.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(a=o.takeLastLinesTokens(a,r.maxTokenLength)),{context:a,lineCount:a.split(`
`).length,tokenLength:o.tokenLength(a),tokenizerName:r.tokenizerName}}n(qt,"getCursorContext");var Os={abap:{lineComment:{start:'"',end:""},markdownLanguageIds:["abap","sap-abap"]},aspdotnet:{lineComment:{start:"<%--",end:"--%>"}},bat:{lineComment:{start:"REM",end:""}},bibtex:{lineComment:{start:"%",end:""},markdownLanguageIds:["bibtex"]},blade:{lineComment:{start:"#",end:""}},BluespecSystemVerilog:{lineComment:{start:"//",end:""}},c:{lineComment:{start:"//",end:""},markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";",end:""},markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["coffeescript","coffee","cson","iced"]},cpp:{lineComment:{start:"//",end:""},markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"]},csharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["csharp","cs"]},css:{lineComment:{start:"/*",end:"*/"}},cuda:{lineComment:{start:"//",end:""}},dart:{lineComment:{start:"//",end:""}},dockerfile:{lineComment:{start:"#",end:""},markdownLanguageIds:["dockerfile","docker"]},dotenv:{lineComment:{start:"#",end:""}},elixir:{lineComment:{start:"#",end:""}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%",end:""},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"]},go:{lineComment:{start:"//",end:""},markdownLanguageIds:["go","golang"]},graphql:{lineComment:{start:"#",end:""}},groovy:{lineComment:{start:"//",end:""}},haml:{lineComment:{start:"-#",end:""}},handlebars:{lineComment:{start:"{{!",end:"}}"},markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"]},haskell:{lineComment:{start:"--",end:""},markdownLanguageIds:["haskell","hs"]},hlsl:{lineComment:{start:"//",end:""}},html:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["html","xhtml"]},ini:{lineComment:{start:";",end:""}},java:{lineComment:{start:"//",end:""},markdownLanguageIds:["java","jsp"]},javascript:{lineComment:{start:"//",end:""},markdownLanguageIds:["javascript","js"]},javascriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},jsonc:{lineComment:{start:"//",end:""}},jsx:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#",end:""},markdownLanguageIds:["julia","jl"]},kotlin:{lineComment:{start:"//",end:""},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%",end:""},markdownLanguageIds:["tex"]},legend:{lineComment:{start:"//",end:""}},less:{lineComment:{start:"//",end:""}},lua:{lineComment:{start:"--",end:""},markdownLanguageIds:["lua","pluto"]},makefile:{lineComment:{start:"#",end:""},markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"[]: #",end:""},markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec","mm","objc","obj-c"]},"objective-cpp":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#",end:""},markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//",end:""}},powershell:{lineComment:{start:"#",end:""},markdownLanguageIds:["powershell","ps","ps1"]},pug:{lineComment:{start:"//",end:""}},python:{lineComment:{start:"#",end:""},markdownLanguageIds:["python","py","gyp"]},ql:{lineComment:{start:"//",end:""}},r:{lineComment:{start:"#",end:""}},razor:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["cshtml","razor","razor-cshtml"]},ruby:{lineComment:{start:"#",end:""},markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"]},rust:{lineComment:{start:"//",end:""},markdownLanguageIds:["rust","rs"]},sass:{lineComment:{start:"//",end:""}},scala:{lineComment:{start:"//",end:""}},scss:{lineComment:{start:"//",end:""}},shellscript:{lineComment:{start:"#",end:""},markdownLanguageIds:["bash","sh","zsh"]},slang:{lineComment:{start:"//",end:""}},slim:{lineComment:{start:"/",end:""}},solidity:{lineComment:{start:"//",end:""},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--",end:""}},stylus:{lineComment:{start:"//",end:""}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//",end:""}},systemverilog:{lineComment:{start:"//",end:""}},terraform:{lineComment:{start:"#",end:""}},tex:{lineComment:{start:"%",end:""}},typescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["typescript","ts"]},typescriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["tsx"]},vb:{lineComment:{start:"'",end:""},markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//",end:""}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//",end:""}},xml:{lineComment:{start:"<!--",end:"-->"}},xsl:{lineComment:{start:"<!--",end:"-->"}},yaml:{lineComment:{start:"#",end:""},markdownLanguageIds:["yaml","yml"]}},Cs={};for(let[e,t]of Object.entries(Os))if(t.markdownLanguageIds)for(let r of t.markdownLanguageIds)Cs[r]=e;else Cs[e]=e;function Lo(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}n(Lo,"virtualNode");function ko(e){return{type:"top",indentation:-1,subs:e!=null?e:[]}}n(ko,"topNode");function ye(e){return e.type==="blank"}n(ye,"isBlank");function Zt(e){return e.type==="line"}n(Zt,"isLine");function Nt(e){return e.type==="virtual"}n(Nt,"isVirtual");function As(e,t){return Qe(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}n(As,"clearLabelsIf");function Qe(e,t,r){function o(a){r==="topDown"&&t(a),a.subs.forEach(u=>{o(u)}),r==="bottomUp"&&t(a)}n(o,"_visit"),o(e)}n(Qe,"visitTree");function pn(e,t,r){let o=n(u=>{if(r!==void 0&&r(u))return u;{let i=u.subs.map(o).filter(s=>s!==void 0);return u.subs=i,t(u)}},"rebuild"),a=o(e);return a!==void 0?a:ko()}n(pn,"rebuildTree");function fn(e,t){function r(o){if(Zt(o)){let a=t.find(u=>u.matches(o.sourceLine));a&&(o.label=a.label)}}n(r,"visitor"),Qe(e,r,"bottomUp")}n(fn,"labelLines");function _n(e){function t(r){if(Nt(r)&&r.label===void 0){let o=r.subs.filter(a=>!ye(a));o.length===1&&(r.label=o[0].label)}}n(t,"visitor"),Qe(e,t,"bottomUp")}n(_n,"labelVirtualInherited");function Lr(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=n(o=>e[t].test(o),"matches"):r=e[t],{matches:r,label:t}})}n(Lr,"buildLabelRules");function Rs(e){let r=pn(e,n(function(o){if(o.subs.length===0||o.subs.findIndex(i=>i.label==="closer"||i.label==="opener")===-1)return o;let a=[],u;for(let i=0;i<o.subs.length;i++){let s=o.subs[i],l=o.subs[i-1];if(s.label==="opener"&&l!==void 0&&Zt(l))l.subs.push(s),s.subs.forEach(c=>l.subs.push(c)),s.subs=[];else if(s.label==="closer"&&u!==void 0&&(Zt(s)||Nt(s))&&s.indentation>=u.indentation){let c=a.length-1;for(;c>0&&ye(a[c]);)c-=1;if(u.subs.push(...a.splice(c+1)),s.subs.length>0){let d=u.subs.findIndex(b=>b.label!=="newVirtual"),m=u.subs.slice(0,d),f=u.subs.slice(d),_=f.length>0?[Lo(s.indentation,f,"newVirtual")]:[];u.subs=[...m,..._,s]}else u.subs.push(s)}else a.push(s),ye(s)||(u=s)}return o.subs=a,o},"rebuilder"));return As(e,o=>o==="newVirtual"),r}n(Rs,"combineClosersAndOpeners");function Us(e,t=ye,r){return pn(e,n(function(a){if(a.subs.length<=1)return a;let u=[],i=[],s,l=!1;function c(d=!1){if(s!==void 0&&(u.length>0||!d)){let m=Lo(s,i,r);u.push(m)}else i.forEach(m=>u.push(m))}n(c,"flushBlockIntoNewSubs");for(let d=0;d<a.subs.length;d++){let m=a.subs[d],f=t(m);!f&&l&&(c(),i=[]),l=f,i.push(m),ye(m)||(s=s!=null?s:m.indentation)}return c(!0),a.subs=u,a},"rebuilder"))}n(Us,"groupBlocks");function Jt(e){return pn(e,n(function(r){return Nt(r)&&r.label===void 0&&r.subs.length<=1?r.subs.length===0?void 0:r.subs[0]:(r.subs.length===1&&Nt(r.subs[0])&&r.subs[0].label===void 0&&(r.subs=r.subs[0].subs),r)},"rebuilder"))}n(Jt,"flattenVirtual");var Pc={opener:/^[[({]/,closer:/^[\])}]/},gh=Lr(Pc),Nc={};function Po(e,t){Nc[e]=t}n(Po,"registerLanguageSpecificParser");var Fc={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[[({]/,closer:/^[\])}]/},Cc=Lr(Fc);function Bs(e){let t=e;return fn(t,Cc),t=Rs(t),t=Jt(t),_n(t),Qe(t,r=>{if(r.label==="class"||r.label==="interface")for(let o of r.subs)!ye(o)&&(o.label===void 0||o.label==="annotation")&&(o.label="member")},"bottomUp"),t}n(Bs,"processJava");var Oc={heading:/^# /,subheading:/^## /,subsubheading:/### /},Ac=Lr(Oc);function Ds(e){let t=e;if(fn(t,Ac),ye(t))return t;function r(u){if(u.label==="heading")return 1;if(u.label==="subheading")return 2;if(u.label==="subsubheading")return 3}n(r,"headingLevel");let o=[t],a=[...t.subs];t.subs=[];for(let u of a){let i=r(u);if(i===void 0||ye(u))o[o.length-1].subs.push(u);else{for(;o.length<i;)o.push(o[o.length-1]);for(o[i-1].subs.push(u),o[i]=u;o.length>i+1;)o.pop()}}return t=Us(t),t=Jt(t),_n(t),t}n(Ds,"processMarkdown");Po("markdown",Ds);Po("java",Bs);function De(){}n(De,"Diff");De.prototype={diff:n(function(t,r){var o,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=a.callback;typeof a=="function"&&(u=a,a={});var i=this;function s(M){return M=i.postProcess(M,a),u?(setTimeout(function(){u(M)},0),!0):M}n(s,"done"),t=this.castInput(t,a),r=this.castInput(r,a),t=this.removeEmpty(this.tokenize(t,a)),r=this.removeEmpty(this.tokenize(r,a));var l=r.length,c=t.length,d=1,m=l+c;a.maxEditLength!=null&&(m=Math.min(m,a.maxEditLength));var f=(o=a.timeout)!==null&&o!==void 0?o:1/0,_=Date.now()+f,b=[{oldPos:-1,lastComponent:void 0}],y=this.extractCommon(b[0],r,t,0,a);if(b[0].oldPos+1>=c&&y+1>=l)return s(Gs(i,b[0].lastComponent,r,t,i.useLongestToken));var x=-1/0,w=1/0;function L(){for(var M=Math.max(x,-d);M<=Math.min(w,d);M+=2){var v=void 0,A=b[M-1],B=b[M+1];A&&(b[M-1]=void 0);var E=!1;if(B){var re=B.oldPos-M;E=B&&0<=re&&re<l}var wr=A&&A.oldPos+1<c;if(!E&&!wr){b[M]=void 0;continue}if(!wr||E&&A.oldPos<B.oldPos?v=i.addToPath(B,!0,!1,0,a):v=i.addToPath(A,!1,!0,1,a),y=i.extractCommon(v,r,t,M,a),v.oldPos+1>=c&&y+1>=l)return s(Gs(i,v.lastComponent,r,t,i.useLongestToken));b[M]=v,v.oldPos+1>=c&&(w=Math.min(w,M-1)),y+1>=l&&(x=Math.max(x,M+1))}d++}if(n(L,"execEditLength"),u)n(function M(){setTimeout(function(){if(d>m||Date.now()>_)return u();L()||M()},0)},"exec")();else for(;d<=m&&Date.now()<=_;){var T=L();if(T)return T}},"diff"),addToPath:n(function(t,r,o,a,u){var i=t.lastComponent;return i&&!u.oneChangePerToken&&i.added===r&&i.removed===o?{oldPos:t.oldPos+a,lastComponent:{count:i.count+1,added:r,removed:o,previousComponent:i.previousComponent}}:{oldPos:t.oldPos+a,lastComponent:{count:1,added:r,removed:o,previousComponent:i}}},"addToPath"),extractCommon:n(function(t,r,o,a,u){for(var i=r.length,s=o.length,l=t.oldPos,c=l-a,d=0;c+1<i&&l+1<s&&this.equals(o[l+1],r[c+1],u);)c++,l++,d++,u.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return d&&!u.oneChangePerToken&&(t.lastComponent={count:d,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=l,c},"extractCommon"),equals:n(function(t,r,o){return o.comparator?o.comparator(t,r):t===r||o.ignoreCase&&t.toLowerCase()===r.toLowerCase()},"equals"),removeEmpty:n(function(t){for(var r=[],o=0;o<t.length;o++)t[o]&&r.push(t[o]);return r},"removeEmpty"),castInput:n(function(t){return t},"castInput"),tokenize:n(function(t){return Array.from(t)},"tokenize"),join:n(function(t){return t.join("")},"join"),postProcess:n(function(t){return t},"postProcess")};function Gs(e,t,r,o,a){for(var u=[],i;t;)u.push(t),i=t.previousComponent,delete t.previousComponent,t=i;u.reverse();for(var s=0,l=u.length,c=0,d=0;s<l;s++){var m=u[s];if(m.removed)m.value=e.join(o.slice(d,d+m.count)),d+=m.count;else{if(!m.added&&a){var f=r.slice(c,c+m.count);f=f.map(function(_,b){var y=o[d+b];return y.length>_.length?y:_}),m.value=e.join(f)}else m.value=e.join(r.slice(c,c+m.count));c+=m.count,m.added||(d+=m.count)}}return u}n(Gs,"buildValues");var hb=new De;function Vs(e,t){var r;for(r=0;r<e.length&&r<t.length;r++)if(e[r]!=t[r])return e.slice(0,r);return e.slice(0,r)}n(Vs,"longestCommonPrefix");function Ws(e,t){var r;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(r=0;r<e.length&&r<t.length;r++)if(e[e.length-(r+1)]!=t[t.length-(r+1)])return e.slice(-r);return e.slice(-r)}n(Ws,"longestCommonSuffix");function No(e,t,r){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return r+e.slice(t.length)}n(No,"replacePrefix");function Fo(e,t,r){if(!t)return e+r;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+r}n(Fo,"replaceSuffix");function kr(e,t){return No(e,t,"")}n(kr,"removePrefix");function gn(e,t){return Fo(e,t,"")}n(gn,"removeSuffix");function $s(e,t){return t.slice(0,Bc(e,t))}n($s,"maximumOverlap");function Bc(e,t){var r=0;e.length>t.length&&(r=e.length-t.length);var o=t.length;e.length<t.length&&(o=e.length);var a=Array(o),u=0;a[0]=0;for(var i=1;i<o;i++){for(t[i]==t[u]?a[i]=a[u]:a[i]=u;u>0&&t[i]!=t[u];)u=a[u];t[i]==t[u]&&u++}u=0;for(var s=r;s<e.length;s++){for(;u>0&&e[s]!=t[u];)u=a[u];e[s]==t[u]&&u++}return u}n(Bc,"overlapCount");var hn="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",Dc=new RegExp("[".concat(hn,"]+|\\s+|[^").concat(hn,"]"),"ug"),bn=new De;bn.equals=function(e,t,r){return r.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()};bn.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');r=Array.from(t.intlSegmenter.segment(e),function(u){return u.segment})}else r=e.match(Dc)||[];var o=[],a=null;return r.forEach(function(u){/\s/.test(u)?a==null?o.push(u):o.push(o.pop()+u):/\s/.test(a)?o[o.length-1]==a?o.push(o.pop()+u):o.push(a+u):o.push(u),a=u}),o};bn.join=function(e){return e.map(function(t,r){return r==0?t:t.replace(/^\s+/,"")}).join("")};bn.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var r=null,o=null,a=null;return e.forEach(function(u){u.added?o=u:u.removed?a=u:((o||a)&&zs(r,a,o,u),r=u,o=null,a=null)}),(o||a)&&zs(r,a,o,null),e};function zs(e,t,r,o){if(t&&r){var a=t.value.match(/^\s*/)[0],u=t.value.match(/\s*$/)[0],i=r.value.match(/^\s*/)[0],s=r.value.match(/\s*$/)[0];if(e){var l=Vs(a,i);e.value=Fo(e.value,i,l),t.value=kr(t.value,l),r.value=kr(r.value,l)}if(o){var c=Ws(u,s);o.value=No(o.value,s,c),t.value=gn(t.value,c),r.value=gn(r.value,c)}}else if(r)e&&(r.value=r.value.replace(/^\s*/,"")),o&&(o.value=o.value.replace(/^\s*/,""));else if(e&&o){var d=o.value.match(/^\s*/)[0],m=t.value.match(/^\s*/)[0],f=t.value.match(/\s*$/)[0],_=Vs(d,m);t.value=kr(t.value,_);var b=Ws(kr(d,_),f);t.value=gn(t.value,b),o.value=No(o.value,d,b),e.value=Fo(e.value,d,d.slice(0,d.length-b.length))}else if(o){var y=o.value.match(/^\s*/)[0],x=t.value.match(/\s*$/)[0],w=$s(x,y);t.value=gn(t.value,w)}else if(e){var L=e.value.match(/\s*$/)[0],T=t.value.match(/^\s*/)[0],M=$s(L,T);t.value=kr(t.value,M)}}n(zs,"dedupeWhitespaceInChangeObjects");var jc=new De;jc.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(hn,"]+|[^\\S\\n\\r]+|[^").concat(hn,"]"),"ug");return e.match(t)||[]};var Ro=new De;Ro.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var r=[],o=e.split(/(\n|\r\n)/);o[o.length-1]||o.pop();for(var a=0;a<o.length;a++){var u=o[a];a%2&&!t.newlineIsToken?r[r.length-1]+=u:r.push(u)}return r};Ro.equals=function(e,t,r){return r.ignoreWhitespace?((!r.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!r.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):r.ignoreNewlineAtEof&&!r.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),De.prototype.equals.call(this,e,t,r)};var Kc=new De;Kc.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var Gc=new De;Gc.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function Co(e){"@babel/helpers - typeof";return Co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Co(e)}n(Co,"_typeof");var Pr=new De;Pr.useLongestToken=!0;Pr.tokenize=Ro.tokenize;Pr.castInput=function(e,t){var r=t.undefinedReplacement,o=t.stringifyReplacer,a=o===void 0?function(u,i){return typeof i>"u"?r:i}:o;return typeof e=="string"?e:JSON.stringify(Oo(e,null,null,a),a,"  ")};Pr.equals=function(e,t,r){return De.prototype.equals.call(Pr,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),r)};function Oo(e,t,r,o,a){t=t||[],r=r||[],o&&(e=o(a,e));var u;for(u=0;u<t.length;u+=1)if(t[u]===e)return r[u];var i;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),i=new Array(e.length),r.push(i),u=0;u<e.length;u+=1)i[u]=Oo(e[u],t,r,o,a);return t.pop(),r.pop(),i}if(e&&e.toJSON&&(e=e.toJSON()),Co(e)==="object"&&e!==null){t.push(e),i={},r.push(i);var s=[],l;for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&s.push(l);for(s.sort(),u=0;u<s.length;u+=1)l=s[u],i[l]=Oo(e[l],t,r,o,l);t.pop(),r.pop()}else i=e;return i}n(Oo,"canonicalize");var Ao=new De;Ao.tokenize=function(e){return e.slice()};Ao.join=Ao.removeEmpty=function(e){return e};var de={};on(de,{HasPropertyKey:()=>In,IsArray:()=>Q,IsAsyncIterator:()=>Bo,IsBigInt:()=>Fr,IsBoolean:()=>ut,IsDate:()=>Ft,IsFunction:()=>Do,IsIterator:()=>jo,IsNull:()=>Ko,IsNumber:()=>Ee,IsObject:()=>D,IsRegExp:()=>Cr,IsString:()=>V,IsSymbol:()=>Go,IsUint8Array:()=>lt,IsUndefined:()=>ee});function In(e,t){return t in e}n(In,"HasPropertyKey");function Bo(e){return D(e)&&!Q(e)&&!lt(e)&&Symbol.asyncIterator in e}n(Bo,"IsAsyncIterator");function Q(e){return Array.isArray(e)}n(Q,"IsArray");function Fr(e){return typeof e=="bigint"}n(Fr,"IsBigInt");function ut(e){return typeof e=="boolean"}n(ut,"IsBoolean");function Ft(e){return e instanceof globalThis.Date}n(Ft,"IsDate");function Do(e){return typeof e=="function"}n(Do,"IsFunction");function jo(e){return D(e)&&!Q(e)&&!lt(e)&&Symbol.iterator in e}n(jo,"IsIterator");function Ko(e){return e===null}n(Ko,"IsNull");function Ee(e){return typeof e=="number"}n(Ee,"IsNumber");function D(e){return typeof e=="object"&&e!==null}n(D,"IsObject");function Cr(e){return e instanceof globalThis.RegExp}n(Cr,"IsRegExp");function V(e){return typeof e=="string"}n(V,"IsString");function Go(e){return typeof e=="symbol"}n(Go,"IsSymbol");function lt(e){return e instanceof globalThis.Uint8Array}n(lt,"IsUint8Array");function ee(e){return e===void 0}n(ee,"IsUndefined");function zc(e){return e.map(t=>wn(t))}n(zc,"ArrayType");function Hc(e){return new Date(e.getTime())}n(Hc,"DateType");function qc(e){return new Uint8Array(e)}n(qc,"Uint8ArrayType");function Zc(e){return new RegExp(e.source,e.flags)}n(Zc,"RegExpType");function Jc(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=wn(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=wn(e[r]);return t}n(Jc,"ObjectType");function wn(e){return Q(e)?zc(e):Ft(e)?Hc(e):lt(e)?qc(e):Cr(e)?Zc(e):D(e)?Jc(e):e}n(wn,"Visit");function z(e){return wn(e)}n(z,"Clone");function Yt(e,t){return t===void 0?z(e):z({...t,...e})}n(Yt,"CloneType");function Hs(e){return e!==null&&typeof e=="object"}n(Hs,"IsObject");function qs(e){return globalThis.Array.isArray(e)&&!globalThis.ArrayBuffer.isView(e)}n(qs,"IsArray");function Zs(e){return e===void 0}n(Zs,"IsUndefined");function Js(e){return typeof e=="number"}n(Js,"IsNumber");var xn;(function(e){e.InstanceMode="default",e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(i,s){return e.ExactOptionalPropertyTypes?s in i:i[s]!==void 0}n(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(i){let s=Hs(i);return e.AllowArrayObject?s:s&&!qs(i)}n(r,"IsObjectLike"),e.IsObjectLike=r;function o(i){return r(i)&&!(i instanceof Date)&&!(i instanceof Uint8Array)}n(o,"IsRecordLike"),e.IsRecordLike=o;function a(i){return e.AllowNaN?Js(i):Number.isFinite(i)}n(a,"IsNumberLike"),e.IsNumberLike=a;function u(i){let s=Zs(i);return e.AllowNullVoid?s||i===null:s}n(u,"IsVoidLike"),e.IsVoidLike=u})(xn||(xn={}));function Xc(e){return globalThis.Object.freeze(e).map(t=>Or(t))}n(Xc,"ImmutableArray");function Yc(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=Or(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=Or(e[r]);return globalThis.Object.freeze(t)}n(Yc,"ImmutableObject");function Or(e){return Q(e)?Xc(e):Ft(e)?e:lt(e)?e:Cr(e)?e:D(e)?Yc(e):e}n(Or,"Immutable");function g(e,t){let r=t!==void 0?{...t,...e}:e;switch(xn.InstanceMode){case"freeze":return Or(r);case"clone":return z(r);default:return r}}n(g,"CreateType");var Vo=class Vo extends Error{constructor(t){super(t)}};n(Vo,"TypeBoxError");var le=Vo;var ie=Symbol.for("TypeBox.Transform"),je=Symbol.for("TypeBox.Readonly"),me=Symbol.for("TypeBox.Optional"),Fe=Symbol.for("TypeBox.Hint"),I=Symbol.for("TypeBox.Kind");function Qt(e){return D(e)&&e[je]==="Readonly"}n(Qt,"IsReadonly");function Ie(e){return D(e)&&e[me]==="Optional"}n(Ie,"IsOptional");function Wo(e){return P(e,"Any")}n(Wo,"IsAny");function $o(e){return P(e,"Argument")}n($o,"IsArgument");function Ke(e){return P(e,"Array")}n(Ke,"IsArray");function Ct(e){return P(e,"AsyncIterator")}n(Ct,"IsAsyncIterator");function Ot(e){return P(e,"BigInt")}n(Ot,"IsBigInt");function ct(e){return P(e,"Boolean")}n(ct,"IsBoolean");function Ge(e){return P(e,"Computed")}n(Ge,"IsComputed");function Ve(e){return P(e,"Constructor")}n(Ve,"IsConstructor");function Qc(e){return P(e,"Date")}n(Qc,"IsDate");function We(e){return P(e,"Function")}n(We,"IsFunction");function $e(e){return P(e,"Integer")}n($e,"IsInteger");function Z(e){return P(e,"Intersect")}n(Z,"IsIntersect");function At(e){return P(e,"Iterator")}n(At,"IsIterator");function P(e,t){return D(e)&&I in e&&e[I]===t}n(P,"IsKindOf");function Sn(e){return ut(e)||Ee(e)||V(e)}n(Sn,"IsLiteralValue");function Te(e){return P(e,"Literal")}n(Te,"IsLiteral");function ve(e){return P(e,"MappedKey")}n(ve,"IsMappedKey");function H(e){return P(e,"MappedResult")}n(H,"IsMappedResult");function gt(e){return P(e,"Never")}n(gt,"IsNever");function ed(e){return P(e,"Not")}n(ed,"IsNot");function Ar(e){return P(e,"Null")}n(Ar,"IsNull");function ze(e){return P(e,"Number")}n(ze,"IsNumber");function te(e){return P(e,"Object")}n(te,"IsObject");function Rt(e){return P(e,"Promise")}n(Rt,"IsPromise");function Ut(e){return P(e,"Record")}n(Ut,"IsRecord");function X(e){return P(e,"Ref")}n(X,"IsRef");function zo(e){return P(e,"RegExp")}n(zo,"IsRegExp");function dt(e){return P(e,"String")}n(dt,"IsString");function Rr(e){return P(e,"Symbol")}n(Rr,"IsSymbol");function Me(e){return P(e,"TemplateLiteral")}n(Me,"IsTemplateLiteral");function td(e){return P(e,"This")}n(td,"IsThis");function ht(e){return D(e)&&ie in e}n(ht,"IsTransform");function Le(e){return P(e,"Tuple")}n(Le,"IsTuple");function Ur(e){return P(e,"Undefined")}n(Ur,"IsUndefined");function N(e){return P(e,"Union")}n(N,"IsUnion");function rd(e){return P(e,"Uint8Array")}n(rd,"IsUint8Array");function nd(e){return P(e,"Unknown")}n(nd,"IsUnknown");function od(e){return P(e,"Unsafe")}n(od,"IsUnsafe");function id(e){return P(e,"Void")}n(id,"IsVoid");function sd(e){return D(e)&&I in e&&V(e[I])}n(sd,"IsKind");function ke(e){return Wo(e)||$o(e)||Ke(e)||ct(e)||Ot(e)||Ct(e)||Ge(e)||Ve(e)||Qc(e)||We(e)||$e(e)||Z(e)||At(e)||Te(e)||ve(e)||H(e)||gt(e)||ed(e)||Ar(e)||ze(e)||te(e)||Rt(e)||Ut(e)||X(e)||zo(e)||dt(e)||Rr(e)||Me(e)||td(e)||Le(e)||Ur(e)||N(e)||rd(e)||nd(e)||od(e)||id(e)||sd(e)}n(ke,"IsSchema");var p={};on(p,{IsAny:()=>ea,IsArgument:()=>ta,IsArray:()=>ra,IsAsyncIterator:()=>na,IsBigInt:()=>oa,IsBoolean:()=>ia,IsComputed:()=>sa,IsConstructor:()=>aa,IsDate:()=>ua,IsFunction:()=>la,IsImport:()=>md,IsInteger:()=>ca,IsIntersect:()=>da,IsIterator:()=>ma,IsKind:()=>Ba,IsKindOf:()=>k,IsLiteral:()=>Dr,IsLiteralBoolean:()=>pd,IsLiteralNumber:()=>fa,IsLiteralString:()=>pa,IsLiteralValue:()=>_a,IsMappedKey:()=>ga,IsMappedResult:()=>ha,IsNever:()=>ba,IsNot:()=>ya,IsNull:()=>Ia,IsNumber:()=>wa,IsObject:()=>xa,IsOptional:()=>dd,IsPromise:()=>Sa,IsProperties:()=>En,IsReadonly:()=>cd,IsRecord:()=>Ea,IsRecursive:()=>fd,IsRef:()=>Ta,IsRegExp:()=>va,IsSchema:()=>ce,IsString:()=>Ma,IsSymbol:()=>La,IsTemplateLiteral:()=>ka,IsThis:()=>Pa,IsTransform:()=>Na,IsTuple:()=>Fa,IsUint8Array:()=>Oa,IsUndefined:()=>Ca,IsUnion:()=>Jo,IsUnionLiteral:()=>_d,IsUnknown:()=>Aa,IsUnsafe:()=>Ra,IsVoid:()=>Ua,TypeGuardUnknownTypeError:()=>Ho});var Xo=class Xo extends le{};n(Xo,"TypeGuardUnknownTypeError");var Ho=Xo,ad=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function Xs(e){try{return new RegExp(e),!0}catch{return!1}}n(Xs,"IsPattern");function qo(e){if(!V(e))return!1;for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r>=7&&r<=13||r===27||r===127)return!1}return!0}n(qo,"IsControlCharacterFree");function Ys(e){return Zo(e)||ce(e)}n(Ys,"IsAdditionalProperties");function Br(e){return ee(e)||Fr(e)}n(Br,"IsOptionalBigInt");function W(e){return ee(e)||Ee(e)}n(W,"IsOptionalNumber");function Zo(e){return ee(e)||ut(e)}n(Zo,"IsOptionalBoolean");function j(e){return ee(e)||V(e)}n(j,"IsOptionalString");function ud(e){return ee(e)||V(e)&&qo(e)&&Xs(e)}n(ud,"IsOptionalPattern");function ld(e){return ee(e)||V(e)&&qo(e)}n(ld,"IsOptionalFormat");function Qs(e){return ee(e)||ce(e)}n(Qs,"IsOptionalSchema");function cd(e){return D(e)&&e[je]==="Readonly"}n(cd,"IsReadonly");function dd(e){return D(e)&&e[me]==="Optional"}n(dd,"IsOptional");function ea(e){return k(e,"Any")&&j(e.$id)}n(ea,"IsAny");function ta(e){return k(e,"Argument")&&Ee(e.index)}n(ta,"IsArgument");function ra(e){return k(e,"Array")&&e.type==="array"&&j(e.$id)&&ce(e.items)&&W(e.minItems)&&W(e.maxItems)&&Zo(e.uniqueItems)&&Qs(e.contains)&&W(e.minContains)&&W(e.maxContains)}n(ra,"IsArray");function na(e){return k(e,"AsyncIterator")&&e.type==="AsyncIterator"&&j(e.$id)&&ce(e.items)}n(na,"IsAsyncIterator");function oa(e){return k(e,"BigInt")&&e.type==="bigint"&&j(e.$id)&&Br(e.exclusiveMaximum)&&Br(e.exclusiveMinimum)&&Br(e.maximum)&&Br(e.minimum)&&Br(e.multipleOf)}n(oa,"IsBigInt");function ia(e){return k(e,"Boolean")&&e.type==="boolean"&&j(e.$id)}n(ia,"IsBoolean");function sa(e){return k(e,"Computed")&&V(e.target)&&Q(e.parameters)&&e.parameters.every(t=>ce(t))}n(sa,"IsComputed");function aa(e){return k(e,"Constructor")&&e.type==="Constructor"&&j(e.$id)&&Q(e.parameters)&&e.parameters.every(t=>ce(t))&&ce(e.returns)}n(aa,"IsConstructor");function ua(e){return k(e,"Date")&&e.type==="Date"&&j(e.$id)&&W(e.exclusiveMaximumTimestamp)&&W(e.exclusiveMinimumTimestamp)&&W(e.maximumTimestamp)&&W(e.minimumTimestamp)&&W(e.multipleOfTimestamp)}n(ua,"IsDate");function la(e){return k(e,"Function")&&e.type==="Function"&&j(e.$id)&&Q(e.parameters)&&e.parameters.every(t=>ce(t))&&ce(e.returns)}n(la,"IsFunction");function md(e){return k(e,"Import")&&In(e,"$defs")&&D(e.$defs)&&En(e.$defs)&&In(e,"$ref")&&V(e.$ref)&&e.$ref in e.$defs}n(md,"IsImport");function ca(e){return k(e,"Integer")&&e.type==="integer"&&j(e.$id)&&W(e.exclusiveMaximum)&&W(e.exclusiveMinimum)&&W(e.maximum)&&W(e.minimum)&&W(e.multipleOf)}n(ca,"IsInteger");function En(e){return D(e)&&Object.entries(e).every(([t,r])=>qo(t)&&ce(r))}n(En,"IsProperties");function da(e){return k(e,"Intersect")&&!(V(e.type)&&e.type!=="object")&&Q(e.allOf)&&e.allOf.every(t=>ce(t)&&!Na(t))&&j(e.type)&&(Zo(e.unevaluatedProperties)||Qs(e.unevaluatedProperties))&&j(e.$id)}n(da,"IsIntersect");function ma(e){return k(e,"Iterator")&&e.type==="Iterator"&&j(e.$id)&&ce(e.items)}n(ma,"IsIterator");function k(e,t){return D(e)&&I in e&&e[I]===t}n(k,"IsKindOf");function pa(e){return Dr(e)&&V(e.const)}n(pa,"IsLiteralString");function fa(e){return Dr(e)&&Ee(e.const)}n(fa,"IsLiteralNumber");function pd(e){return Dr(e)&&ut(e.const)}n(pd,"IsLiteralBoolean");function Dr(e){return k(e,"Literal")&&j(e.$id)&&_a(e.const)}n(Dr,"IsLiteral");function _a(e){return ut(e)||Ee(e)||V(e)}n(_a,"IsLiteralValue");function ga(e){return k(e,"MappedKey")&&Q(e.keys)&&e.keys.every(t=>Ee(t)||V(t))}n(ga,"IsMappedKey");function ha(e){return k(e,"MappedResult")&&En(e.properties)}n(ha,"IsMappedResult");function ba(e){return k(e,"Never")&&D(e.not)&&Object.getOwnPropertyNames(e.not).length===0}n(ba,"IsNever");function ya(e){return k(e,"Not")&&ce(e.not)}n(ya,"IsNot");function Ia(e){return k(e,"Null")&&e.type==="null"&&j(e.$id)}n(Ia,"IsNull");function wa(e){return k(e,"Number")&&e.type==="number"&&j(e.$id)&&W(e.exclusiveMaximum)&&W(e.exclusiveMinimum)&&W(e.maximum)&&W(e.minimum)&&W(e.multipleOf)}n(wa,"IsNumber");function xa(e){return k(e,"Object")&&e.type==="object"&&j(e.$id)&&En(e.properties)&&Ys(e.additionalProperties)&&W(e.minProperties)&&W(e.maxProperties)}n(xa,"IsObject");function Sa(e){return k(e,"Promise")&&e.type==="Promise"&&j(e.$id)&&ce(e.item)}n(Sa,"IsPromise");function Ea(e){return k(e,"Record")&&e.type==="object"&&j(e.$id)&&Ys(e.additionalProperties)&&D(e.patternProperties)&&(t=>{let r=Object.getOwnPropertyNames(t.patternProperties);return r.length===1&&Xs(r[0])&&D(t.patternProperties)&&ce(t.patternProperties[r[0]])})(e)}n(Ea,"IsRecord");function fd(e){return D(e)&&Fe in e&&e[Fe]==="Recursive"}n(fd,"IsRecursive");function Ta(e){return k(e,"Ref")&&j(e.$id)&&V(e.$ref)}n(Ta,"IsRef");function va(e){return k(e,"RegExp")&&j(e.$id)&&V(e.source)&&V(e.flags)&&W(e.maxLength)&&W(e.minLength)}n(va,"IsRegExp");function Ma(e){return k(e,"String")&&e.type==="string"&&j(e.$id)&&W(e.minLength)&&W(e.maxLength)&&ud(e.pattern)&&ld(e.format)}n(Ma,"IsString");function La(e){return k(e,"Symbol")&&e.type==="symbol"&&j(e.$id)}n(La,"IsSymbol");function ka(e){return k(e,"TemplateLiteral")&&e.type==="string"&&V(e.pattern)&&e.pattern[0]==="^"&&e.pattern[e.pattern.length-1]==="$"}n(ka,"IsTemplateLiteral");function Pa(e){return k(e,"This")&&j(e.$id)&&V(e.$ref)}n(Pa,"IsThis");function Na(e){return D(e)&&ie in e}n(Na,"IsTransform");function Fa(e){return k(e,"Tuple")&&e.type==="array"&&j(e.$id)&&Ee(e.minItems)&&Ee(e.maxItems)&&e.minItems===e.maxItems&&(ee(e.items)&&ee(e.additionalItems)&&e.minItems===0||Q(e.items)&&e.items.every(t=>ce(t)))}n(Fa,"IsTuple");function Ca(e){return k(e,"Undefined")&&e.type==="undefined"&&j(e.$id)}n(Ca,"IsUndefined");function _d(e){return Jo(e)&&e.anyOf.every(t=>pa(t)||fa(t))}n(_d,"IsUnionLiteral");function Jo(e){return k(e,"Union")&&j(e.$id)&&D(e)&&Q(e.anyOf)&&e.anyOf.every(t=>ce(t))}n(Jo,"IsUnion");function Oa(e){return k(e,"Uint8Array")&&e.type==="Uint8Array"&&j(e.$id)&&W(e.minByteLength)&&W(e.maxByteLength)}n(Oa,"IsUint8Array");function Aa(e){return k(e,"Unknown")&&j(e.$id)}n(Aa,"IsUnknown");function Ra(e){return k(e,"Unsafe")}n(Ra,"IsUnsafe");function Ua(e){return k(e,"Void")&&e.type==="void"&&j(e.$id)}n(Ua,"IsVoid");function Ba(e){return D(e)&&I in e&&V(e[I])&&!ad.includes(e[I])}n(Ba,"IsKind");function ce(e){return D(e)&&(ea(e)||ta(e)||ra(e)||ia(e)||oa(e)||na(e)||sa(e)||aa(e)||ua(e)||la(e)||ca(e)||da(e)||ma(e)||Dr(e)||ga(e)||ha(e)||ba(e)||ya(e)||Ia(e)||wa(e)||xa(e)||Sa(e)||Ea(e)||Ta(e)||va(e)||Ma(e)||La(e)||ka(e)||Pa(e)||Fa(e)||Ca(e)||Jo(e)||Oa(e)||Aa(e)||Ra(e)||Ua(e)||Ba(e))}n(ce,"IsSchema");var Yo="(true|false)",jr="(0|[1-9][0-9]*)",Qo="(.*)",gd="(?!.*)",Ty=`^${Yo}$`,yt=`^${jr}$`,It=`^${Qo}$`,Da=`^${gd}$`;function ja(e,t){return e.includes(t)}n(ja,"SetIncludes");function Ka(e){return[...new Set(e)]}n(Ka,"SetDistinct");function hd(e,t){return e.filter(r=>t.includes(r))}n(hd,"SetIntersect");function bd(e,t){return e.reduce((r,o)=>hd(r,o),t)}n(bd,"SetIntersectManyResolve");function Ga(e){return e.length===1?e[0]:e.length>1?bd(e.slice(1),e[0]):[]}n(Ga,"SetIntersectMany");function Va(e){let t=[];for(let r of e)t.push(...r);return t}n(Va,"SetUnionMany");function wt(e){return g({[I]:"Any"},e)}n(wt,"Any");function er(e,t){return g({[I]:"Array",type:"array",items:e},t)}n(er,"Array");function Wa(e){return g({[I]:"Argument",index:e})}n(Wa,"Argument");function tr(e,t){return g({[I]:"AsyncIterator",type:"AsyncIterator",items:e},t)}n(tr,"AsyncIterator");function $(e,t,r){return g({[I]:"Computed",target:e,parameters:t},r)}n($,"Computed");function yd(e,t){let{[t]:r,...o}=e;return o}n(yd,"DiscardKey");function J(e,t){return t.reduce((r,o)=>yd(r,o),e)}n(J,"Discard");function F(e){return g({[I]:"Never",not:{}},e)}n(F,"Never");function O(e){return g({[I]:"MappedResult",properties:e})}n(O,"MappedResult");function rr(e,t,r){return g({[I]:"Constructor",type:"Constructor",parameters:e,returns:t},r)}n(rr,"Constructor");function et(e,t,r){return g({[I]:"Function",type:"Function",parameters:e,returns:t},r)}n(et,"Function");function Kr(e,t){return g({[I]:"Union",anyOf:e},t)}n(Kr,"UnionCreate");function Id(e){return e.some(t=>Ie(t))}n(Id,"IsUnionOptional");function $a(e){return e.map(t=>Ie(t)?wd(t):t)}n($a,"RemoveOptionalFromRest");function wd(e){return J(e,[me])}n(wd,"RemoveOptionalFromType");function xd(e,t){return Id(e)?fe(Kr($a(e),t)):Kr($a(e),t)}n(xd,"ResolveUnion");function tt(e,t){return e.length===1?g(e[0],t):e.length===0?F(t):xd(e,t)}n(tt,"UnionEvaluated");function U(e,t){return e.length===0?F(t):e.length===1?g(e[0],t):Kr(e,t)}n(U,"Union");var ti=class ti extends le{};n(ti,"TemplateLiteralParserError");var Tn=ti;function Sd(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}n(Sd,"Unescape");function ei(e,t,r){return e[t]===r&&e.charCodeAt(t-1)!==92}n(ei,"IsNonEscaped");function mt(e,t){return ei(e,t,"(")}n(mt,"IsOpenParen");function Gr(e,t){return ei(e,t,")")}n(Gr,"IsCloseParen");function za(e,t){return ei(e,t,"|")}n(za,"IsSeparator");function Ed(e){if(!(mt(e,0)&&Gr(e,e.length-1)))return!1;let t=0;for(let r=0;r<e.length;r++)if(mt(e,r)&&(t+=1),Gr(e,r)&&(t-=1),t===0&&r!==e.length-1)return!1;return!0}n(Ed,"IsGroup");function Td(e){return e.slice(1,e.length-1)}n(Td,"InGroup");function vd(e){let t=0;for(let r=0;r<e.length;r++)if(mt(e,r)&&(t+=1),Gr(e,r)&&(t-=1),za(e,r)&&t===0)return!0;return!1}n(vd,"IsPrecedenceOr");function Md(e){for(let t=0;t<e.length;t++)if(mt(e,t))return!0;return!1}n(Md,"IsPrecedenceAnd");function Ld(e){let[t,r]=[0,0],o=[];for(let u=0;u<e.length;u++)if(mt(e,u)&&(t+=1),Gr(e,u)&&(t-=1),za(e,u)&&t===0){let i=e.slice(r,u);i.length>0&&o.push(nr(i)),r=u+1}let a=e.slice(r);return a.length>0&&o.push(nr(a)),o.length===0?{type:"const",const:""}:o.length===1?o[0]:{type:"or",expr:o}}n(Ld,"Or");function kd(e){function t(a,u){if(!mt(a,u))throw new Tn("TemplateLiteralParser: Index must point to open parens");let i=0;for(let s=u;s<a.length;s++)if(mt(a,s)&&(i+=1),Gr(a,s)&&(i-=1),i===0)return[u,s];throw new Tn("TemplateLiteralParser: Unclosed group parens in expression")}n(t,"Group");function r(a,u){for(let i=u;i<a.length;i++)if(mt(a,i))return[u,i];return[u,a.length]}n(r,"Range");let o=[];for(let a=0;a<e.length;a++)if(mt(e,a)){let[u,i]=t(e,a),s=e.slice(u,i+1);o.push(nr(s)),a=i}else{let[u,i]=r(e,a),s=e.slice(u,i);s.length>0&&o.push(nr(s)),a=i-1}return o.length===0?{type:"const",const:""}:o.length===1?o[0]:{type:"and",expr:o}}n(kd,"And");function nr(e){return Ed(e)?nr(Td(e)):vd(e)?Ld(e):Md(e)?kd(e):{type:"const",const:Sd(e)}}n(nr,"TemplateLiteralParse");function or(e){return nr(e.slice(1,e.length-1))}n(or,"TemplateLiteralParseExact");var ni=class ni extends le{};n(ni,"TemplateLiteralFiniteError");var ri=ni;function Pd(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="0"&&e.expr[1].type==="const"&&e.expr[1].const==="[1-9][0-9]*"}n(Pd,"IsNumberExpression");function Nd(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="true"&&e.expr[1].type==="const"&&e.expr[1].const==="false"}n(Nd,"IsBooleanExpression");function Fd(e){return e.type==="const"&&e.const===".*"}n(Fd,"IsStringExpression");function Bt(e){return Pd(e)||Fd(e)?!1:Nd(e)?!0:e.type==="and"?e.expr.every(t=>Bt(t)):e.type==="or"?e.expr.every(t=>Bt(t)):e.type==="const"?!0:(()=>{throw new ri("Unknown expression type")})()}n(Bt,"IsTemplateLiteralExpressionFinite");function Ha(e){let t=or(e.pattern);return Bt(t)}n(Ha,"IsTemplateLiteralFinite");var ii=class ii extends le{};n(ii,"TemplateLiteralGenerateError");var oi=ii;function*qa(e){if(e.length===1)return yield*e[0];for(let t of e[0])for(let r of qa(e.slice(1)))yield`${t}${r}`}n(qa,"GenerateReduce");function*Cd(e){return yield*qa(e.expr.map(t=>[...Vr(t)]))}n(Cd,"GenerateAnd");function*Od(e){for(let t of e.expr)yield*Vr(t)}n(Od,"GenerateOr");function*Ad(e){return yield e.const}n(Ad,"GenerateConst");function*Vr(e){return e.type==="and"?yield*Cd(e):e.type==="or"?yield*Od(e):e.type==="const"?yield*Ad(e):(()=>{throw new oi("Unknown expression")})()}n(Vr,"TemplateLiteralExpressionGenerate");function vn(e){let t=or(e.pattern);return Bt(t)?[...Vr(t)]:[]}n(vn,"TemplateLiteralGenerate");function R(e,t){return g({[I]:"Literal",const:e,type:typeof e},t)}n(R,"Literal");function Mn(e){return g({[I]:"Boolean",type:"boolean"},e)}n(Mn,"Boolean");function ir(e){return g({[I]:"BigInt",type:"bigint"},e)}n(ir,"BigInt");function Ce(e){return g({[I]:"Number",type:"number"},e)}n(Ce,"Number");function He(e){return g({[I]:"String",type:"string"},e)}n(He,"String");function*Rd(e){let t=e.trim().replace(/"|'/g,"");return t==="boolean"?yield Mn():t==="number"?yield Ce():t==="bigint"?yield ir():t==="string"?yield He():yield(()=>{let r=t.split("|").map(o=>R(o.trim()));return r.length===0?F():r.length===1?r[0]:tt(r)})()}n(Rd,"FromUnion");function*Ud(e){if(e[1]!=="{"){let t=R("$"),r=si(e.slice(1));return yield*[t,...r]}for(let t=2;t<e.length;t++)if(e[t]==="}"){let r=Rd(e.slice(2,t)),o=si(e.slice(t+1));return yield*[...r,...o]}yield R(e)}n(Ud,"FromTerminal");function*si(e){for(let t=0;t<e.length;t++)if(e[t]==="$"){let r=R(e.slice(0,t)),o=Ud(e.slice(t));return yield*[r,...o]}yield R(e)}n(si,"FromSyntax");function Za(e){return[...si(e)]}n(Za,"TemplateLiteralSyntax");var li=class li extends le{};n(li,"TemplateLiteralPatternError");var ai=li;function Bd(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}n(Bd,"Escape");function Ja(e,t){return Me(e)?e.pattern.slice(1,e.pattern.length-1):N(e)?`(${e.anyOf.map(r=>Ja(r,t)).join("|")})`:ze(e)?`${t}${jr}`:$e(e)?`${t}${jr}`:Ot(e)?`${t}${jr}`:dt(e)?`${t}${Qo}`:Te(e)?`${t}${Bd(e.const.toString())}`:ct(e)?`${t}${Yo}`:(()=>{throw new ai(`Unexpected Kind '${e[I]}'`)})()}n(Ja,"Visit");function ui(e){return`^${e.map(t=>Ja(t,"")).join("")}$`}n(ui,"TemplateLiteralPattern");function Dt(e){let r=vn(e).map(o=>R(o));return tt(r)}n(Dt,"TemplateLiteralToUnion");function Ln(e,t){let r=V(e)?ui(Za(e)):ui(e);return g({[I]:"TemplateLiteral",type:"string",pattern:r},t)}n(Ln,"TemplateLiteral");function Dd(e){return vn(e).map(r=>r.toString())}n(Dd,"FromTemplateLiteral");function jd(e){let t=[];for(let r of e)t.push(...we(r));return t}n(jd,"FromUnion");function Kd(e){return[e.toString()]}n(Kd,"FromLiteral");function we(e){return[...new Set(Me(e)?Dd(e):N(e)?jd(e.anyOf):Te(e)?Kd(e.const):ze(e)?["[number]"]:$e(e)?["[number]"]:[])]}n(we,"IndexPropertyKeys");function Gd(e,t,r){let o={};for(let a of Object.getOwnPropertyNames(t))o[a]=xt(e,we(t[a]),r);return o}n(Gd,"FromProperties");function Vd(e,t,r){return Gd(e,t.properties,r)}n(Vd,"FromMappedResult");function Xa(e,t,r){let o=Vd(e,t,r);return O(o)}n(Xa,"IndexFromMappedResult");function Qa(e,t){return e.map(r=>eu(r,t))}n(Qa,"FromRest");function Wd(e){return e.filter(t=>!gt(t))}n(Wd,"FromIntersectRest");function $d(e,t){return kn(Wd(Qa(e,t)))}n($d,"FromIntersect");function zd(e){return e.some(t=>gt(t))?[]:e}n(zd,"FromUnionRest");function Hd(e,t){return tt(zd(Qa(e,t)))}n(Hd,"FromUnion");function qd(e,t){return t in e?e[t]:t==="[number]"?tt(e):F()}n(qd,"FromTuple");function Zd(e,t){return t==="[number]"?e:F()}n(Zd,"FromArray");function Jd(e,t){return t in e?e[t]:F()}n(Jd,"FromProperty");function eu(e,t){var r;return Z(e)?$d(e.allOf,t):N(e)?Hd(e.anyOf,t):Le(e)?qd((r=e.items)!=null?r:[],t):Ke(e)?Zd(e.items,t):te(e)?Jd(e.properties,t):F()}n(eu,"IndexFromPropertyKey");function ci(e,t){return t.map(r=>eu(e,r))}n(ci,"IndexFromPropertyKeys");function Ya(e,t){return tt(ci(e,t))}n(Ya,"FromSchema");function xt(e,t,r){if(X(e)||X(t)){let o="Index types using Ref parameters require both Type and Key to be of TSchema";if(!ke(e)||!ke(t))throw new le(o);return $("Index",[e,t])}return H(t)?Xa(e,t,r):ve(t)?tu(e,t,r):g(ke(t)?Ya(e,we(t)):Ya(e,t),r)}n(xt,"Index");function Xd(e,t,r){return{[t]:xt(e,[t],z(r))}}n(Xd,"MappedIndexPropertyKey");function Yd(e,t,r){return t.reduce((o,a)=>({...o,...Xd(e,a,r)}),{})}n(Yd,"MappedIndexPropertyKeys");function Qd(e,t,r){return Yd(e,t.keys,r)}n(Qd,"MappedIndexProperties");function tu(e,t,r){let o=Qd(e,t,r);return O(o)}n(tu,"IndexFromMappedKey");function sr(e,t){return g({[I]:"Iterator",type:"Iterator",items:e},t)}n(sr,"Iterator");function em(e){let t=[];for(let r in e)Ie(e[r])||t.push(r);return t}n(em,"RequiredKeys");function tm(e,t){let r=em(e),o=r.length>0?{[I]:"Object",type:"object",properties:e,required:r}:{[I]:"Object",type:"object",properties:e};return g(o,t)}n(tm,"_Object");var K=tm;function Pn(e,t){return g({[I]:"Promise",type:"Promise",item:e},t)}n(Pn,"Promise");function rm(e){return g(J(e,[je]))}n(rm,"RemoveReadonly");function nm(e){return g({...e,[je]:"Readonly"})}n(nm,"AddReadonly");function om(e,t){return t===!1?rm(e):nm(e)}n(om,"ReadonlyWithFlag");function xe(e,t){let r=t!=null?t:!0;return H(e)?ru(e,r):om(e,r)}n(xe,"Readonly");function im(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=xe(e[o],t);return r}n(im,"FromProperties");function sm(e,t){return im(e.properties,t)}n(sm,"FromMappedResult");function ru(e,t){let r=sm(e,t);return O(r)}n(ru,"ReadonlyFromMappedResult");function Oe(e,t){return g(e.length>0?{[I]:"Tuple",type:"array",items:e,additionalItems:!1,minItems:e.length,maxItems:e.length}:{[I]:"Tuple",type:"array",minItems:e.length,maxItems:e.length},t)}n(Oe,"Tuple");function nu(e,t){return e in t?Ae(e,t[e]):O(t)}n(nu,"FromMappedResult");function am(e){return{[e]:R(e)}}n(am,"MappedKeyToKnownMappedResultProperties");function um(e){let t={};for(let r of e)t[r]=R(r);return t}n(um,"MappedKeyToUnknownMappedResultProperties");function lm(e,t){return ja(t,e)?am(e):um(t)}n(lm,"MappedKeyToMappedResultProperties");function cm(e,t){let r=lm(e,t);return nu(e,r)}n(cm,"FromMappedKey");function Wr(e,t){return t.map(r=>Ae(e,r))}n(Wr,"FromRest");function dm(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(t))r[o]=Ae(e,t[o]);return r}n(dm,"FromProperties");function Ae(e,t){var o;let r={...t};return Ie(t)?fe(Ae(e,J(t,[me]))):Qt(t)?xe(Ae(e,J(t,[je]))):H(t)?nu(e,t.properties):ve(t)?cm(e,t.keys):Ve(t)?rr(Wr(e,t.parameters),Ae(e,t.returns),r):We(t)?et(Wr(e,t.parameters),Ae(e,t.returns),r):Ct(t)?tr(Ae(e,t.items),r):At(t)?sr(Ae(e,t.items),r):Z(t)?_e(Wr(e,t.allOf),r):N(t)?U(Wr(e,t.anyOf),r):Le(t)?Oe(Wr(e,(o=t.items)!=null?o:[]),r):te(t)?K(dm(e,t.properties),r):Ke(t)?er(Ae(e,t.items),r):Rt(t)?Pn(Ae(e,t.item),r):t}n(Ae,"FromSchemaType");function mm(e,t){let r={};for(let o of e)r[o]=Ae(o,t);return r}n(mm,"MappedFunctionReturnType");function ou(e,t,r){let o=ke(e)?we(e):e,a=t({[I]:"MappedKey",keys:o}),u=mm(o,a);return K(u,r)}n(ou,"Mapped");function pm(e){return g(J(e,[me]))}n(pm,"RemoveOptional");function fm(e){return g({...e,[me]:"Optional"})}n(fm,"AddOptional");function _m(e,t){return t===!1?pm(e):fm(e)}n(_m,"OptionalWithFlag");function fe(e,t){let r=t!=null?t:!0;return H(e)?iu(e,r):_m(e,r)}n(fe,"Optional");function gm(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=fe(e[o],t);return r}n(gm,"FromProperties");function hm(e,t){return gm(e.properties,t)}n(hm,"FromMappedResult");function iu(e,t){let r=hm(e,t);return O(r)}n(iu,"OptionalFromMappedResult");function $r(e,t={}){let r=e.every(a=>te(a)),o=ke(t.unevaluatedProperties)?{unevaluatedProperties:t.unevaluatedProperties}:{};return g(t.unevaluatedProperties===!1||ke(t.unevaluatedProperties)||r?{...o,[I]:"Intersect",type:"object",allOf:e}:{...o,[I]:"Intersect",allOf:e},t)}n($r,"IntersectCreate");function bm(e){return e.every(t=>Ie(t))}n(bm,"IsIntersectOptional");function ym(e){return J(e,[me])}n(ym,"RemoveOptionalFromType");function su(e){return e.map(t=>Ie(t)?ym(t):t)}n(su,"RemoveOptionalFromRest");function Im(e,t){return bm(e)?fe($r(su(e),t)):$r(su(e),t)}n(Im,"ResolveIntersect");function kn(e,t={}){if(e.length===1)return g(e[0],t);if(e.length===0)return F(t);if(e.some(r=>ht(r)))throw new Error("Cannot intersect transform types");return Im(e,t)}n(kn,"IntersectEvaluated");function _e(e,t){if(e.length===1)return g(e[0],t);if(e.length===0)return F(t);if(e.some(r=>ht(r)))throw new Error("Cannot intersect transform types");return $r(e,t)}n(_e,"Intersect");function rt(...e){let[t,r]=typeof e[0]=="string"?[e[0],e[1]]:[e[0].$id,e[1]];if(typeof t!="string")throw new le("Ref: $ref must be a string");return g({[I]:"Ref",$ref:t},r)}n(rt,"Ref");function wm(e,t){return $("Awaited",[$(e,t)])}n(wm,"FromComputed");function xm(e){return $("Awaited",[rt(e)])}n(xm,"FromRef");function Sm(e){return _e(au(e))}n(Sm,"FromIntersect");function Em(e){return U(au(e))}n(Em,"FromUnion");function Tm(e){return ar(e)}n(Tm,"FromPromise");function au(e){return e.map(t=>ar(t))}n(au,"FromRest");function ar(e,t){return g(Ge(e)?wm(e.target,e.parameters):Z(e)?Sm(e.allOf):N(e)?Em(e.anyOf):Rt(e)?Tm(e.item):X(e)?xm(e.$ref):e,t)}n(ar,"Awaited");function uu(e){let t=[];for(let r of e)t.push(zr(r));return t}n(uu,"FromRest");function vm(e){let t=uu(e);return Va(t)}n(vm,"FromIntersect");function Mm(e){let t=uu(e);return Ga(t)}n(Mm,"FromUnion");function Lm(e){return e.map((t,r)=>r.toString())}n(Lm,"FromTuple");function km(e){return["[number]"]}n(km,"FromArray");function Pm(e){return globalThis.Object.getOwnPropertyNames(e)}n(Pm,"FromProperties");function Nm(e){return Fm?globalThis.Object.getOwnPropertyNames(e).map(r=>r[0]==="^"&&r[r.length-1]==="$"?r.slice(1,r.length-1):r):[]}n(Nm,"FromPatternProperties");function zr(e){var t;return Z(e)?vm(e.allOf):N(e)?Mm(e.anyOf):Le(e)?Lm((t=e.items)!=null?t:[]):Ke(e)?km(e.items):te(e)?Pm(e.properties):Ut(e)?Nm(e.patternProperties):[]}n(zr,"KeyOfPropertyKeys");var Fm=!1;function Cm(e,t){return $("KeyOf",[$(e,t)])}n(Cm,"FromComputed");function Om(e){return $("KeyOf",[rt(e)])}n(Om,"FromRef");function Am(e,t){let r=zr(e),o=Rm(r),a=tt(o);return g(a,t)}n(Am,"KeyOfFromType");function Rm(e){return e.map(t=>t==="[number]"?Ce():R(t))}n(Rm,"KeyOfPropertyKeysToRest");function ur(e,t){return Ge(e)?Cm(e.target,e.parameters):X(e)?Om(e.$ref):H(e)?lu(e,t):Am(e,t)}n(ur,"KeyOf");function Um(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=ur(e[o],z(t));return r}n(Um,"FromProperties");function Bm(e,t){return Um(e.properties,t)}n(Bm,"FromMappedResult");function lu(e,t){let r=Bm(e,t);return O(r)}n(lu,"KeyOfFromMappedResult");function Dm(e){let t=[];for(let r of e)t.push(...zr(r));return Ka(t)}n(Dm,"CompositeKeys");function jm(e){return e.filter(t=>!gt(t))}n(jm,"FilterNever");function Km(e,t){let r=[];for(let o of e)r.push(...ci(o,[t]));return jm(r)}n(Km,"CompositeProperty");function Gm(e,t){let r={};for(let o of t)r[o]=kn(Km(e,o));return r}n(Gm,"CompositeProperties");function cu(e,t){let r=Dm(e),o=Gm(e,r);return K(o,t)}n(cu,"Composite");function Nn(e){return g({[I]:"Date",type:"Date"},e)}n(Nn,"Date");function Fn(e){return g({[I]:"Null",type:"null"},e)}n(Fn,"Null");function Cn(e){return g({[I]:"Symbol",type:"symbol"},e)}n(Cn,"Symbol");function On(e){return g({[I]:"Undefined",type:"undefined"},e)}n(On,"Undefined");function An(e){return g({[I]:"Uint8Array",type:"Uint8Array"},e)}n(An,"Uint8Array");function St(e){return g({[I]:"Unknown"},e)}n(St,"Unknown");function Vm(e){return e.map(t=>di(t,!1))}n(Vm,"FromArray");function Wm(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=xe(di(e[r],!1));return t}n(Wm,"FromProperties");function Rn(e,t){return t===!0?e:xe(e)}n(Rn,"ConditionalReadonly");function di(e,t){return Bo(e)?Rn(wt(),t):jo(e)?Rn(wt(),t):Q(e)?xe(Oe(Vm(e))):lt(e)?An():Ft(e)?Nn():D(e)?Rn(K(Wm(e)),t):Do(e)?Rn(et([],St()),t):ee(e)?On():Ko(e)?Fn():Go(e)?Cn():Fr(e)?ir():Ee(e)?R(e):ut(e)?R(e):V(e)?R(e):K({})}n(di,"FromValue");function du(e,t){return g(di(e,!0),t)}n(du,"Const");function mu(e,t){return Ve(e)?Oe(e.parameters,t):F(t)}n(mu,"ConstructorParameters");function pu(e,t){if(ee(e))throw new Error("Enum undefined or empty");let r=globalThis.Object.getOwnPropertyNames(e).filter(u=>isNaN(u)).map(u=>e[u]),a=[...new Set(r)].map(u=>R(u));return U(a,{...t,[Fe]:"Enum"})}n(pu,"Enum");var bi=class bi extends le{};n(bi,"ExtendsResolverError");var pi=bi,h;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(h||(h={}));function Re(e){return e===h.False?e:h.True}n(Re,"IntoBooleanResult");function lr(e){throw new pi(e)}n(lr,"Throw");function se(e){return p.IsNever(e)||p.IsIntersect(e)||p.IsUnion(e)||p.IsUnknown(e)||p.IsAny(e)}n(se,"IsStructuralRight");function ae(e,t){return p.IsNever(t)?Iu(e,t):p.IsIntersect(t)?Un(e,t):p.IsUnion(t)?hi(e,t):p.IsUnknown(t)?Eu(e,t):p.IsAny(t)?gi(e,t):lr("StructuralRight")}n(ae,"StructuralRight");function gi(e,t){return h.True}n(gi,"FromAnyRight");function $m(e,t){return p.IsIntersect(t)?Un(e,t):p.IsUnion(t)&&t.anyOf.some(r=>p.IsAny(r)||p.IsUnknown(r))?h.True:p.IsUnion(t)?h.Union:p.IsUnknown(t)||p.IsAny(t)?h.True:h.Union}n($m,"FromAny");function zm(e,t){return p.IsUnknown(e)?h.False:p.IsAny(e)?h.Union:p.IsNever(e)?h.True:h.False}n(zm,"FromArrayRight");function Hm(e,t){return p.IsObject(t)&&Bn(t)?h.True:se(t)?ae(e,t):p.IsArray(t)?Re(G(e.items,t.items)):h.False}n(Hm,"FromArray");function qm(e,t){return se(t)?ae(e,t):p.IsAsyncIterator(t)?Re(G(e.items,t.items)):h.False}n(qm,"FromAsyncIterator");function Zm(e,t){return se(t)?ae(e,t):p.IsObject(t)?ge(e,t):p.IsRecord(t)?Ue(e,t):p.IsBigInt(t)?h.True:h.False}n(Zm,"FromBigInt");function bu(e,t){return p.IsLiteralBoolean(e)||p.IsBoolean(e)?h.True:h.False}n(bu,"FromBooleanRight");function Jm(e,t){return se(t)?ae(e,t):p.IsObject(t)?ge(e,t):p.IsRecord(t)?Ue(e,t):p.IsBoolean(t)?h.True:h.False}n(Jm,"FromBoolean");function Xm(e,t){return se(t)?ae(e,t):p.IsObject(t)?ge(e,t):p.IsConstructor(t)?e.parameters.length>t.parameters.length?h.False:e.parameters.every((r,o)=>Re(G(t.parameters[o],r))===h.True)?Re(G(e.returns,t.returns)):h.False:h.False}n(Xm,"FromConstructor");function Ym(e,t){return se(t)?ae(e,t):p.IsObject(t)?ge(e,t):p.IsRecord(t)?Ue(e,t):p.IsDate(t)?h.True:h.False}n(Ym,"FromDate");function Qm(e,t){return se(t)?ae(e,t):p.IsObject(t)?ge(e,t):p.IsFunction(t)?e.parameters.length>t.parameters.length?h.False:e.parameters.every((r,o)=>Re(G(t.parameters[o],r))===h.True)?Re(G(e.returns,t.returns)):h.False:h.False}n(Qm,"FromFunction");function yu(e,t){return p.IsLiteral(e)&&de.IsNumber(e.const)||p.IsNumber(e)||p.IsInteger(e)?h.True:h.False}n(yu,"FromIntegerRight");function ep(e,t){return p.IsInteger(t)||p.IsNumber(t)?h.True:se(t)?ae(e,t):p.IsObject(t)?ge(e,t):p.IsRecord(t)?Ue(e,t):h.False}n(ep,"FromInteger");function Un(e,t){return t.allOf.every(r=>G(e,r)===h.True)?h.True:h.False}n(Un,"FromIntersectRight");function tp(e,t){return e.allOf.some(r=>G(r,t)===h.True)?h.True:h.False}n(tp,"FromIntersect");function rp(e,t){return se(t)?ae(e,t):p.IsIterator(t)?Re(G(e.items,t.items)):h.False}n(rp,"FromIterator");function np(e,t){return p.IsLiteral(t)&&t.const===e.const?h.True:se(t)?ae(e,t):p.IsObject(t)?ge(e,t):p.IsRecord(t)?Ue(e,t):p.IsString(t)?Su(e,t):p.IsNumber(t)?wu(e,t):p.IsInteger(t)?yu(e,t):p.IsBoolean(t)?bu(e,t):h.False}n(np,"FromLiteral");function Iu(e,t){return h.False}n(Iu,"FromNeverRight");function op(e,t){return h.True}n(op,"FromNever");function fu(e){let[t,r]=[e,0];for(;p.IsNot(t);)t=t.not,r+=1;return r%2===0?t:St()}n(fu,"UnwrapTNot");function ip(e,t){return p.IsNot(e)?G(fu(e),t):p.IsNot(t)?G(e,fu(t)):lr("Invalid fallthrough for Not")}n(ip,"FromNot");function sp(e,t){return se(t)?ae(e,t):p.IsObject(t)?ge(e,t):p.IsRecord(t)?Ue(e,t):p.IsNull(t)?h.True:h.False}n(sp,"FromNull");function wu(e,t){return p.IsLiteralNumber(e)||p.IsNumber(e)||p.IsInteger(e)?h.True:h.False}n(wu,"FromNumberRight");function ap(e,t){return se(t)?ae(e,t):p.IsObject(t)?ge(e,t):p.IsRecord(t)?Ue(e,t):p.IsInteger(t)||p.IsNumber(t)?h.True:h.False}n(ap,"FromNumber");function Se(e,t){return Object.getOwnPropertyNames(e.properties).length===t}n(Se,"IsObjectPropertyCount");function _u(e){return Bn(e)}n(_u,"IsObjectStringLike");function gu(e){return Se(e,0)||Se(e,1)&&"description"in e.properties&&p.IsUnion(e.properties.description)&&e.properties.description.anyOf.length===2&&(p.IsString(e.properties.description.anyOf[0])&&p.IsUndefined(e.properties.description.anyOf[1])||p.IsString(e.properties.description.anyOf[1])&&p.IsUndefined(e.properties.description.anyOf[0]))}n(gu,"IsObjectSymbolLike");function mi(e){return Se(e,0)}n(mi,"IsObjectNumberLike");function hu(e){return Se(e,0)}n(hu,"IsObjectBooleanLike");function up(e){return Se(e,0)}n(up,"IsObjectBigIntLike");function lp(e){return Se(e,0)}n(lp,"IsObjectDateLike");function cp(e){return Bn(e)}n(cp,"IsObjectUint8ArrayLike");function dp(e){let t=Ce();return Se(e,0)||Se(e,1)&&"length"in e.properties&&Re(G(e.properties.length,t))===h.True}n(dp,"IsObjectFunctionLike");function mp(e){return Se(e,0)}n(mp,"IsObjectConstructorLike");function Bn(e){let t=Ce();return Se(e,0)||Se(e,1)&&"length"in e.properties&&Re(G(e.properties.length,t))===h.True}n(Bn,"IsObjectArrayLike");function pp(e){let t=et([wt()],wt());return Se(e,0)||Se(e,1)&&"then"in e.properties&&Re(G(e.properties.then,t))===h.True}n(pp,"IsObjectPromiseLike");function xu(e,t){return G(e,t)===h.False||p.IsOptional(e)&&!p.IsOptional(t)?h.False:h.True}n(xu,"Property");function ge(e,t){return p.IsUnknown(e)?h.False:p.IsAny(e)?h.Union:p.IsNever(e)||p.IsLiteralString(e)&&_u(t)||p.IsLiteralNumber(e)&&mi(t)||p.IsLiteralBoolean(e)&&hu(t)||p.IsSymbol(e)&&gu(t)||p.IsBigInt(e)&&up(t)||p.IsString(e)&&_u(t)||p.IsSymbol(e)&&gu(t)||p.IsNumber(e)&&mi(t)||p.IsInteger(e)&&mi(t)||p.IsBoolean(e)&&hu(t)||p.IsUint8Array(e)&&cp(t)||p.IsDate(e)&&lp(t)||p.IsConstructor(e)&&mp(t)||p.IsFunction(e)&&dp(t)?h.True:p.IsRecord(e)&&p.IsString(fi(e))?t[Fe]==="Record"?h.True:h.False:p.IsRecord(e)&&p.IsNumber(fi(e))?Se(t,0)?h.True:h.False:h.False}n(ge,"FromObjectRight");function fp(e,t){return se(t)?ae(e,t):p.IsRecord(t)?Ue(e,t):p.IsObject(t)?(()=>{for(let r of Object.getOwnPropertyNames(t.properties)){if(!(r in e.properties)&&!p.IsOptional(t.properties[r]))return h.False;if(p.IsOptional(t.properties[r]))return h.True;if(xu(e.properties[r],t.properties[r])===h.False)return h.False}return h.True})():h.False}n(fp,"FromObject");function _p(e,t){return se(t)?ae(e,t):p.IsObject(t)&&pp(t)?h.True:p.IsPromise(t)?Re(G(e.item,t.item)):h.False}n(_p,"FromPromise");function fi(e){return yt in e.patternProperties?Ce():It in e.patternProperties?He():lr("Unknown record key pattern")}n(fi,"RecordKey");function _i(e){return yt in e.patternProperties?e.patternProperties[yt]:It in e.patternProperties?e.patternProperties[It]:lr("Unable to get record value schema")}n(_i,"RecordValue");function Ue(e,t){let[r,o]=[fi(t),_i(t)];return p.IsLiteralString(e)&&p.IsNumber(r)&&Re(G(e,o))===h.True?h.True:p.IsUint8Array(e)&&p.IsNumber(r)||p.IsString(e)&&p.IsNumber(r)||p.IsArray(e)&&p.IsNumber(r)?G(e,o):p.IsObject(e)?(()=>{for(let a of Object.getOwnPropertyNames(e.properties))if(xu(o,e.properties[a])===h.False)return h.False;return h.True})():h.False}n(Ue,"FromRecordRight");function gp(e,t){return se(t)?ae(e,t):p.IsObject(t)?ge(e,t):p.IsRecord(t)?G(_i(e),_i(t)):h.False}n(gp,"FromRecord");function hp(e,t){let r=p.IsRegExp(e)?He():e,o=p.IsRegExp(t)?He():t;return G(r,o)}n(hp,"FromRegExp");function Su(e,t){return p.IsLiteral(e)&&de.IsString(e.const)||p.IsString(e)?h.True:h.False}n(Su,"FromStringRight");function bp(e,t){return se(t)?ae(e,t):p.IsObject(t)?ge(e,t):p.IsRecord(t)?Ue(e,t):p.IsString(t)?h.True:h.False}n(bp,"FromString");function yp(e,t){return se(t)?ae(e,t):p.IsObject(t)?ge(e,t):p.IsRecord(t)?Ue(e,t):p.IsSymbol(t)?h.True:h.False}n(yp,"FromSymbol");function Ip(e,t){return p.IsTemplateLiteral(e)?G(Dt(e),t):p.IsTemplateLiteral(t)?G(e,Dt(t)):lr("Invalid fallthrough for TemplateLiteral")}n(Ip,"FromTemplateLiteral");function wp(e,t){return p.IsArray(t)&&e.items!==void 0&&e.items.every(r=>G(r,t.items)===h.True)}n(wp,"IsArrayOfTuple");function xp(e,t){return p.IsNever(e)?h.True:p.IsUnknown(e)?h.False:p.IsAny(e)?h.Union:h.False}n(xp,"FromTupleRight");function Sp(e,t){return se(t)?ae(e,t):p.IsObject(t)&&Bn(t)||p.IsArray(t)&&wp(e,t)?h.True:p.IsTuple(t)?de.IsUndefined(e.items)&&!de.IsUndefined(t.items)||!de.IsUndefined(e.items)&&de.IsUndefined(t.items)?h.False:de.IsUndefined(e.items)&&!de.IsUndefined(t.items)||e.items.every((r,o)=>G(r,t.items[o])===h.True)?h.True:h.False:h.False}n(Sp,"FromTuple");function Ep(e,t){return se(t)?ae(e,t):p.IsObject(t)?ge(e,t):p.IsRecord(t)?Ue(e,t):p.IsUint8Array(t)?h.True:h.False}n(Ep,"FromUint8Array");function Tp(e,t){return se(t)?ae(e,t):p.IsObject(t)?ge(e,t):p.IsRecord(t)?Ue(e,t):p.IsVoid(t)?Lp(e,t):p.IsUndefined(t)?h.True:h.False}n(Tp,"FromUndefined");function hi(e,t){return t.anyOf.some(r=>G(e,r)===h.True)?h.True:h.False}n(hi,"FromUnionRight");function vp(e,t){return e.anyOf.every(r=>G(r,t)===h.True)?h.True:h.False}n(vp,"FromUnion");function Eu(e,t){return h.True}n(Eu,"FromUnknownRight");function Mp(e,t){return p.IsNever(t)?Iu(e,t):p.IsIntersect(t)?Un(e,t):p.IsUnion(t)?hi(e,t):p.IsAny(t)?gi(e,t):p.IsString(t)?Su(e,t):p.IsNumber(t)?wu(e,t):p.IsInteger(t)?yu(e,t):p.IsBoolean(t)?bu(e,t):p.IsArray(t)?zm(e,t):p.IsTuple(t)?xp(e,t):p.IsObject(t)?ge(e,t):p.IsUnknown(t)?h.True:h.False}n(Mp,"FromUnknown");function Lp(e,t){return p.IsUndefined(e)||p.IsUndefined(e)?h.True:h.False}n(Lp,"FromVoidRight");function kp(e,t){return p.IsIntersect(t)?Un(e,t):p.IsUnion(t)?hi(e,t):p.IsUnknown(t)?Eu(e,t):p.IsAny(t)?gi(e,t):p.IsObject(t)?ge(e,t):p.IsVoid(t)?h.True:h.False}n(kp,"FromVoid");function G(e,t){return p.IsTemplateLiteral(e)||p.IsTemplateLiteral(t)?Ip(e,t):p.IsRegExp(e)||p.IsRegExp(t)?hp(e,t):p.IsNot(e)||p.IsNot(t)?ip(e,t):p.IsAny(e)?$m(e,t):p.IsArray(e)?Hm(e,t):p.IsBigInt(e)?Zm(e,t):p.IsBoolean(e)?Jm(e,t):p.IsAsyncIterator(e)?qm(e,t):p.IsConstructor(e)?Xm(e,t):p.IsDate(e)?Ym(e,t):p.IsFunction(e)?Qm(e,t):p.IsInteger(e)?ep(e,t):p.IsIntersect(e)?tp(e,t):p.IsIterator(e)?rp(e,t):p.IsLiteral(e)?np(e,t):p.IsNever(e)?op(e,t):p.IsNull(e)?sp(e,t):p.IsNumber(e)?ap(e,t):p.IsObject(e)?fp(e,t):p.IsRecord(e)?gp(e,t):p.IsString(e)?bp(e,t):p.IsSymbol(e)?yp(e,t):p.IsTuple(e)?Sp(e,t):p.IsPromise(e)?_p(e,t):p.IsUint8Array(e)?Ep(e,t):p.IsUndefined(e)?Tp(e,t):p.IsUnion(e)?vp(e,t):p.IsUnknown(e)?Mp(e,t):p.IsVoid(e)?kp(e,t):lr(`Unknown left type operand '${e[I]}'`)}n(G,"Visit");function Et(e,t){return G(e,t)}n(Et,"ExtendsCheck");function Pp(e,t,r,o,a){let u={};for(let i of globalThis.Object.getOwnPropertyNames(e))u[i]=cr(e[i],t,r,o,z(a));return u}n(Pp,"FromProperties");function Np(e,t,r,o,a){return Pp(e.properties,t,r,o,a)}n(Np,"FromMappedResult");function Tu(e,t,r,o,a){let u=Np(e,t,r,o,a);return O(u)}n(Tu,"ExtendsFromMappedResult");function Fp(e,t,r,o){let a=Et(e,t);return a===h.Union?U([r,o]):a===h.True?r:o}n(Fp,"ExtendsResolve");function cr(e,t,r,o,a){return H(e)?Tu(e,t,r,o,a):ve(e)?g(vu(e,t,r,o,a)):g(Fp(e,t,r,o),a)}n(cr,"Extends");function Cp(e,t,r,o,a){return{[e]:cr(R(e),t,r,o,z(a))}}n(Cp,"FromPropertyKey");function Op(e,t,r,o,a){return e.reduce((u,i)=>({...u,...Cp(i,t,r,o,a)}),{})}n(Op,"FromPropertyKeys");function Ap(e,t,r,o,a){return Op(e.keys,t,r,o,a)}n(Ap,"FromMappedKey");function vu(e,t,r,o,a){let u=Ap(e,t,r,o,a);return O(u)}n(vu,"ExtendsFromMappedKey");function Mu(e,t){return dr(Dt(e),t)}n(Mu,"ExcludeFromTemplateLiteral");function Rp(e,t){let r=e.filter(o=>Et(o,t)===h.False);return r.length===1?r[0]:U(r)}n(Rp,"ExcludeRest");function dr(e,t,r={}){return Me(e)?g(Mu(e,t),r):H(e)?g(Lu(e,t),r):g(N(e)?Rp(e.anyOf,t):Et(e,t)!==h.False?F():e,r)}n(dr,"Exclude");function Up(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=dr(e[o],t);return r}n(Up,"FromProperties");function Bp(e,t){return Up(e.properties,t)}n(Bp,"FromMappedResult");function Lu(e,t){let r=Bp(e,t);return O(r)}n(Lu,"ExcludeFromMappedResult");function ku(e,t){return mr(Dt(e),t)}n(ku,"ExtractFromTemplateLiteral");function Dp(e,t){let r=e.filter(o=>Et(o,t)!==h.False);return r.length===1?r[0]:U(r)}n(Dp,"ExtractRest");function mr(e,t,r){return Me(e)?g(ku(e,t),r):H(e)?g(Pu(e,t),r):g(N(e)?Dp(e.anyOf,t):Et(e,t)!==h.False?e:F(),r)}n(mr,"Extract");function jp(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=mr(e[o],t);return r}n(jp,"FromProperties");function Kp(e,t){return jp(e.properties,t)}n(Kp,"FromMappedResult");function Pu(e,t){let r=Kp(e,t);return O(r)}n(Pu,"ExtractFromMappedResult");function Nu(e,t){return Ve(e)?g(e.returns,t):F(t)}n(Nu,"InstanceType");function Dn(e){return xe(fe(e))}n(Dn,"ReadonlyOptional");function jt(e,t,r){return g({[I]:"Record",type:"object",patternProperties:{[e]:t}},r)}n(jt,"RecordCreateFromPattern");function yi(e,t,r){let o={};for(let a of e)o[a]=t;return K(o,{...r,[Fe]:"Record"})}n(yi,"RecordCreateFromKeys");function Gp(e,t,r){return Ha(e)?yi(we(e),t,r):jt(e.pattern,t,r)}n(Gp,"FromTemplateLiteralKey");function Vp(e,t,r){return yi(we(U(e)),t,r)}n(Vp,"FromUnionKey");function Wp(e,t,r){return yi([e.toString()],t,r)}n(Wp,"FromLiteralKey");function $p(e,t,r){return jt(e.source,t,r)}n($p,"FromRegExpKey");function zp(e,t,r){let o=ee(e.pattern)?It:e.pattern;return jt(o,t,r)}n(zp,"FromStringKey");function Hp(e,t,r){return jt(It,t,r)}n(Hp,"FromAnyKey");function qp(e,t,r){return jt(Da,t,r)}n(qp,"FromNeverKey");function Zp(e,t,r){return K({true:t,false:t},r)}n(Zp,"FromBooleanKey");function Jp(e,t,r){return jt(yt,t,r)}n(Jp,"FromIntegerKey");function Xp(e,t,r){return jt(yt,t,r)}n(Xp,"FromNumberKey");function jn(e,t,r={}){return N(e)?Vp(e.anyOf,t,r):Me(e)?Gp(e,t,r):Te(e)?Wp(e.const,t,r):ct(e)?Zp(e,t,r):$e(e)?Jp(e,t,r):ze(e)?Xp(e,t,r):zo(e)?$p(e,t,r):dt(e)?zp(e,t,r):Wo(e)?Hp(e,t,r):gt(e)?qp(e,t,r):F(r)}n(jn,"Record");function Kn(e){return globalThis.Object.getOwnPropertyNames(e.patternProperties)[0]}n(Kn,"RecordPattern");function Fu(e){let t=Kn(e);return t===It?He():t===yt?Ce():He({pattern:t})}n(Fu,"RecordKey");function Gn(e){return e.patternProperties[Kn(e)]}n(Gn,"RecordValue");function Yp(e,t){return t.parameters=Hr(e,t.parameters),t.returns=qe(e,t.returns),t}n(Yp,"FromConstructor");function Qp(e,t){return t.parameters=Hr(e,t.parameters),t.returns=qe(e,t.returns),t}n(Qp,"FromFunction");function ef(e,t){return t.allOf=Hr(e,t.allOf),t}n(ef,"FromIntersect");function tf(e,t){return t.anyOf=Hr(e,t.anyOf),t}n(tf,"FromUnion");function rf(e,t){return ee(t.items)||(t.items=Hr(e,t.items)),t}n(rf,"FromTuple");function nf(e,t){return t.items=qe(e,t.items),t}n(nf,"FromArray");function of(e,t){return t.items=qe(e,t.items),t}n(of,"FromAsyncIterator");function sf(e,t){return t.items=qe(e,t.items),t}n(sf,"FromIterator");function af(e,t){return t.item=qe(e,t.item),t}n(af,"FromPromise");function uf(e,t){let r=mf(e,t.properties);return{...t,...K(r)}}n(uf,"FromObject");function lf(e,t){let r=qe(e,Fu(t)),o=qe(e,Gn(t)),a=jn(r,o);return{...t,...a}}n(lf,"FromRecord");function cf(e,t){return t.index in e?e[t.index]:St()}n(cf,"FromArgument");function df(e,t){let r=Qt(t),o=Ie(t),a=qe(e,t);return r&&o?Dn(a):r&&!o?xe(a):!r&&o?fe(a):a}n(df,"FromProperty");function mf(e,t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,o)=>({...r,[o]:df(e,t[o])}),{})}n(mf,"FromProperties");function Hr(e,t){return t.map(r=>qe(e,r))}n(Hr,"FromTypes");function qe(e,t){return Ve(t)?Yp(e,t):We(t)?Qp(e,t):Z(t)?ef(e,t):N(t)?tf(e,t):Le(t)?rf(e,t):Ke(t)?nf(e,t):Ct(t)?of(e,t):At(t)?sf(e,t):Rt(t)?af(e,t):te(t)?uf(e,t):Ut(t)?lf(e,t):$o(t)?cf(e,t):t}n(qe,"FromType");function Cu(e,t){return qe(t,Yt(e))}n(Cu,"Instantiate");function Ou(e){return g({[I]:"Integer",type:"integer"},e)}n(Ou,"Integer");function pf(e,t,r){return{[e]:Ze(R(e),t,z(r))}}n(pf,"MappedIntrinsicPropertyKey");function ff(e,t,r){return e.reduce((a,u)=>({...a,...pf(u,t,r)}),{})}n(ff,"MappedIntrinsicPropertyKeys");function _f(e,t,r){return ff(e.keys,t,r)}n(_f,"MappedIntrinsicProperties");function Au(e,t,r){let o=_f(e,t,r);return O(o)}n(Au,"IntrinsicFromMappedKey");function gf(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),r].join("")}n(gf,"ApplyUncapitalize");function hf(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),r].join("")}n(hf,"ApplyCapitalize");function bf(e){return e.toUpperCase()}n(bf,"ApplyUppercase");function yf(e){return e.toLowerCase()}n(yf,"ApplyLowercase");function If(e,t,r){let o=or(e.pattern);if(!Bt(o))return{...e,pattern:Ru(e.pattern,t)};let i=[...Vr(o)].map(c=>R(c)),s=Uu(i,t),l=U(s);return Ln([l],r)}n(If,"FromTemplateLiteral");function Ru(e,t){return typeof e=="string"?t==="Uncapitalize"?gf(e):t==="Capitalize"?hf(e):t==="Uppercase"?bf(e):t==="Lowercase"?yf(e):e:e.toString()}n(Ru,"FromLiteralValue");function Uu(e,t){return e.map(r=>Ze(r,t))}n(Uu,"FromRest");function Ze(e,t,r={}){return ve(e)?Au(e,t,r):Me(e)?If(e,t,r):N(e)?U(Uu(e.anyOf,t),r):Te(e)?R(Ru(e.const,t),r):g(e,r)}n(Ze,"Intrinsic");function Bu(e,t={}){return Ze(e,"Capitalize",t)}n(Bu,"Capitalize");function Du(e,t={}){return Ze(e,"Lowercase",t)}n(Du,"Lowercase");function ju(e,t={}){return Ze(e,"Uncapitalize",t)}n(ju,"Uncapitalize");function Ku(e,t={}){return Ze(e,"Uppercase",t)}n(Ku,"Uppercase");function wf(e,t,r){let o={};for(let a of globalThis.Object.getOwnPropertyNames(e))o[a]=Tt(e[a],t,z(r));return o}n(wf,"FromProperties");function xf(e,t,r){return wf(e.properties,t,r)}n(xf,"FromMappedResult");function Gu(e,t,r){let o=xf(e,t,r);return O(o)}n(Gu,"OmitFromMappedResult");function Sf(e,t){return e.map(r=>Ii(r,t))}n(Sf,"FromIntersect");function Ef(e,t){return e.map(r=>Ii(r,t))}n(Ef,"FromUnion");function Tf(e,t){let{[t]:r,...o}=e;return o}n(Tf,"FromProperty");function vf(e,t){return t.reduce((r,o)=>Tf(r,o),e)}n(vf,"FromProperties");function Mf(e,t){let r=J(e,[ie,"$id","required","properties"]),o=vf(e.properties,t);return K(o,r)}n(Mf,"FromObject");function Lf(e){let t=e.reduce((r,o)=>Sn(o)?[...r,R(o)]:r,[]);return U(t)}n(Lf,"UnionFromPropertyKeys");function Ii(e,t){return Z(e)?_e(Sf(e.allOf,t)):N(e)?U(Ef(e.anyOf,t)):te(e)?Mf(e,t):K({})}n(Ii,"OmitResolve");function Tt(e,t,r){let o=Q(t)?Lf(t):t,a=ke(t)?we(t):t,u=X(e),i=X(t);return H(e)?Gu(e,a,r):ve(t)?Vu(e,t,r):u&&i?$("Omit",[e,o],r):!u&&i?$("Omit",[e,o],r):u&&!i?$("Omit",[e,o],r):g({...Ii(e,a),...r})}n(Tt,"Omit");function kf(e,t,r){return{[t]:Tt(e,[t],z(r))}}n(kf,"FromPropertyKey");function Pf(e,t,r){return t.reduce((o,a)=>({...o,...kf(e,a,r)}),{})}n(Pf,"FromPropertyKeys");function Nf(e,t,r){return Pf(e,t.keys,r)}n(Nf,"FromMappedKey");function Vu(e,t,r){let o=Nf(e,t,r);return O(o)}n(Vu,"OmitFromMappedKey");function Ff(e,t,r){let o={};for(let a of globalThis.Object.getOwnPropertyNames(e))o[a]=vt(e[a],t,z(r));return o}n(Ff,"FromProperties");function Cf(e,t,r){return Ff(e.properties,t,r)}n(Cf,"FromMappedResult");function Wu(e,t,r){let o=Cf(e,t,r);return O(o)}n(Wu,"PickFromMappedResult");function Of(e,t){return e.map(r=>wi(r,t))}n(Of,"FromIntersect");function Af(e,t){return e.map(r=>wi(r,t))}n(Af,"FromUnion");function Rf(e,t){let r={};for(let o of t)o in e&&(r[o]=e[o]);return r}n(Rf,"FromProperties");function Uf(e,t){let r=J(e,[ie,"$id","required","properties"]),o=Rf(e.properties,t);return K(o,r)}n(Uf,"FromObject");function Bf(e){let t=e.reduce((r,o)=>Sn(o)?[...r,R(o)]:r,[]);return U(t)}n(Bf,"UnionFromPropertyKeys");function wi(e,t){return Z(e)?_e(Of(e.allOf,t)):N(e)?U(Af(e.anyOf,t)):te(e)?Uf(e,t):K({})}n(wi,"PickResolve");function vt(e,t,r){let o=Q(t)?Bf(t):t,a=ke(t)?we(t):t,u=X(e),i=X(t);return H(e)?Wu(e,a,r):ve(t)?$u(e,t,r):u&&i?$("Pick",[e,o],r):!u&&i?$("Pick",[e,o],r):u&&!i?$("Pick",[e,o],r):g({...wi(e,a),...r})}n(vt,"Pick");function Df(e,t,r){return{[t]:vt(e,[t],z(r))}}n(Df,"FromPropertyKey");function jf(e,t,r){return t.reduce((o,a)=>({...o,...Df(e,a,r)}),{})}n(jf,"FromPropertyKeys");function Kf(e,t,r){return jf(e,t.keys,r)}n(Kf,"FromMappedKey");function $u(e,t,r){let o=Kf(e,t,r);return O(o)}n($u,"PickFromMappedKey");function Gf(e,t){return $("Partial",[$(e,t)])}n(Gf,"FromComputed");function Vf(e){return $("Partial",[rt(e)])}n(Vf,"FromRef");function Wf(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=fe(e[r]);return t}n(Wf,"FromProperties");function $f(e){let t=J(e,[ie,"$id","required","properties"]),r=Wf(e.properties);return K(r,t)}n($f,"FromObject");function zu(e){return e.map(t=>Hu(t))}n(zu,"FromRest");function Hu(e){return Ge(e)?Gf(e.target,e.parameters):X(e)?Vf(e.$ref):Z(e)?_e(zu(e.allOf)):N(e)?U(zu(e.anyOf)):te(e)?$f(e):Ot(e)||ct(e)||$e(e)||Te(e)||Ar(e)||ze(e)||dt(e)||Rr(e)||Ur(e)?e:K({})}n(Hu,"PartialResolve");function pr(e,t){return H(e)?qu(e,t):g({...Hu(e),...t})}n(pr,"Partial");function zf(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=pr(e[o],z(t));return r}n(zf,"FromProperties");function Hf(e,t){return zf(e.properties,t)}n(Hf,"FromMappedResult");function qu(e,t){let r=Hf(e,t);return O(r)}n(qu,"PartialFromMappedResult");function qf(e,t){return $("Required",[$(e,t)])}n(qf,"FromComputed");function Zf(e){return $("Required",[rt(e)])}n(Zf,"FromRef");function Jf(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=J(e[r],[me]);return t}n(Jf,"FromProperties");function Xf(e){let t=J(e,[ie,"$id","required","properties"]),r=Jf(e.properties);return K(r,t)}n(Xf,"FromObject");function Zu(e){return e.map(t=>Ju(t))}n(Zu,"FromRest");function Ju(e){return Ge(e)?qf(e.target,e.parameters):X(e)?Zf(e.$ref):Z(e)?_e(Zu(e.allOf)):N(e)?U(Zu(e.anyOf)):te(e)?Xf(e):Ot(e)||ct(e)||$e(e)||Te(e)||Ar(e)||ze(e)||dt(e)||Rr(e)||Ur(e)?e:K({})}n(Ju,"RequiredResolve");function fr(e,t){return H(e)?Xu(e,t):g({...Ju(e),...t})}n(fr,"Required");function Yf(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=fr(e[o],t);return r}n(Yf,"FromProperties");function Qf(e,t){return Yf(e.properties,t)}n(Qf,"FromMappedResult");function Xu(e,t){let r=Qf(e,t);return O(r)}n(Xu,"RequiredFromMappedResult");function e_(e,t){return t.map(r=>X(r)?xi(e,r.$ref):Pe(e,r))}n(e_,"DereferenceParameters");function xi(e,t){return t in e?X(e[t])?xi(e,e[t].$ref):Pe(e,e[t]):F()}n(xi,"Dereference");function t_(e){return ar(e[0])}n(t_,"FromAwaited");function r_(e){return xt(e[0],e[1])}n(r_,"FromIndex");function n_(e){return ur(e[0])}n(n_,"FromKeyOf");function o_(e){return pr(e[0])}n(o_,"FromPartial");function i_(e){return Tt(e[0],e[1])}n(i_,"FromOmit");function s_(e){return vt(e[0],e[1])}n(s_,"FromPick");function a_(e){return fr(e[0])}n(a_,"FromRequired");function u_(e,t,r){let o=e_(e,r);return t==="Awaited"?t_(o):t==="Index"?r_(o):t==="KeyOf"?n_(o):t==="Partial"?o_(o):t==="Omit"?i_(o):t==="Pick"?s_(o):t==="Required"?a_(o):F()}n(u_,"FromComputed");function l_(e,t){return er(Pe(e,t))}n(l_,"FromArray");function c_(e,t){return tr(Pe(e,t))}n(c_,"FromAsyncIterator");function d_(e,t,r){return rr(qr(e,t),Pe(e,r))}n(d_,"FromConstructor");function m_(e,t,r){return et(qr(e,t),Pe(e,r))}n(m_,"FromFunction");function p_(e,t){return _e(qr(e,t))}n(p_,"FromIntersect");function f_(e,t){return sr(Pe(e,t))}n(f_,"FromIterator");function __(e,t){return K(globalThis.Object.keys(t).reduce((r,o)=>({...r,[o]:Pe(e,t[o])}),{}))}n(__,"FromObject");function g_(e,t){let[r,o]=[Pe(e,Gn(t)),Kn(t)],a=Yt(t);return a.patternProperties[o]=r,a}n(g_,"FromRecord");function h_(e,t){return X(t)?{...xi(e,t.$ref),[ie]:t[ie]}:t}n(h_,"FromTransform");function b_(e,t){return Oe(qr(e,t))}n(b_,"FromTuple");function y_(e,t){return U(qr(e,t))}n(y_,"FromUnion");function qr(e,t){return t.map(r=>Pe(e,r))}n(qr,"FromTypes");function Pe(e,t){return Ie(t)?g(Pe(e,J(t,[me])),t):Qt(t)?g(Pe(e,J(t,[je])),t):ht(t)?g(h_(e,t),t):Ke(t)?g(l_(e,t.items),t):Ct(t)?g(c_(e,t.items),t):Ge(t)?g(u_(e,t.target,t.parameters)):Ve(t)?g(d_(e,t.parameters,t.returns),t):We(t)?g(m_(e,t.parameters,t.returns),t):Z(t)?g(p_(e,t.allOf),t):At(t)?g(f_(e,t.items),t):te(t)?g(__(e,t.properties),t):Ut(t)?g(g_(e,t)):Le(t)?g(b_(e,t.items||[]),t):N(t)?g(y_(e,t.anyOf),t):t}n(Pe,"FromType");function I_(e,t){return t in e?Pe(e,e[t]):F()}n(I_,"ComputeType");function Yu(e){return globalThis.Object.getOwnPropertyNames(e).reduce((t,r)=>({...t,[r]:I_(e,r)}),{})}n(Yu,"ComputeModuleProperties");var Ei=class Ei{constructor(t){let r=Yu(t),o=this.WithIdentifiers(r);this.$defs=o}Import(t,r){let o={...this.$defs,[t]:g(this.$defs[t],r)};return g({[I]:"Import",$defs:o,$ref:t})}WithIdentifiers(t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,o)=>({...r,[o]:{...t[o],$id:o}}),{})}};n(Ei,"TModule");var Si=Ei;function Qu(e){return new Si(e)}n(Qu,"Module");function el(e,t){return g({[I]:"Not",not:e},t)}n(el,"Not");function tl(e,t){return We(e)?Oe(e.parameters,t):F()}n(tl,"Parameters");var w_=0;function rl(e,t={}){ee(t.$id)&&(t.$id=`T${w_++}`);let r=Yt(e({[I]:"This",$ref:`${t.$id}`}));return r.$id=t.$id,g({[Fe]:"Recursive",...r},t)}n(rl,"Recursive");function nl(e,t){let r=V(e)?new globalThis.RegExp(e):e;return g({[I]:"RegExp",type:"RegExp",source:r.source,flags:r.flags},t)}n(nl,"RegExp");function x_(e){var t;return Z(e)?e.allOf:N(e)?e.anyOf:Le(e)?(t=e.items)!=null?t:[]:[]}n(x_,"RestResolve");function ol(e){return x_(e)}n(ol,"Rest");function il(e,t){return We(e)?g(e.returns,t):F(t)}n(il,"ReturnType");var Mi=class Mi{constructor(t){this.schema=t}Decode(t){return new vi(this.schema,t)}};n(Mi,"TransformDecodeBuilder");var Ti=Mi,Li=class Li{constructor(t,r){this.schema=t,this.decode=r}EncodeTransform(t,r){let u={Encode:n(i=>r[ie].Encode(t(i)),"Encode"),Decode:n(i=>this.decode(r[ie].Decode(i)),"Decode")};return{...r,[ie]:u}}EncodeSchema(t,r){let o={Decode:this.decode,Encode:t};return{...r,[ie]:o}}Encode(t){return ht(this.schema)?this.EncodeTransform(t,this.schema):this.EncodeSchema(t,this.schema)}};n(Li,"TransformEncodeBuilder");var vi=Li;function sl(e){return new Ti(e)}n(sl,"Transform");function al(e={}){var t;return g({[I]:(t=e[I])!=null?t:"Unsafe"},e)}n(al,"Unsafe");function ul(e){return g({[I]:"Void",type:"void"},e)}n(ul,"Void");var ki={};on(ki,{Any:()=>wt,Argument:()=>Wa,Array:()=>er,AsyncIterator:()=>tr,Awaited:()=>ar,BigInt:()=>ir,Boolean:()=>Mn,Capitalize:()=>Bu,Composite:()=>cu,Const:()=>du,Constructor:()=>rr,ConstructorParameters:()=>mu,Date:()=>Nn,Enum:()=>pu,Exclude:()=>dr,Extends:()=>cr,Extract:()=>mr,Function:()=>et,Index:()=>xt,InstanceType:()=>Nu,Instantiate:()=>Cu,Integer:()=>Ou,Intersect:()=>_e,Iterator:()=>sr,KeyOf:()=>ur,Literal:()=>R,Lowercase:()=>Du,Mapped:()=>ou,Module:()=>Qu,Never:()=>F,Not:()=>el,Null:()=>Fn,Number:()=>Ce,Object:()=>K,Omit:()=>Tt,Optional:()=>fe,Parameters:()=>tl,Partial:()=>pr,Pick:()=>vt,Promise:()=>Pn,Readonly:()=>xe,ReadonlyOptional:()=>Dn,Record:()=>jn,Recursive:()=>rl,Ref:()=>rt,RegExp:()=>nl,Required:()=>fr,Rest:()=>ol,ReturnType:()=>il,String:()=>He,Symbol:()=>Cn,TemplateLiteral:()=>Ln,Transform:()=>sl,Tuple:()=>Oe,Uint8Array:()=>An,Uncapitalize:()=>ju,Undefined:()=>On,Union:()=>U,Unknown:()=>St,Unsafe:()=>al,Uppercase:()=>Ku,Void:()=>ul});var nt=ki;var S_=500,zP=8192-S_;var E_=nt.Object({relativePath:nt.Optional(nt.String()),uri:nt.String(),source:nt.String(),languageId:nt.String()}),HP=nt.Intersect([E_,nt.Object({offset:nt.Number()})]);var dl=require("fs"),Wn=sn(require("path")),$n=sn(ll());var cl={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c_sharp",java:"java"};function ml(e){if(!(e in cl))throw new Error(`Unrecognized language: ${e}`);return cl[e]}n(ml,"languageIdToWasmLanguage");var Ni=new Map;async function M_(e){let t,r=Wn.default.resolve(Wn.default.extname(__filename)!==".ts"?__dirname:Wn.default.resolve(__dirname,"../../dist"),`tree-sitter-${e}.wasm`);try{t=await dl.promises.readFile(r)}catch(o){throw o instanceof Error&&"code"in o&&typeof o.code=="string"&&o.name==="Error"?new ft(`Could not load tree-sitter-${e}.wasm`,o):o}return $n.default.Language.load(t)}n(M_,"loadWasmLanguage");function L_(e){let t=ml(e);if(!Ni.has(t)){let r=M_(t);Ni.set(t,r)}return Ni.get(t)}n(L_,"getLanguage");var Ci=class Ci extends Error{constructor(r,o){super(r);this.cause=o}};n(Ci,"WrappedError");var Fi=Ci;async function Zr(e,t){await $n.default.init();let r;try{r=new $n.default}catch(u){throw u&&typeof u=="object"&&"message"in u&&typeof u.message=="string"&&u.message.includes("table index is out of bounds")?new Fi(`Could not init Parse for language <${e}>`,u):u}let o=await L_(e);r.setLanguage(o);let a=r.parse(t);return r.delete(),a}n(Zr,"parseTreeSitter");function k_(e,t){let r=[];for(let o of e){if(!o[1]){let a=t.tree.getLanguage();o[1]=a.query(o[0])}r.push(...o[1].matches(t))}return r}n(k_,"innerQuery");var P_=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function pl(e){return k_([P_],e).length==1}n(pl,"queryPythonIsDocstring");var Oi=class Oi{constructor(t,r,o){this.languageId=t;this.nodeMatch=r;this.nodeTypesWithBlockOrStmtChild=o}async getNodeMatchAtPosition(t,r,o){let a=await Zr(this.languageId,t);try{let i=a.rootNode.descendantForIndex(r);for(;i;){let s=this.nodeMatch[i.type];if(s){if(!this.nodeTypesWithBlockOrStmtChild.has(i.type))break;let l=this.nodeTypesWithBlockOrStmtChild.get(i.type),c=l==""?i.namedChildren[0]:i.childForFieldName(l);if((c==null?void 0:c.type)==s)break}i=i.parent}return i?o(i):void 0}finally{a.delete()}}getNextBlockAtPosition(t,r,o){return this.getNodeMatchAtPosition(t,r,a=>{let u=a.children.reverse().find(i=>i.type==this.nodeMatch[a.type]);if(u){if(this.languageId=="python"&&u.parent){let i=u.parent.type==":"?u.parent.parent:u.parent,s=i==null?void 0:i.nextSibling;for(;s&&s.type=="comment";){let l=s.startPosition.row==u.endPosition.row&&s.startPosition.column>=u.endPosition.column,c=s.startPosition.row>i.endPosition.row&&s.startPosition.column>i.startPosition.column;if(l||c)u=s,s=s.nextSibling;else break}}if(!(u.endIndex>=u.tree.rootNode.endIndex-1&&(u.hasError()||u.parent.hasError())))return o(u)}})}async isBlockBodyFinished(t,r,o){let a=(t+r).trimEnd(),u=await this.getNextBlockAtPosition(a,o,i=>i.endIndex);if(u!==void 0&&u<a.length){let i=u-t.length;return i>0?i:void 0}}getNodeStart(t,r){let o=t.trimEnd();return this.getNodeMatchAtPosition(o,r,a=>a.startIndex)}};n(Oi,"BaseBlockParser");var zn=Oi,Ai=class Ai extends zn{constructor(r,o,a,u,i){super(r,u,i);this.blockEmptyMatch=o;this.lineMatch=a}isBlockStart(r){return this.lineMatch.test(r.trimStart())}async isBlockBodyEmpty(r,o){let a=await this.getNextBlockAtPosition(r,o,u=>{u.startIndex<o&&(o=u.startIndex);let i=r.substring(o,u.endIndex).trim();return i==""||i.replace(/\s/g,"")==this.blockEmptyMatch});return a===void 0||a}async isEmptyBlockStart(r,o){return o=_l(r,o),this.isBlockStart(N_(r,o))&&this.isBlockBodyEmpty(r,o)}};n(Ai,"RegexBasedBlockParser");var Hn=Ai;function N_(e,t){let r=e.lastIndexOf(`
`,t-1),o=e.indexOf(`
`,t);return o<0&&(o=e.length),e.slice(r+1,o)}n(N_,"getLineAtOffset");function _l(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}n(_l,"rewindToNearestNonWs");function fl(e,t){let r=e.startIndex,o=e.startIndex-e.startPosition.column,a=t.substring(o,r);if(/^\s*$/.test(a))return a}n(fl,"indent");function F_(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let o=fl(e,r),a=fl(t,r);return o!==void 0&&a!==void 0&&o.startsWith(a)}n(F_,"outdented");var Ri=class Ri extends zn{constructor(r,o,a,u,i,s,l){super(r,o,a);this.startKeywords=u;this.blockNodeType=i;this.emptyStatementType=s;this.curlyBraceLanguage=l}isBlockEmpty(r,o){var u,i;let a=r.text.trim();return this.curlyBraceLanguage&&(a.startsWith("{")&&(a=a.slice(1)),a.endsWith("}")&&(a=a.slice(0,-1)),a=a.trim()),!!(a.length==0||this.languageId=="python"&&(((u=r.parent)==null?void 0:u.type)=="class_definition"||((i=r.parent)==null?void 0:i.type)=="function_definition")&&r.children.length==1&&pl(r.parent))}async isEmptyBlockStart(r,o){var u,i,s,l;if(o>r.length)throw new RangeError("Invalid offset");for(let c=o;c<r.length&&r.charAt(c)!=`
`;c++)if(/\S/.test(r.charAt(c)))return!1;o=_l(r,o);let a=await Zr(this.languageId,r);try{let c=a.rootNode.descendantForIndex(o-1);if(c==null||this.curlyBraceLanguage&&c.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&c.parent&&c.parent.type=="object"&&c.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let b=c;for(;b.parent;){if(b.type=="function_signature"||b.type=="method_signature"){let y=c.nextSibling;return y&&b.hasError()&&F_(b,y,r)?!0:!b.children.find(w=>w.type==";")&&b.endIndex<=o}b=b.parent}}let d=null,m=null,f=null,_=c;for(;_!=null;){if(_.type==this.blockNodeType){m=_;break}if(this.nodeMatch[_.type]){f=_;break}if(_.type=="ERROR"){d=_;break}_=_.parent}if(m!=null){if(!m.parent||!this.nodeMatch[m.parent.type])return!1;if(this.languageId=="python"){let b=m.previousSibling;if(b!=null&&b.hasError()&&(b.text.startsWith('"""')||b.text.startsWith("'''")))return!0}return this.isBlockEmpty(m,o)}if(d!=null){if(((u=d.previousSibling)==null?void 0:u.type)=="module"||((i=d.previousSibling)==null?void 0:i.type)=="internal_module"||((s=d.previousSibling)==null?void 0:s.type)=="def")return!0;let b=[...d.children].reverse(),y=b.find(w=>this.startKeywords.includes(w.type)),x=b.find(w=>w.type==this.blockNodeType);if(y){switch(this.languageId){case"python":{y.type=="try"&&c.type=="identifier"&&c.text.length>4&&(x=(l=b.find(T=>T.hasError()))==null?void 0:l.children.find(T=>T.type=="block"));let w,L=0;for(let T of d.children){if(T.type==":"&&L==0){w=T;break}T.type=="("&&(L+=1),T.type==")"&&(L-=1)}if(w&&y.endIndex<=w.startIndex&&w.nextSibling){if(y.type=="def"){let T=w.nextSibling;if(T.type=='"'||T.type=="'"||T.type=="ERROR"&&(T.text=='"""'||T.text=="'''"))return!0}return!1}break}case"javascript":{let w=b.find(M=>M.type=="formal_parameters");if(y.type=="class"&&w)return!0;let L=b.find(M=>M.type=="{");if(L&&L.startIndex>y.endIndex&&L.nextSibling!=null||b.find(M=>M.type=="do")&&y.type=="while"||y.type=="=>"&&y.nextSibling&&y.nextSibling.type!="{")return!1;break}case"typescript":{let w=b.find(T=>T.type=="{");if(w&&w.startIndex>y.endIndex&&w.nextSibling!=null||b.find(T=>T.type=="do")&&y.type=="while"||y.type=="=>"&&y.nextSibling&&y.nextSibling.type!="{")return!1;break}}return x&&x.startIndex>y.endIndex?this.isBlockEmpty(x,o):!0}}if(f!=null){let b=this.nodeMatch[f.type],y=f.children.slice().reverse().find(x=>x.type==b);if(y)return this.isBlockEmpty(y,o);if(this.nodeTypesWithBlockOrStmtChild.has(f.type)){let x=this.nodeTypesWithBlockOrStmtChild.get(f.type),w=x==""?f.children[0]:f.childForFieldName(x);if(w&&w.type!=this.blockNodeType&&w.type!=this.emptyStatementType)return!1}return!0}return!1}finally{a.delete()}}};n(Ri,"TreeSitterBasedBlockParser");var Mt=Ri,mF={python:new Mt("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new Mt("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new Mt("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new Mt("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new Hn("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new Hn("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),c_sharp:new Mt("csharp",{},new Map([]),[],"block",null,!0),java:new Mt("java",{},new Map([]),[],"block",null,!0)};var Di=class Di{constructor(t){this.keys=[];this.cache={};this.size=t}put(t,r){var o;if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let a=(o=this.keys.shift())!=null?o:"";delete this.cache[a]}}get(t){return this.cache[t]}};n(Di,"FifoCache");var Ui=Di;var ji=class ji{constructor(t){var r;this.stopsForLanguage=(r=R_.get(t.languageId))!=null?r:A_}tokenize(t){return new Set(C_(t).filter(r=>!this.stopsForLanguage.has(r)))}};n(ji,"Tokenizer");var Bi=ji,gl=new Ui(20),Ki=class Ki{constructor(t){this.referenceDoc=t,this.tokenizer=new Bi(t)}get referenceTokens(){return this.createReferenceTokens()}async createReferenceTokens(){var t;return(t=this.referenceTokensCache)!=null?t:this.referenceTokensCache=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((o,a)=>o.score>a.score?1:-1):r=="descending"?t.sort((o,a)=>o.score>a.score?-1:1):t}async retrieveAllSnippets(t,r="descending"){var c;let o=[];if(t.source.length===0||(await this.referenceTokens).size===0)return o;let a=t.source.split(`
`),u=this.id()+":"+t.source,i=(c=gl.get(u))!=null?c:[],s=i.length==0,l=s?a.map(d=>this.tokenizer.tokenize(d),this.tokenizer):[];for(let[d,[m,f]]of this.getWindowsDelineations(a).entries()){if(s){let y=new Set;l.slice(m,f).forEach(x=>x.forEach(w=>y.add(w),y)),i.push(y)}let _=i[d],b=this.similarityScore(_,await this.referenceTokens);if(o.length&&m>0&&o[o.length-1].endLine>m){o[o.length-1].score<b&&(o[o.length-1].score=b,o[o.length-1].startLine=m,o[o.length-1].endLine=f);continue}o.push({score:b,startLine:m,endLine:f})}return s&&gl.put(u,i),this.sortScoredSnippets(o,r)}findMatches(t,r){return this.findBestMatch(t,r)}async findBestMatch(t,r){if(t.source.length===0||(await this.referenceTokens).size===0)return[];let o=t.source.split(`
`),a=await this.retrieveAllSnippets(t,"descending");if(a.length===0)return[];let u=[];for(let i=0;i<a.length&&i<r;i++)if(a[i].score!==0){let s=o.slice(a[i].startLine,a[i].endLine).join(`
`);u.push({snippet:s,semantics:"snippet",provider:"similar-files",...a[i]})}return u}};n(Ki,"WindowedMatcher");var _r=Ki;function C_(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}n(C_,"splitIntoWords");var O_=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),A_=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...O_]),R_=new Map([]);function qn(e,t){let r=[],o=t.length;if(o==0)return[];if(o<e)return[[0,o]];for(let a=0;a<o-e+1;a++)r.push([a,a+e]);return r}n(qn,"getBasicWindowDelineations");var Jr=class Jr extends _r{constructor(t,r){super(t),this.windowLength=r}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return qn(this.windowLength,t)}_getCursorContextInfo(t){return qt(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return U_(t,r)}};n(Jr,"FixedWindowSizeJaccardMatcher"),Jr.FACTORY=n(t=>({to:n(r=>new Jr(r,t),"to")}),"FACTORY");var Zn=Jr;function U_(e,t){let r=new Set;return e.forEach(o=>{t.has(o)&&r.add(o)}),r.size/(e.size+t.size-r.size)}n(U_,"computeScore");var Lt=class Lt extends _r{constructor(t,r){super(t),this.windowLength=r}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return qn(this.windowLength,t)}_getCursorContextInfo(t){return qt(t,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=Lt.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){var a;let t=(a=await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))==null?void 0:a.startIndex,r=this.referenceDoc.offset,o=t?this.referenceDoc.source.slice(t,r):qt(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(o)}static syntaxAwareSupportsLanguage(t){switch(t){case"csharp":return!0;default:return!1}}similarityScore(t,r){return B_(t,r)}async getEnclosingMemberStart(t,r){var a;let o;try{o=await Zr(this.referenceDoc.languageId,t);let u=o.rootNode.namedDescendantForIndex(r);for(;u&&!(Lt.isMember(u)||Lt.isBlock(u));)u=(a=u.parent)!=null?a:void 0;return u}finally{o==null||o.delete()}}static isMember(t){switch(t==null?void 0:t.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(t){switch(t==null?void 0:t.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};n(Lt,"BlockTokenSubsetMatcher"),Lt.FACTORY=n(t=>({to:n(r=>new Lt(r,t),"to")}),"FACTORY");var Jn=Lt;function B_(e,t){let r=new Set;return t.forEach(o=>{e.has(o)&&r.add(o)}),r.size}n(B_,"computeScore");function D_(e,t){return(t.useSubsetMatching?Jn.FACTORY(t.snippetLength):Zn.FACTORY(t.snippetLength)).to(e)}n(D_,"getMatcher");async function hl(e,t,r){let o=D_(e,r);return r.maxTopSnippets===0?[]:(await t.filter(u=>u.source.length<r.maxCharPerFile&&u.source.length>0).slice(0,r.maxNumberOfFiles).reduce(async(u,i)=>(await u).concat((await o.findMatches(i,r.maxSnippetsPerFile)).map(s=>({relativePath:i.relativePath,...s}))),Promise.resolve([]))).filter(u=>u.score&&u.snippet&&u.score>r.threshold).sort((u,i)=>u.score-i.score).slice(-r.maxTopSnippets)}n(hl,"getSimilarSnippets");var no=sn(require("path")),it=require("worker_threads");function Ql(e){return new Promise(t=>{setTimeout(()=>t(`delay: ${e}`),e)})}n(Ql,"sleep");var cs=["getSimilarSnippets","sleep"],ds=class ds{constructor(){this.nextHandlerId=0;this.handlers=new Map;this.fns=new Map;this.getSimilarSnippets=hl;this.sleep=Ql;var t;!it.isMainThread&&((t=it.workerData)!=null&&t.port)&&(Yl(),process.cwd=()=>it.workerData.cwd,this.configureWorkerResponse(it.workerData.port))}initWorker(){let{port1:t,port2:r}=new it.MessageChannel;this.port=t,this.worker=new it.Worker(no.default.resolve(no.default.extname(__filename)!==".ts"?__dirname:no.default.resolve(__dirname,"../../dist"),"workerProxy.js"),{workerData:{port:r,cwd:process.cwd()},transferList:[r]}),this.port.on("message",o=>this.handleMessage(o)),this.port.on("error",o=>this.handleError(o))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(let t of cs)this.fns.set(t,this[t]),this.proxy(t)}unproxyFunctions(){for(let t of cs){let r=this.fns.get(t);if(r)this[t]=r;else throw new Error(`Unproxy function not found: ${t}`)}}configureWorkerResponse(t){this.port=t,this.port.on("message",r=>void this.onMessage(r))}async onMessage({id:t,fn:r,args:o}){let a=this[r];if(!a)throw new Error(`Function not found: ${r}`);try{let u=await a.apply(this,o);this.port.postMessage({id:t,res:u})}catch(u){if(!(u instanceof Error))throw u;typeof u.code=="string"?this.port.postMessage({id:t,err:u,code:u.code}):this.port.postMessage({id:t,err:u})}}handleMessage({id:t,err:r,code:o,res:a}){let u=this.handlers.get(t);u&&(this.handlers.delete(t),r?(r.code=o,u.reject(r)):u.resolve(a))}handleError(t){var o;let r;if(t instanceof Error){r=t,r.code==="MODULE_NOT_FOUND"&&((o=r.message)!=null&&o.endsWith("workerProxy.js'"))&&(r=new ft("Failed to load workerProxy.js"));let a=new Error().stack;r.stack&&(a!=null&&a.match(/^Error\n/))&&(r.stack+=a.replace(/^Error/,""))}else t&&typeof t=="object"&&"name"in t&&t.name==="ExitStatus"&&"status"in t&&typeof t.status=="number"?(r=new Error(`workerProxy.js exited with status ${t.status}`),r.code=`CopilotPromptWorkerExit${t.status}`):r=new Error(`Non-error thrown: ${JSON.stringify(t)}`);for(let a of this.handlers.values())a.reject(r);throw r}proxy(t){this[t]=function(...r){let o=this.nextHandlerId++;return new Promise((a,u)=>{var i;this.handlers.set(o,{resolve:a,reject:u}),(i=this.port)==null||i.postMessage({id:o,fn:t,args:r})})}}};n(ds,"WorkerProxy");var rn=ds,Vn=new rn,Eg=n(()=>{Vn.stopThreading(),Vn=new rn},"reset");0&&(module.exports={WorkerProxy,reset,sleep,workerFns,workerProxy});
//# sourceMappingURL=workerProxy.js.map
